{
  int nrfields=wReturn.nrNonEmpty();
  inf.allocate(nrfields);
  inf.setDbNameOverride(wDbNameOverride.getText());
  log.logDebug(toString(),Messages.getString("PGBulkLoaderDialog.Log.FoundFields","" + nrfields));
  for (int i=0; i < nrfields; i++) {
    TableItem item=wReturn.getNonEmpty(i);
    inf.getFieldTable()[i]=item.getText(1);
    inf.getFieldStream()[i]=item.getText(2);
    if (Messages.getString("PGBulkLoaderDialog.PassThrough.Label").equals(item.getText(3)))     inf.getDateMask()[i]=PGBulkLoaderMeta.DATE_MASK_PASS_THROUGH;
 else     if (Messages.getString("PGBulkLoaderDialog.DateMask.Label").equals(item.getText(3)))     inf.getDateMask()[i]=PGBulkLoaderMeta.DATE_MASK_DATE;
 else     if (Messages.getString("PGBulkLoaderDialog.DateTimeMask.Label").equals(item.getText(3)))     inf.getDateMask()[i]=PGBulkLoaderMeta.DATE_MASK_DATETIME;
 else     inf.getDateMask()[i]="";
  }
  inf.setSchemaName(wSchema.getText());
  inf.setTableName(wTable.getText());
  inf.setDatabaseMeta(transMeta.findDatabase(wConnection.getText()));
  inf.setPsqlpath(wPsqlPath.getText());
  inf.setDelimiter(wEnclosure.getText());
  inf.setEnclosure(wDelimiter.getText());
  String action=wLoadAction.getText();
  if (Messages.getString("PGBulkLoaderDialog.InsertLoadAction.Label").equals(action)) {
    inf.setLoadAction(PGBulkLoaderMeta.ACTION_INSERT);
  }
 else   if (Messages.getString("PGBulkLoaderDialog.TruncateLoadAction.Label").equals(action)) {
    inf.setLoadAction(PGBulkLoaderMeta.ACTION_TRUNCATE);
  }
 else {
    log.logDebug(toString(),"Internal error: load_action set to default 'insert', value found '" + action + "'.");
    inf.setLoadAction(PGBulkLoaderMeta.ACTION_INSERT);
  }
  stepname=wStepname.getText();
}
