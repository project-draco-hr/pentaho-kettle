{
  if (getStepMeta().isDoingErrorHandling()) {
    int lastLogLine=CentralLogStore.getLastBufferLineNr();
    StringBuffer logText=CentralLogStore.getAppender().getBuffer(data.mappingTrans.getLogChannelId(),false,data.lastLogLine);
    data.lastLogLine=lastLogLine;
    for (    Object[] row : data.errorBuffer) {
      putError(getInputRowMeta(),row,1L,logText.toString(),null,"STR-001");
    }
    data.executor.clearError();
    return true;
  }
 else {
    setErrors(1);
    stopAll();
    logError(BaseMessages.getString(PKG,"SingleThreader.Log.ErrorOccurredInSubTransformation"));
    return false;
  }
}
