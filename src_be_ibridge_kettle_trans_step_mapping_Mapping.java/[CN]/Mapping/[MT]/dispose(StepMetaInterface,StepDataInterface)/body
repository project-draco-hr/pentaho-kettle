{
  if (data.trans != null) {
    data.trans.waitUntilFinished();
    try {
      data.trans.endProcessing("end");
    }
 catch (    KettleException e) {
      log.logError(toString(),Messages.getString("Mapping.Log.UnableToLogEndOfTransformation") + e.toString());
    }
    if (data.trans.getErrors() > 0) {
      logError(Messages.getString("Mapping.Log.ErrorOccurredInSubTransformation"));
      setErrors(1);
    }
  }
  super.dispose(smi,sdi);
}
