{
  meta=(MappingMeta)smi;
  data=(MappingData)sdi;
  if (super.init(smi,sdi)) {
    if (meta.getMappingTransMeta() != null) {
      LogWriter log=LogWriter.getInstance();
      data.trans=new Trans(log,meta.getMappingTransMeta());
      data.trans.execute(getTrans().getTransMeta().getArguments());
      data.mappingInput=data.trans.findMappingInput();
      if (data.mappingInput == null) {
        logError(Messages.getString("Mapping.Log.CouldNotFindMappingInputStep"));
        return false;
      }
      data.mappingOutput=data.trans.findMappingOutput();
      if (data.mappingOutput == null) {
        logError(Messages.getString("Mapping.Log.CouldNotFindMappingInputStep2"));
        return false;
      }
      data.mappingOutput.setConnectorStep(this);
      data.mappingOutput.setOutputField(meta.getOutputField());
      data.mappingOutput.setOutputMapping(meta.getOutputMapping());
    }
    return true;
  }
  return false;
}
