{
  List<StepInterface> result;
  if (!Utils.isEmpty(outputDefinition.getOutputStepname())) {
    result=getTrans().findStepInterfaces(outputDefinition.getOutputStepname());
    if (Utils.isEmpty(result)) {
      throw new KettleException(BaseMessages.getString(PKG,"MappingDialog.Exception.StepNameNotFound",outputDefinition.getOutputStepname()));
    }
  }
 else {
    List<StepMeta> nextSteps=getTransMeta().findNextSteps(getStepMeta());
    result=new ArrayList<StepInterface>();
    for (    StepMeta nextStep : nextSteps) {
      List<StepInterface> copies=getTrans().findStepInterfaces(nextStep.getName());
      if (copies != null) {
        result.addAll(copies);
      }
    }
  }
  return result.toArray(new StepInterface[result.size()]);
}
