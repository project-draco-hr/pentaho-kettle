{
  MessageBox box=new MessageBox(Spoon.getInstance().getShell(),SWT.ICON_QUESTION | SWT.YES | SWT.NO);
  box.setText(BaseMessages.getString(PKG,"MarketplacesDialog.RestartUpdate.Title"));
  box.setMessage(BaseMessages.getString(PKG,"MarketplacesDialog.RestartUpdate.Message"));
  int i=box.open();
  if ((i & SWT.YES) != 0) {
    Spoon.getInstance().dispose();
    return;
  }
  PluginRegistry.init();
  Spoon spoon=Spoon.getInstance();
  spoon.refreshCoreObjects();
  spoon.refreshTree();
  spoon.refreshGraph();
  spoon.enableMenus();
  GUIResource.getInstance().reload();
  spoon.selectionFilter.setText(spoon.selectionFilter.getText());
}
