{
  try {
    uninstall(new MarketEntry("market",MarketEntryType.Mixed),monitorDialog);
    Spoon.getInstance().getDisplay().asyncExec(new Runnable(){
      public void run(){
        try {
          MessageBox box=new MessageBox(Spoon.getInstance().getShell(),SWT.ICON_WARNING | SWT.OK);
          box.setText(BaseMessages.getString(PKG,"MarketplacesDialog.RestartUninstall.Title"));
          box.setMessage(BaseMessages.getString(PKG,"MarketplacesDialog.RestartUninstall.Message"));
          box.open();
        }
  finally {
          if (Market.class.getClassLoader() instanceof KettleURLClassLoader) {
            ((KettleURLClassLoader)Market.class.getClassLoader()).closeClassLoader();
          }
          path.delete();
        }
      }
    }
);
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
}
