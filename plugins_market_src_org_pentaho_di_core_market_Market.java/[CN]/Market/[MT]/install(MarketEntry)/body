{
  String parentFolderName=buildPluginsFolderPath(marketEntry);
  File pluginFolder=new File(parentFolderName + File.separator + marketEntry.getId());
  LogChannel.GENERAL.logBasic("Installing plugin in folder: " + pluginFolder.getAbsolutePath());
  if (pluginFolder.exists()) {
    MessageBox mb=new MessageBox(Spoon.getInstance().getShell(),SWT.NO | SWT.YES | SWT.ICON_WARNING);
    mb.setMessage(BaseMessages.getString(PKG,"Marketplace.Dialog.PromptOverwritePlugin.Message",pluginFolder.getAbsolutePath()));
    mb.setText(BaseMessages.getString(PKG,"Marketplace.Dialog.PromptOverwritePlugin.Title"));
    int answer=SWT.NO;
    answer=mb.open();
    if (answer == SWT.YES) {
      ClassLoader cl=PluginRegistry.getInstance().getClassLoader(getPluginObject(marketEntry.getId()));
      if (cl instanceof KettleURLClassLoader) {
        ((KettleURLClassLoader)cl).closeClassLoader();
      }
      deleteDirectory(pluginFolder);
      unzipMarketEntry(parentFolderName,marketEntry.getPackageUrl());
      refreshSpoon();
    }
  }
 else {
    unzipMarketEntry(parentFolderName,marketEntry.getPackageUrl());
    refreshSpoon();
  }
}
