{
  Object oRC=new Object();
switch (ArgList.length) {
case 0:
    throw Context.reportRuntimeError("Please provide an valid Date to the Function.");
case 1:
  try {
    if (isNull(ArgList))     return null;
 else     if (isUndefined(ArgList))     return Context.getUndefinedValue();
    java.util.Date dArg1=(java.util.Date)Context.toType(ArgList[0],java.util.Date.class);
    if (dArg1.equals(null))     return null;
    Format dfFormatter=new SimpleDateFormat();
    oRC=dfFormatter.format(dArg1);
  }
 catch (  Exception e) {
    throw Context.reportRuntimeError("Could not convert to local format.");
  }
break;
case 2:
try {
if (isNull(ArgList,new int[]{0,1})) return null;
 else if (isUndefined(ArgList,new int[]{0,1})) return Context.getUndefinedValue();
java.util.Date dArg1=(java.util.Date)Context.toType(ArgList[0],java.util.Date.class);
String sArg2=Context.toString(ArgList[1]);
Format dfFormatter=new SimpleDateFormat(sArg2);
oRC=dfFormatter.format(dArg1);
}
 catch (Exception e) {
throw Context.reportRuntimeError("Could not convert to the given format.");
}
break;
case 3:
try {
if (isNull(ArgList,new int[]{0,1,2})) return null;
 else if (isUndefined(ArgList,new int[]{0,1,2})) return Context.getUndefinedValue();
java.util.Date dArg1=(java.util.Date)Context.toType(ArgList[0],java.util.Date.class);
Format dfFormatter;
String sArg2=Context.toString(ArgList[1]);
String sArg3=Context.toString(ArgList[2]);
if (sArg3.length() == 2) {
Locale dfLocale=new Locale(sArg3.toLowerCase());
dfFormatter=new SimpleDateFormat(sArg2,dfLocale);
oRC=dfFormatter.format(dArg1);
}
 else {
throw Context.reportRuntimeError("");
}
}
 catch (Exception e) {
throw Context.reportRuntimeError("Could not convert to the given local format.");
}
break;
default :
throw Context.reportRuntimeError("The function call date2str is not valid");
}
return oRC;
}
