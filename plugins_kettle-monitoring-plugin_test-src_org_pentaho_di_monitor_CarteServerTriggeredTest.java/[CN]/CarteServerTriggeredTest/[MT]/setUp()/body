{
  super.setUp();
  SlaveServer slaveServer=new SlaveServer(TEST_HOSTNAME + ":" + TEST_PORT,TEST_HOSTNAME,TEST_PORT,null,null);
  serverConfig=new SlaveServerConfig(slaveServer);
  serverConfig.setPasswordFile(TEST_CARTE_CREDENTIALS_FILE);
  carteLauncher=new CarteLauncher(serverConfig);
  carteThread=new Thread(carteLauncher);
  monitorStartup=new DummyMonitor();
  monitorShutdown=new DummyMonitor();
  mockPluginCarteStartup=new MockPlugin(monitorStartup,new String[]{KettleExtensionPoint.CarteStartup.id},KettleExtensionPoint.CarteStartup.name());
  mockPluginCarteShutdown=new MockPlugin(monitorShutdown,new String[]{KettleExtensionPoint.CarteShutdown.id},KettleExtensionPoint.CarteShutdown.name());
  PluginRegistry.getInstance().registerPlugin(ExtensionPointPluginType.class,mockPluginCarteStartup);
  PluginRegistry.getInstance().registerPlugin(ExtensionPointPluginType.class,mockPluginCarteShutdown);
}
