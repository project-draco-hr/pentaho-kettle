{
  Properties properties=new Properties();
  for (int i=0; i < license.size(); i++) {
    License lic=(License)license.get(i);
    setUsername(properties,lic.getUserName(),i + 1);
    setCompany(properties,lic.getCompany(),i + 1);
    setProducts(properties,lic.getProducts(),i + 1);
    setMACAddress(properties,lic.getMacAddress(),i + 1);
    setSignature(properties,lic.getLicenseCode(),i + 1);
  }
  String filename=getLicensesFilename();
  File file=new File(filename);
  file.renameTo(new File("old" + filename));
  try {
    properties.store(new FileOutputStream(new File(filename)),"Kettle licences");
  }
 catch (  FileNotFoundException e) {
    LogWriter.getInstance().logError("Licenses","License file not found : " + e.toString());
  }
catch (  IOException e) {
    LogWriter.getInstance().logError("Licenses","Unable to save license file : " + e.toString());
  }
}
