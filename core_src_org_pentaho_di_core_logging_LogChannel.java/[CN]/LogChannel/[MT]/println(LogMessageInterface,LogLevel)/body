{
  String subject=null;
  LogLevel logLevel=logMessage.getLevel();
  if (!logLevel.isVisible(channelLogLevel)) {
    return;
  }
  if (subject == null)   subject="Kettle";
  if (!logLevel.isError() && !Const.isEmpty(filter)) {
    if (subject.indexOf(filter) < 0 && logMessage.toString().indexOf(filter) < 0) {
      return;
    }
  }
  if (channelLogLevel.getLevel() >= logLevel.getLevel()) {
    LoggingEvent loggingEvent=new LoggingEvent(logMessage,System.currentTimeMillis(),logLevel);
    CentralLogStore.getAppender().addLogggingEvent(loggingEvent);
  }
}
