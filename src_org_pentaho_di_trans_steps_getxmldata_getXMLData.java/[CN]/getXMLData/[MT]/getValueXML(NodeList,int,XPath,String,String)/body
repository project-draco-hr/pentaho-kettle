{
  String valueNode=null;
  try {
    Node widgetNode=widgetNodes.item(itFileInputXML_1);
    if (element_type.equals("node")) {
      Node resultNode=(Node)xpath.evaluate(xpathvalue,widgetNode,XPathConstants.NODE);
      if (resultNode != null)       valueNode=XMLHandler.getNodeValue(resultNode);
    }
 else {
      NamedNodeMap attributes=widgetNode.getAttributes();
      if (attributes != null) {
        Node namedItem=widgetNode.getAttributes().getNamedItem(xpathvalue);
        if (namedItem != null) {
          valueNode=XMLHandler.getNodeValue(namedItem);
        }
      }
    }
  }
 catch (  Exception e) {
    log.logError(toString(),e.toString());
    throw new KettleStepException(e.toString());
  }
  return valueNode;
}
