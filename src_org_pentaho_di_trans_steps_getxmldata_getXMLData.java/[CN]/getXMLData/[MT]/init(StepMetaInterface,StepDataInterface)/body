{
  meta=(getXMLDataMeta)smi;
  data=(getXMLDataData)sdi;
  if (super.init(smi,sdi)) {
    if (!meta.getIsInFields()) {
      data.files=meta.getFiles(this);
      if (data.files.nrOfFiles() == 0 && data.files.nrOfMissingFiles() == 0) {
        logError(Messages.getString("getXMLData.Log.NoFiles"));
        return false;
      }
      try {
        handleMissingFiles();
        data.outputRowMeta=new RowMeta();
        meta.getFields(data.outputRowMeta,getStepname(),null,null,this);
        data.convertRowMeta=data.outputRowMeta.clone();
        for (int i=0; i < data.convertRowMeta.size(); i++)         data.convertRowMeta.getValueMeta(i).setType(ValueMetaInterface.TYPE_STRING);
        data.convertRowMeta=data.outputRowMeta.clone();
        for (int i=0; i < data.convertRowMeta.size(); i++) {
          data.convertRowMeta.getValueMeta(i).setType(ValueMetaInterface.TYPE_STRING);
        }
      }
 catch (      Exception e) {
        logError("Error initializing step: " + e.toString());
        logError(Const.getStackTracker(e));
        return false;
      }
    }
    data.rownr=1L;
    data.nrInputFields=meta.getInputFields().length;
    data.PathValue=environmentSubstitute(meta.getLoopXPath());
    if (!data.PathValue.substring(0,1).equals("/"))     data.PathValue="/" + data.PathValue;
    if (log.isDetailed())     log.logDetailed(toString(),Messages.getString("getXMLData.Log.LoopXPath",data.PathValue));
    return true;
  }
  return false;
}
