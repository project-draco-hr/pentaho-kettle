{
  DatabaseConnectionMap map=DatabaseConnectionMap.getInstance();
  List<Database> databaseList=new ArrayList<Database>(map.getMap().values());
  for (  Database database : databaseList) {
    if (database.getConnectionGroup().equals(getThreadName())) {
      try {
        database.closeConnectionOnly();
        map.removeConnection(database.getConnectionGroup(),database.getPartitionId(),database);
      }
 catch (      Exception e) {
        log.logError(BaseMessages.getString(PKG,"Trans.Exception.ErrorHandlingTransformationTransaction",database.toString()),e);
        result.setNrErrors(result.getNrErrors() + 1);
      }
    }
  }
}
