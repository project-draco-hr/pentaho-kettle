{
  try {
    if (rep != null) {
      RepositoryDirectory repdir=rep.getDirectoryTree().findDirectory(dirname);
      if (repdir != null) {
        this.transMeta=new TransMeta(rep,name,repdir,false);
      }
 else {
        throw new KettleException(Messages.getString("Trans.Exception.UnableToLoadTransformation",name,dirname));
      }
    }
 else {
      this.transMeta=new TransMeta(filename,false);
    }
    initializeVariablesFrom(parentVariableSpace);
  }
 catch (  KettleException e) {
    throw new KettleException(Messages.getString("Trans.Exception.UnableToOpenTransformation",name),e);
  }
}
