{
  SwtXulLoader loader=new SwtXulLoader();
  loader.registerClassLoader(getClass().getClassLoader());
  loader.setSettingsManager(XulSpoonSettingsManager.getInstance());
  loader.setOuterContext(parentShell);
  container=loader.loadXul(xulFile,new XulSpoonResourceBundle(getClassForMessages()));
  bf.setDocument(container.getDocumentRoot());
  for (  XulEventHandler h : getEventHandlers()) {
    container.addEventHandler(h);
  }
  runner=new SwtXulRunner();
  runner.addContainer(container);
  xulDialog=(XulDialog)container.getDocumentRoot().getRootElement();
  dialogShell=(Shell)xulDialog.getRootObject();
  runner.initialize();
}
