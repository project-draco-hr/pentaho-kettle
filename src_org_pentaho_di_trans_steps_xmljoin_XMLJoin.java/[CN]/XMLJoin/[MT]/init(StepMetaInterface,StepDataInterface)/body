{
  meta=(XMLJoinMeta)smi;
  data=(XMLJoinData)sdi;
  if (!super.init(smi,sdi))   return false;
  try {
    setSerializer(TransformerFactory.newInstance().newTransformer());
    if (meta.getEncoding() != null) {
      getSerializer().setOutputProperty(OutputKeys.ENCODING,meta.getEncoding());
    }
    if (meta.isOmitXMLHeader()) {
      getSerializer().setOutputProperty(OutputKeys.OMIT_XML_DECLARATION,"yes");
    }
    this.setSafeModeEnabled(false);
    for (int i=0; i < inputRowSets.size(); i++) {
      RowSet rs=(RowSet)inputRowSets.get(i);
      if (rs.getOriginStepName().equalsIgnoreCase(meta.getTargetXMLstep())) {
        RowSet zero=(RowSet)inputRowSets.get(0);
        inputRowSets.set(0,rs);
        inputRowSets.set(i,zero);
      }
    }
  }
 catch (  Exception e) {
    return false;
  }
  return true;
}
