{
  Row row=new Row();
  if (stepMeta == null)   return row;
  log.logDebug(toString(),Messages.getString("TransMeta.Log.FromStepALookingAtPreviousStep") + stepMeta.getName() + ", looking at "+ findNrPrevSteps(stepMeta)+ " prev. steps.");
  for (int i=0; i < findNrPrevSteps(stepMeta); i++) {
    StepMeta prevStepMeta=findPrevStep(stepMeta,i);
    if (monitor != null) {
      monitor.subTask(Messages.getString("TransMeta.Monitor.CheckingStepTask.Title") + prevStepMeta.getName() + "]");
    }
    Row add=getStepFields(prevStepMeta,monitor);
    if (add == null)     add=new Row();
    log.logDebug(toString(),Messages.getString("TransMeta.Log.FoundFieldsToAdd") + add.toString());
    if (i == 0) {
      row.addRow(add);
    }
 else {
      for (int x=0; x < add.size(); x++) {
        Value v=add.getValue(x);
        Value s=row.searchValue(v.getName());
        if (s == null) {
          row.addValue(v);
        }
      }
    }
  }
  return getThisStepFields(stepMeta,row,monitor);
}
