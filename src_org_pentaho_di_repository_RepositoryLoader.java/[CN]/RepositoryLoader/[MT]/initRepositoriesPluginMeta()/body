{
synchronized (RepositoryLoader.getInstance()) {
    try {
      ConfigManager<?> repositoriesAnntCfg=KettleConfig.getInstance().getManager("repositories-annotation-config");
      Collection<RepositoryPluginMeta> mainRepositories=repositoriesAnntCfg.loadAs(RepositoryPluginMeta.class);
      pluginMetaList.addAll(mainRepositories);
      ConfigManager<?> repositoriesConfigManager=KettleConfig.getInstance().getManager("repositories-xml-config");
      Collection<RepositoryPluginMeta> repositories=repositoriesConfigManager.loadAs(RepositoryPluginMeta.class);
      pluginMetaList.addAll(repositories);
    }
 catch (    KettleConfigException e) {
      throw new KettleException("There was an unexpected error while reading the step plugin metadata",e);
    }
  }
}
