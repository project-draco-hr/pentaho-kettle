{
  boolean retval=false;
  String LocalFullFilename=localDirectory + Const.FILE_SEPARATOR + filename;
  if (afterftpput.equals("delete_file")) {
    new File(LocalFullFilename).delete();
    retval=true;
    if (log.isDetailed())     log.logDetailed(toString(),Messages.getString("JobSSH2PUT.Log.DeletedFile",filename));
  }
 else   if (afterftpput.equals("move_file")) {
    FileObject destination=null;
    FileObject source=null;
    try {
      destination=KettleVFS.getFileObject(destinationFolder + Const.FILE_SEPARATOR + filename);
      source=KettleVFS.getFileObject(LocalFullFilename);
      source.moveTo(destination);
      retval=true;
    }
 catch (    Exception e) {
      log.logError(toString(),Messages.getString("JobSSH2PUT.Cant_Move_File.Label",filename,destinationFolder,e.getMessage()));
    }
 finally {
      if (destination != null) {
        try {
          destination.close();
        }
 catch (        Exception ex) {
        }
        ;
      }
      if (source != null) {
        try {
          source.close();
        }
 catch (        Exception ex) {
        }
        ;
      }
    }
    if (log.isDetailed())     log.logDetailed(toString(),Messages.getString("JobSSH2PUT.Log.MovedFile",filename,ftpDirectory));
  }
  return retval;
}
