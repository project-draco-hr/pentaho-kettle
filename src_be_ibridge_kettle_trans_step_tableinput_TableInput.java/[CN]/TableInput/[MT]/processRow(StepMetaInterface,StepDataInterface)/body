{
  if (first) {
    first=false;
    if (meta.getInfoSteps() != null) {
      logDetailed("Reading query parameters from stream [" + meta.getLookupStepname() + "]");
      readStartDate();
      logDetailed("Query parameters found = " + data.parameters.toString());
    }
    data.rs=data.db.openQuery(meta.getSQL(),data.parameters);
    if (data.rs == null) {
      logError("Couldn't open Query [" + meta.getSQL() + "]");
      setErrors(1);
      stopAll();
      return false;
    }
    data.thisrow=data.db.getRow(data.rs);
    if (data.thisrow != null) {
      linesInput++;
      data.nextrow=data.db.getRow(data.rs);
      if (data.nextrow != null)       linesInput++;
    }
  }
 else {
    if (data.thisrow != null) {
      data.nextrow=data.db.getRow(data.rs);
      if (data.nextrow != null)       linesInput++;
    }
  }
  if (data.thisrow == null) {
    setOutputDone();
    return false;
  }
  putRow(data.thisrow);
  data.thisrow=data.nextrow;
  if ((linesInput > 0) && (linesInput % Const.ROWS_UPDATE) == 0)   logBasic("linenr " + linesInput);
  return true;
}
