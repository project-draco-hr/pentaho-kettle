{
  File file=new File(url);
  if (file.exists())   return file.toURI().toURL();
  URL resource=Thread.currentThread().getContextClassLoader().getResource(url);
  if (resource == null)   resource=XulHelper.class.getResource(url);
  if (resource == null)   throw new KettleException(org.pentaho.di.spoon.Messages.getString("Spoon.Exception.XULFileNotFound.Message",url));
  URLConnection conn=resource.openConnection();
  if (conn instanceof HttpURLConnection && ((HttpURLConnection)conn).getResponseCode() == HttpURLConnection.HTTP_NOT_FOUND)   throw new KettleException(org.pentaho.di.spoon.Messages.getString("Spoon.Exception.XULFileNotFound.Message",url));
  return resource;
}
