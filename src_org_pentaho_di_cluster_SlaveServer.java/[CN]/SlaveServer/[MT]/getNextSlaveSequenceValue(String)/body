{
  try {
    String xml=execService(NextSequenceValueServlet.CONTEXT_PATH + "/?name=" + URLEncoder.encode(slaveSequenceName,"UTF-8"));
    Document doc=XMLHandler.loadXMLString(xml);
    Node seqNode=XMLHandler.getSubNode(doc,NextSequenceValueServlet.XML_TAG);
    String nextValueString=XMLHandler.getTagValue(seqNode,NextSequenceValueServlet.XML_TAG_VALUE);
    String incrementString=XMLHandler.getTagValue(seqNode,NextSequenceValueServlet.XML_TAG_INCREMENT);
    String errorString=XMLHandler.getTagValue(seqNode,NextSequenceValueServlet.XML_TAG_ERROR);
    if (!Const.isEmpty(errorString)) {
      throw new KettleException(errorString);
    }
    if (Const.isEmpty(nextValueString)) {
      throw new KettleException("No value retrieved from slave sequence '" + slaveSequenceName + "' on slave "+ toString());
    }
    long nextValue=Const.toLong(nextValueString,Long.MIN_VALUE);
    if (nextValue == Long.MIN_VALUE) {
      throw new KettleException("Incorrect value '" + nextValueString + "' retrieved from slave sequence '"+ slaveSequenceName+ "' on slave "+ toString());
    }
    long increment=Const.toLong(incrementString,Long.MIN_VALUE);
    if (increment == Long.MIN_VALUE) {
      throw new KettleException("Incorrect increment '" + incrementString + "' retrieved from slave sequence '"+ slaveSequenceName+ "' on slave "+ toString());
    }
    return new SlaveSequenceValueRange(nextValue,increment);
  }
 catch (  Exception e) {
    throw new KettleException("There was a problem retrieving a next sequence value from slave sequence '" + slaveSequenceName + "' on slave "+ toString(),e);
  }
}
