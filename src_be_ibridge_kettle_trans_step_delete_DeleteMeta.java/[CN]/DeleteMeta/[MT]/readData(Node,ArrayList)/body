{
  try {
    String csize;
    int nrkeys;
    String con=XMLHandler.getTagValue(stepnode,"connection");
    database=Const.findDatabase(databases,con);
    csize=XMLHandler.getTagValue(stepnode,"commit");
    commitSize=Const.toInt(csize,0);
    tableName=XMLHandler.getTagValue(stepnode,"lookup","table");
    Node lookup=XMLHandler.getSubNode(stepnode,"lookup");
    nrkeys=XMLHandler.countNodes(lookup,"key");
    allocate(nrkeys);
    for (int i=0; i < nrkeys; i++) {
      Node knode=XMLHandler.getSubNodeByNr(lookup,"key",i);
      keyStream[i]=XMLHandler.getTagValue(knode,"name");
      keyLookup[i]=XMLHandler.getTagValue(knode,"field");
      keyCondition[i]=XMLHandler.getTagValue(knode,"condition");
      if (keyCondition[i] == null)       keyCondition[i]="=";
      keyStream2[i]=XMLHandler.getTagValue(knode,"name2");
    }
  }
 catch (  Exception e) {
    throw new KettleXMLException("Unable to read step information from XML",e);
  }
}
