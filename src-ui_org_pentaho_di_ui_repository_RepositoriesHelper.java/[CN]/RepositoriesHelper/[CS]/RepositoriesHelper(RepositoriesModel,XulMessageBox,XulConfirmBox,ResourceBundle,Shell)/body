{
  this.props=PropsUI.getInstance();
  this.input=new RepositoriesMeta();
  this.repository=null;
  this.model=model;
  this.messageBox=messagebox;
  this.confirmBox=confirmBox;
  this.messages=messages;
  this.shell=shell;
  log=new LogChannel("RepositoriesHelper");
  try {
    this.input.readData();
    List<RepositoryMeta> repositoryList=new ArrayList<RepositoryMeta>();
    for (int i=0; i < this.input.nrRepositories(); i++) {
      repositoryList.add(this.input.getRepository(i));
    }
    model.setAvailableRepositories(repositoryList);
  }
 catch (  Exception e) {
    log.logDetailed("Error Reading Repositories Data: " + e.getLocalizedMessage());
    messageBox.setTitle(messages.getString("Dialog.Error"));
    messageBox.setAcceptLabel(messages.getString("Dialog.Ok"));
    messageBox.setMessage(BaseMessages.getString(PKG,"RepositoryLogin.ErrorReadingRepositoryDefinitions",e.getLocalizedMessage()));
    messageBox.open();
  }
}
