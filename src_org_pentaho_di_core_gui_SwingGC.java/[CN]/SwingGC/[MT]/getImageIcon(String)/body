{
  try {
    ImageIcon imageIcon=new javax.swing.ImageIcon(fileName);
    if (imageIcon.getIconHeight() < 0) {
      imageIcon=new javax.swing.ImageIcon("/" + fileName);
    }
    if (imageIcon.getIconHeight() < 0) {
      InputStream inputStream=getClass().getResourceAsStream(fileName);
      if (inputStream == null) {
        inputStream=getClass().getResourceAsStream("/" + fileName);
      }
      if (inputStream == null) {
        throw new KettleException("Unable to load image from file : '" + fileName + "'");
      }
      BufferedImage image=ImageIO.read(inputStream);
      inputStream.close();
      return image;
    }
    return imageIcon.getImage();
  }
 catch (  Throwable e) {
    throw new KettleException("Unable to load image from file : '" + fileName + "'",e);
  }
}
