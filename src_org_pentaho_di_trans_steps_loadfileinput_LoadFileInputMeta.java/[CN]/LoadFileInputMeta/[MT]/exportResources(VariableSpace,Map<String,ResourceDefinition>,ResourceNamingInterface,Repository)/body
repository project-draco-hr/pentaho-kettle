{
  try {
    if (!fileinfield) {
      for (int i=0; i < fileName.length; i++) {
        FileObject fileObject=KettleVFS.getFileObject(space.environmentSubstitute(fileName[i]),space);
        String prefix;
        String path;
        if (Const.isEmpty(fileMask[i])) {
          prefix=fileObject.getName().getBaseName();
          path=fileObject.getParent().getName().getPath();
        }
 else {
          prefix="";
          path=fileObject.getName().getPath();
        }
        fileName[i]=resourceNamingInterface.nameResource(prefix,path,space.toString(),FileNamingType.DATA_FILE);
      }
    }
    return null;
  }
 catch (  Exception e) {
    throw new KettleException(e);
  }
}
