{
  XulMessages xulMessages=new XulMessages();
  try {
    File xulFile=new File(XUL_FILE_MENUBAR);
    if (xulFile.exists()) {
      Document doc=XMLHandler.loadXMLFile(xulFile);
      toolbar=MenuHelper.createToolbarFromXul(doc,shell,xulMessages,this);
    }
 else {
      throw new KettleException(Messages.getString("Spoon.Exception.XULFileNotFound.Message",XUL_FILE_MENUBAR));
    }
  }
 catch (  Throwable t) {
    log.logError(toString(),Const.getStackTracker(t));
    new ErrorDialog(shell,Messages.getString("Spoon.Exception.ErrorReadingXULFile.Title"),Messages.getString("Spoon.Exception.ErrorReadingXULFile.Message",XUL_FILE_MENUBAR),new Exception(t));
  }
}
