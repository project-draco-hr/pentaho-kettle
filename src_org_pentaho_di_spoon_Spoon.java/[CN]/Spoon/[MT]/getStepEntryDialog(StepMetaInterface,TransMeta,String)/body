{
  String dialogClassName=stepMeta.getDialogClassName();
  try {
    Class<?> dialogClass;
    Class<?>[] paramClasses=new Class[]{Shell.class,Object.class,TransMeta.class,String.class};
    Object[] paramArgs=new Object[]{shell,stepMeta,transMeta,stepName};
    Constructor<?> dialogConstructor;
    dialogClass=Class.forName(dialogClassName);
    dialogConstructor=dialogClass.getConstructor(paramClasses);
    return (StepDialogInterface)dialogConstructor.newInstance(paramArgs);
  }
 catch (  Throwable t) {
    log.logError("Could not create dialog for " + dialogClassName,t.getMessage());
  }
  return null;
}
