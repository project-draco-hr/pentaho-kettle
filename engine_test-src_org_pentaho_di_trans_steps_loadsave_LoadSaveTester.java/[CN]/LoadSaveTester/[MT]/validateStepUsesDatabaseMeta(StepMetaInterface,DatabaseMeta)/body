{
  DatabaseMeta[] usedConnections=metaToSave.getUsedDatabaseConnections();
  if (usedConnections == null || usedConnections.length <= 0) {
    throw new KettleException("The step did not report any used database connections.");
  }
  if (!Arrays.asList(usedConnections).contains(dbMeta)) {
    throw new KettleException("The step did not report this DatabaseMeta as used");
  }
}
