{
  String subject=null;
  int printLogLevel=filteredLogLevel;
  LoggingObjectInterface loggingObject=registry.getLoggingObject(logMessage.getLogChannelId());
  if (loggingObject != null) {
    if (loggingObject.getLogLevel() != LogWriter.LOG_LEVEL_DEFAULT) {
      printLogLevel=loggingObject.getLogLevel();
      subject=loggingObject.getObjectName();
    }
  }
  if (printLogLevel == LOG_LEVEL_NOTHING)   return;
  int logLevel=logMessage.getLevel();
  if (printLogLevel < logLevel)   return;
  if (subject == null)   subject="Kettle";
  if (logLevel != LOG_LEVEL_ERROR && !Const.isEmpty(filter)) {
    if (subject.indexOf(filter) < 0 && logMessage.toString().indexOf(filter) < 0) {
      return;
    }
  }
switch (logLevel) {
case LOG_LEVEL_ERROR:
    pentahoLogger.error(logMessage);
  break;
case LOG_LEVEL_ROWLEVEL:
case LOG_LEVEL_DEBUG:
pentahoLogger.debug(logMessage);
break;
default :
pentahoLogger.info(logMessage);
break;
}
}
