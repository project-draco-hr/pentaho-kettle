{
  try {
    int tabIndex=wTabFolder.getSelectionIndex();
    TableView tv;
switch (tabIndex) {
case 0:
      tv=wFields;
    break;
case 1:
  tv=wRemove;
break;
case 2:
tv=wMeta;
break;
default :
tv=wFields;
break;
}
int i, count;
Row r=transMeta.getPrevStepFields(stepname);
if (r != null) {
Table table=tv.table;
count=table.getItemCount();
for (i=0; i < r.size(); i++) {
Value v=r.getValue(i);
TableItem ti=new TableItem(table,SWT.NONE);
ti.setText(0,"" + (count + i + 1));
ti.setText(1,v.getName());
if (tabIndex == 2) {
ti.setText(3,Value.getTypeDesc(Value.VALUE_TYPE_NONE));
if (v.getLength() >= 0) ti.setText(4,"" + v.getLength());
if (v.getPrecision() >= 0) ti.setText(5,"" + v.getPrecision());
}
}
tv.removeEmptyRows();
tv.setRowNums();
tv.optWidth(true);
}
}
 catch (KettleException ke) {
new ErrorDialog(shell,Messages.getString("SelectValuesDialog.FailedToGetFields.DialogTitle"),Messages.getString("SelectValuesDialog.FailedToGetFields.DialogMessage"),ke);
}
}
