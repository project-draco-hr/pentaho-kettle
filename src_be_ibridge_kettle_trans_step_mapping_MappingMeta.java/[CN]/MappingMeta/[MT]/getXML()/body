{
  StringBuffer retval=new StringBuffer();
  if (mappingTransMeta != null) {
    retval.append("    " + XMLHandler.addTagValue("trans_name",mappingTransMeta.getName()));
    if (mappingTransMeta.getDirectory() != null) {
      retval.append("    " + XMLHandler.addTagValue("directory_path",mappingTransMeta.getDirectory().getPath()));
    }
    if (mappingTransMeta.getFilename() != null) {
      retval.append("    " + XMLHandler.addTagValue("filename",mappingTransMeta.getFilename()));
    }
  }
 else {
    retval.append("    " + XMLHandler.addTagValue("trans_name",transName));
    retval.append("    " + XMLHandler.addTagValue("filename",fileName));
    retval.append("    " + XMLHandler.addTagValue("directory_path",directoryPath));
  }
  retval.append("  <input>" + Const.CR);
  for (int i=0; i < inputField.length; i++) {
    retval.append("    <connector>" + XMLHandler.addTagValue("field",inputField[i],false) + "  "+ XMLHandler.addTagValue("mapping",inputMapping[i],false)+ "</connector>"+ Const.CR);
  }
  retval.append("    </input>" + Const.CR);
  retval.append("  <output>" + Const.CR);
  for (int i=0; i < outputField.length; i++) {
    retval.append("    <connector>" + XMLHandler.addTagValue("field",outputField[i],false) + "  "+ XMLHandler.addTagValue("mapping",outputMapping[i],false)+ "</connector>"+ Const.CR);
  }
  retval.append("    </output>" + Const.CR);
  return retval.toString();
}
