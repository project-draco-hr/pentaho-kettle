{
  LogWriter log=LogWriter.getInstance();
  Result result=previousResult;
  result.setNrErrors(1);
  result.setResult(false);
  String hostname=getRealHostname();
  if (!Const.isEmpty(hostname)) {
    String ip=hostname;
    try {
      String lignePing="";
      int NbrPaquetsSend=Const.toInt(getRealNbrPaquets(),-1);
      if (NbrPaquetsSend < 1 || NbrPaquetsSend > 1000) {
        NbrPaquetsSend=2;
      }
      log.logDetailed(toString(),Messages.getString("JobPing.NbrPackets.Label") + NbrPaquetsSend);
      log.logDetailed(toString(),Messages.getString("JobPing.PingingHost1.Label") + ip + Messages.getString("JobPing.PingingHost2.Label"));
      Process processPing=Runtime.getRuntime().exec("ping " + ip + " -n "+ NbrPaquetsSend);
      log.logDetailed(toString(),Messages.getString("JobPing.Gettingresponse1.Label") + ip + Messages.getString("JobPing.Gettingresponse2.Label"));
      BufferedReader br=new BufferedReader(new InputStreamReader(processPing.getInputStream()));
      while ((lignePing=br.readLine()) != null) {
        log.logDetailed(toString(),lignePing);
      }
      if (processPing.exitValue() == 0) {
        log.logDetailed(toString(),Messages.getString("JobPing.OK1.Label") + ip + Messages.getString("JobPing.OK2.Label"));
        result.setNrErrors(0);
        result.setResult(true);
      }
    }
 catch (    IOException ex) {
      log.logError(toString(),Messages.getString("JobPing.Error.Label") + ex.getMessage());
    }
  }
 else {
    log.logError(toString(),Messages.getString("JobPing.SpecifyHost.Label"));
  }
  return result;
}
