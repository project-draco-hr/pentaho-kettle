{
  CheckResult cr;
  if (databaseMeta != null) {
    cr=new CheckResult(CheckResult.TYPE_RESULT_OK,Messages.getString("ExecSQLMeta.CheckResult.ConnectionExists"),stepMeta);
    remarks.add(cr);
    Database db=new Database(databaseMeta);
    db.shareVariablesWith(transMeta);
    databases=new Database[]{db};
    try {
      db.connect();
      cr=new CheckResult(CheckResult.TYPE_RESULT_OK,Messages.getString("ExecSQLMeta.CheckResult.DBConnectionOK"),stepMeta);
      remarks.add(cr);
      if (sql != null && sql.length() != 0) {
        cr=new CheckResult(CheckResult.TYPE_RESULT_OK,Messages.getString("ExecSQLMeta.CheckResult.SQLStatementEntered"),stepMeta);
        remarks.add(cr);
      }
 else {
        cr=new CheckResult(CheckResult.TYPE_RESULT_ERROR,Messages.getString("ExecSQLMeta.CheckResult.SQLStatementMissing"),stepMeta);
        remarks.add(cr);
      }
    }
 catch (    KettleException e) {
      cr=new CheckResult(CheckResult.TYPE_RESULT_ERROR,Messages.getString("ExecSQLMeta.CheckResult.ErrorOccurred") + e.getMessage(),stepMeta);
      remarks.add(cr);
    }
 finally {
      db.disconnect();
    }
  }
 else {
    cr=new CheckResult(CheckResult.TYPE_RESULT_ERROR,Messages.getString("ExecSQLMeta.CheckResult.ConnectionNeeded"),stepMeta);
    remarks.add(cr);
  }
  if (executedEachInputRow) {
    if (input.length > 0) {
      cr=new CheckResult(CheckResult.TYPE_RESULT_OK,Messages.getString("ExecSQLMeta.CheckResult.StepReceivingInfoOK"),stepMeta);
      remarks.add(cr);
    }
 else {
      cr=new CheckResult(CheckResult.TYPE_RESULT_ERROR,Messages.getString("ExecSQLMeta.CheckResult.NoInputReceivedError"),stepMeta);
      remarks.add(cr);
    }
  }
 else {
    if (input.length > 0) {
      cr=new CheckResult(CheckResult.TYPE_RESULT_ERROR,Messages.getString("ExecSQLMeta.CheckResult.SQLOnlyExecutedOnce"),stepMeta);
      remarks.add(cr);
    }
 else {
      cr=new CheckResult(CheckResult.TYPE_RESULT_OK,Messages.getString("ExecSQLMeta.CheckResult.InputReceivedOKForSQLOnlyExecuteOnce"),stepMeta);
      remarks.add(cr);
    }
  }
}
