{
  TextFileInputMeta info=new TextFileInputMeta();
  getInfo(info);
  try {
    if (info.getTextFileList().nrOfFiles() > 0) {
      String shellText=Messages.getString("TextFileInputDialog.LinesToView.DialogTitle");
      String lineText=Messages.getString("TextFileInputDialog.LinesToView.DialogMessage");
      EnterNumberDialog end=new EnterNumberDialog(shell,props,100,shellText,lineText);
      int nrLines=end.open();
      if (nrLines >= 0) {
        ArrayList linesList=getFirst(nrLines,skipHeaders);
        if (linesList != null && linesList.size() > 0) {
          String firstlines="";
          for (int i=0; i < linesList.size(); i++) {
            firstlines+=(String)linesList.get(i) + Const.CR;
          }
          EnterTextDialog etd=new EnterTextDialog(shell,Messages.getString("TextFileInputDialog.ContentOfFirstFile.DialogTitle"),(nrLines == 0 ? Messages.getString("TextFileInputDialog.ContentOfFirstFile.AllLines.DialogMessage") : Messages.getString("TextFileInputDialog.ContentOfFirstFile.NLines.DialogMessage","" + nrLines)),firstlines,true);
          etd.setReadOnly();
          etd.open();
        }
 else {
          MessageBox mb=new MessageBox(shell,SWT.OK | SWT.ICON_ERROR);
          mb.setMessage(Messages.getString("TextFileInputDialog.UnableToReadLines.DialogMessage"));
          mb.setText(Messages.getString("TextFileInputDialog.UnableToReadLines.DialogTitle"));
          mb.open();
        }
      }
    }
 else {
      MessageBox mb=new MessageBox(shell,SWT.OK | SWT.ICON_ERROR);
      mb.setMessage(Messages.getString("TextFileInputDialog.NoValidFile.DialogMessage"));
      mb.setText(Messages.getString("System.Dialog.Error.Title"));
      mb.open();
    }
  }
 catch (  KettleException e) {
    new ErrorDialog(shell,props,Messages.getString("System.Dialog.Error.Title"),Messages.getString("TextFileInputDialog.ErrorGettingData.DialogMessage"),e);
  }
}
