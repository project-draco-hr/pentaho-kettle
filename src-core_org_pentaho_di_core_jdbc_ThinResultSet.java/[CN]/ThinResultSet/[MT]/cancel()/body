{
  if (!stopped.get()) {
    stopped.set(true);
    try {
      String reply=HttpUtil.execService(LogChannel.GENERAL,new Variables(),connection.getHostname(),connection.getPort(),connection.getWebAppName(),connection.getService() + "/stopTrans" + "/?name="+ URLEncoder.encode(serviceTransName,"UTF-8")+ "&id="+ Const.NVL(serviceObjectId,"")+ "&xml=Y",connection.getUsername(),connection.getPassword(),connection.getProxyHostname(),connection.getProxyPort(),connection.getNonProxyHosts());
      WebResult webResult=new WebResult(XMLHandler.loadXMLString(reply,WebResult.XML_TAG));
      if (!"OK".equals(webResult.getResult())) {
        throw new SQLException("Cancel on remote server failed: " + webResult.getMessage());
      }
    }
 catch (    Exception e) {
      throw new SQLException("Couldn't cancel SQL query on slave server",e);
    }
  }
}
