{
  final PluginRegistry registry=getInstance();
  long start=System.currentTimeMillis();
  try {
    registry.registerType(PluginRegistryPluginType.getInstance());
    List<PluginInterface> plugins=registry.getPlugins(PluginRegistryPluginType.class);
    for (    PluginInterface extensionPlugin : plugins) {
      PluginRegistryExtension extension=(PluginRegistryExtension)registry.loadClass(extensionPlugin);
      extensions.add(extension);
    }
  }
 catch (  KettlePluginException e) {
    e.printStackTrace();
  }
  long end=System.currentTimeMillis();
  System.out.println("Registration of plugin extension points: " + (end - start) + " ms");
  start=System.currentTimeMillis();
  for (  final PluginTypeInterface pluginType : pluginTypes) {
    registry.registerType(pluginType);
  }
  end=System.currentTimeMillis();
  System.out.println("Registeration of plugin types : " + (end - start) + " ms");
  JarFileCache.getInstance().clear();
}
