{
  Trans trans=new Trans(transMeta);
  trans.prepareExecution(null);
  RowProducer rp=trans.addRowProducer(injectorStepname,0);
  trans.startThreads();
  generateData(rp);
  rp.finished();
  trans.waitUntilFinished();
  StepInterface si=trans.getStepInterface(synchronizeAfterMergeStepname,0);
  Assert.assertEquals("Unexpected error occurred",0,si.getErrors());
  Assert.assertEquals("Step still started",StepExecutionStatus.STATUS_FINISHED,si.getStatus());
}
