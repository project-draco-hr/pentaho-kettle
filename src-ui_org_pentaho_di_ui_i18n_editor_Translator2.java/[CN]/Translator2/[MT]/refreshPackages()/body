{
  int index=wPackages.getSelectionIndex();
  wPackages.table.removeAll();
  for (int i=0; i < messagesPackages.size(); i++) {
    String messagesPackage=messagesPackages.get(i);
    TableItem item=new TableItem(wPackages.table,SWT.NONE);
    item.setText(1,messagesPackage);
    if (selectedLocale != null) {
      java.util.List<KeyOccurrence> todo=getTodoList(selectedLocale,messagesPackage,true);
      if (todo.size() > 50) {
        item.setBackground(GUIResource.getInstance().getColorRed());
      }
 else       if (todo.size() > 25) {
        item.setBackground(GUIResource.getInstance().getColorOrange());
      }
 else       if (todo.size() > 10) {
        item.setBackground(GUIResource.getInstance().getColorYellow());
      }
 else       if (todo.size() > 5) {
        item.setBackground(GUIResource.getInstance().getColorGray());
      }
 else       if (todo.size() > 0) {
        item.setBackground(GUIResource.getInstance().getColorLightGray());
      }
    }
  }
  if (messagesPackages.size() == 0) {
    new TableItem(wPackages.table,SWT.NONE);
  }
 else {
    wPackages.setRowNums();
    wPackages.optWidth(true);
  }
  if (index >= 0) {
    wPackages.table.setSelection(index);
    wPackages.table.showSelection();
  }
}
