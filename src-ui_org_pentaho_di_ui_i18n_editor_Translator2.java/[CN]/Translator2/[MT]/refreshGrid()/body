{
  applyChangedValue();
  wTodo.removeAll();
  wKey.setText("");
  wMain.setText("");
  wValue.setText("");
  wSource.setText("");
  selectedLocale=wLocale.getSelectionCount() == 0 ? null : wLocale.getSelection()[0];
  selectedMessagesPackage=wPackages.getSelectionCount() == 0 ? null : wPackages.getSelection()[0];
  if (selectedLocale != null && selectedMessagesPackage != null) {
    java.util.List<KeyOccurrence> keys=crawler.getOccurrencesForPackage(selectedMessagesPackage);
    java.util.List<KeyOccurrence> todo=new ArrayList<KeyOccurrence>();
    for (    KeyOccurrence keyOccurrence : keys) {
      String value=store.lookupKeyValue(selectedLocale,selectedMessagesPackage,keyOccurrence.getKey());
      if ((Const.isEmpty(value) || wAll.getSelection()) && !keyOccurrence.getKey().startsWith("System.")) {
        todo.add(keyOccurrence);
      }
    }
    String[] todoItems=new String[todo.size()];
    for (int i=0; i < todoItems.length; i++)     todoItems[i]=todo.get(i).getKey();
    wTodo.setItems(todoItems);
  }
}
