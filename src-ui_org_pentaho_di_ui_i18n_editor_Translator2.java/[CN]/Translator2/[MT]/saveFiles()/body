{
  java.util.List<MessagesStore> changedMessagesStores=store.getChangedMessagesStores();
  if (changedMessagesStores.size() > 0) {
    StringBuffer msg=new StringBuffer();
    for (    MessagesStore messagesStore : changedMessagesStores) {
      MessagesStore mainLocaleMessagesStore=store.findMainLocaleMessagesStore(messagesStore.getMessagesPackage());
      String sourceDirectory=mainLocaleMessagesStore.getSourceDirectory(rootDirectories);
      String filename=messagesStore.getSaveFilename(sourceDirectory);
      messagesStore.setFilename(filename);
      msg.append(filename).append(Const.CR);
    }
    EnterTextDialog dialog=new EnterTextDialog(shell,BaseMessages.getString(PKG,"i18nDialog.ChangedFiles"),BaseMessages.getString(PKG,"i18nDialog.ChangedMessagesFiles"),msg.toString());
    if (dialog.open() != null) {
      try {
        for (        MessagesStore messagesStore : changedMessagesStores) {
          messagesStore.write();
          LogWriter.getInstance().logBasic(toString(),BaseMessages.getString(PKG,"i18n.Log.SavedMessagesFile",messagesStore.getFilename()));
        }
      }
 catch (      KettleException e) {
        new ErrorDialog(shell,BaseMessages.getString(PKG,"i18n.UnexpectedError"),"There was an error saving the changed messages files:",e);
        return false;
      }
      return true;
    }
 else {
      return false;
    }
  }
 else {
    return true;
  }
}
