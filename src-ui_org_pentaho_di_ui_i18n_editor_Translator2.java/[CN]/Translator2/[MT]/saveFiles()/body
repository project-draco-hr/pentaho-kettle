{
  java.util.List<MessagesStore> changedMessagesStores=store.getChangedMessagesStores();
  if (changedMessagesStores.size() > 0) {
    StringBuffer msg=new StringBuffer();
    for (    MessagesStore messagesStore : changedMessagesStores) {
      MessagesStore mainLocaleMessagesStore=store.findMainLocaleMessagesStore(messagesStore.getMessagesPackage());
      String sourceDirectory=mainLocaleMessagesStore.getSourceDirectory(ROOT);
      String filename=messagesStore.getSaveFilename(sourceDirectory);
      messagesStore.setFilename(filename);
      msg.append(filename).append(Const.CR);
    }
    EnterTextDialog dialog=new EnterTextDialog(shell,"Changed files","Below are the changed messages files.  Select 'OK' to save these files to disk.",msg.toString());
    if (dialog.open() != null) {
      try {
        for (        MessagesStore messagesStore : changedMessagesStores) {
          messagesStore.write();
          LogWriter.getInstance().logBasic(toString(),"Saved messages file : " + messagesStore.getFilename());
        }
      }
 catch (      KettleException e) {
        new ErrorDialog(shell,"Error","There was an error saving the changed messages files:",e);
      }
    }
  }
 else {
  }
}
