{
  this.filename=filename;
  this.level=level;
  this.exact=exact;
  type=LOG_TYPE_STREAM;
  try {
    if (!exact) {
      file=File.createTempFile(filename + ".",".log");
      file.deleteOnExit();
    }
 else {
      file=new File(filename);
    }
    realFilename=file.getAbsoluteFile();
    layout=new Log4jKettleLayout(true);
    fileAppender=new Log4jFileAppender(realFilename);
    consoleAppender=new Log4jConsoleAppender();
    stringAppender=new Log4jStringAppender();
    fileAppender.setLayout(layout);
    consoleAppender.setLayout(layout);
    stringAppender.setLayout(layout);
    fileAppender.setName("AppendToFile");
    consoleAppender.setName("AppendToConsole");
    stringAppender.setName("AppendToString");
    Logger rootLogger=Logger.getRootLogger();
    rootLogger.addAppender(fileAppender);
    rootLogger.addAppender(consoleAppender);
  }
 catch (  Exception e) {
    System.out.println("ERROR OPENING LOG FILE [" + filename + "] --> "+ e.toString());
  }
}
