{
  try {
    if (!exact) {
      file=File.createTempFile(filename + ".",".log");
      file.deleteOnExit();
    }
 else {
      file=new File(filename);
    }
    realFilename=file.getAbsoluteFile();
    fileAppender=new Log4jFileAppender(realFilename);
    fileAppender.setLayout(layout);
    fileAppender.setName(LogWriter.createFileAppenderName(filename,exact));
    rootLogger.addAppender(fileAppender);
  }
 catch (  IOException e) {
    throw new KettleFileException("Unable to add Kettle file appender to Log4J",e);
  }
}
