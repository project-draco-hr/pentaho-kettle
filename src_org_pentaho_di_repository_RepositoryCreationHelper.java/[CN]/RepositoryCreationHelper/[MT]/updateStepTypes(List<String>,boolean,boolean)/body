{
synchronized (repository) {
    for (int i=0; i < stepLoader.nrStepsWithType(StepPlugin.TYPE_ALL); i++) {
      StepPlugin sp=stepLoader.getStepWithType(StepPlugin.TYPE_ALL,i);
      long id=-1;
      if (!create)       id=repository.getStepTypeID(sp.getID()[0]);
      if (id < 0) {
        id=i + 1;
        if (!create)         id=repository.getNextStepTypeID();
        RowMetaAndData table=new RowMetaAndData();
        table.addValue(new ValueMeta(Repository.FIELD_STEP_TYPE_ID_STEP_TYPE,ValueMetaInterface.TYPE_INTEGER),new Long(id));
        table.addValue(new ValueMeta(Repository.FIELD_STEP_TYPE_CODE,ValueMetaInterface.TYPE_STRING),sp.getID()[0]);
        table.addValue(new ValueMeta(Repository.FIELD_STEP_TYPE_DESCRIPTION,ValueMetaInterface.TYPE_STRING),sp.getDescription());
        table.addValue(new ValueMeta(Repository.FIELD_STEP_TYPE_HELPTEXT,ValueMetaInterface.TYPE_STRING),sp.getTooltip());
        if (dryrun) {
          String sql=database.getSQLOutput(null,Repository.TABLE_R_STEP_TYPE,table.getRowMeta(),table.getData(),"yyyy/MM/dd HH:mm:ss");
          statements.add(sql);
        }
 else {
          database.prepareInsert(table.getRowMeta(),null,Repository.TABLE_R_STEP_TYPE);
          database.setValuesInsert(table);
          database.insertRow();
          database.closeInsert();
        }
      }
    }
  }
  return statements;
}
