{
  Image img=new Image(device,area.x,area.y);
  GC gc=new GC(img);
  if (props.isAntiAliasingEnabled())   gc.setAntialias(SWT.ON);
  areaOwners.clear();
  gridSize=props.getCanvasGridSize();
  shadowsize=props.getShadowSize();
  Point max=transMeta.getMaximum();
  Point thumb=getThumb(area,max);
  offset=getOffset(thumb,area);
  gc.setBackground(background);
  gc.fillRectangle(0,0,area.x,area.y);
  if (branded) {
    Image gradient=GUIResource.getInstance().getImageBanner();
    gc.drawImage(gradient,0,0);
    Image logo=GUIResource.getInstance().getImageKettleLogo();
    org.eclipse.swt.graphics.Rectangle logoBounds=logo.getBounds();
    gc.drawImage(logo,20,area.y - logoBounds.height);
  }
  if (shadowsize > 0) {
    shadow=true;
    Transform transform=new Transform(device);
    transform.translate(translationX + shadowsize * magnification,translationY + shadowsize * magnification);
    transform.scale(magnification,magnification);
    gc.setTransform(transform);
    gc.setAlpha(20);
    drawTrans(gc,thumb);
  }
  shadow=false;
  Transform transform=new Transform(device);
  transform.translate(translationX,translationY);
  transform.scale(magnification,magnification);
  gc.setTransform(transform);
  gc.setAlpha(255);
  drawTrans(gc,thumb);
  gc.dispose();
  return img;
}
