{
  long id_value=lookupValue(name,type,value_str,isnull);
  if (id_value < 0) {
    id_value=repository.connectionDelegate.getNextValueID();
    String tablename=KettleDatabaseRepository.TABLE_R_VALUE;
    RowMetaAndData table=new RowMetaAndData();
    table.addValue(new ValueMeta(KettleDatabaseRepository.FIELD_VALUE_ID_VALUE,ValueMetaInterface.TYPE_INTEGER),Long.valueOf(id_value));
    table.addValue(new ValueMeta(KettleDatabaseRepository.FIELD_VALUE_NAME,ValueMetaInterface.TYPE_STRING),name);
    table.addValue(new ValueMeta(KettleDatabaseRepository.FIELD_VALUE_VALUE_TYPE,ValueMetaInterface.TYPE_STRING),type);
    table.addValue(new ValueMeta(KettleDatabaseRepository.FIELD_VALUE_VALUE_STR,ValueMetaInterface.TYPE_STRING),value_str);
    table.addValue(new ValueMeta(KettleDatabaseRepository.FIELD_VALUE_IS_NULL,ValueMetaInterface.TYPE_BOOLEAN),Boolean.valueOf(isnull));
    repository.connectionDelegate.getDatabase().prepareInsert(table.getRowMeta(),tablename);
    repository.connectionDelegate.getDatabase().setValuesInsert(table);
    repository.connectionDelegate.getDatabase().insertRow();
    repository.connectionDelegate.getDatabase().closeInsert();
  }
  return id_value;
}
