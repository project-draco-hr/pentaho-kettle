{
  try {
    if (engine == null) {
      PluginRegistry registry=PluginRegistry.getInstance();
      PluginInterface plugin=registry.findPluginWithId(StepPluginType.class,"BIRTOutput");
      String birtHome;
      if (plugin.getPluginDirectory() == null) {
        birtHome="src-plugins/birt-output/lib/ReportEngine";
      }
 else {
        birtHome=new File(plugin.getPluginDirectory().toURI()).getPath() + "/lib/ReportEngine";
      }
      System.out.println("---- BIRT HOME SET TO: " + birtHome);
      for (      String lib : plugin.getLibraries()) {
        System.out.println("-------- " + lib);
      }
      EngineConfig config=new EngineConfig();
      config.setLogConfig("/tmp/",java.util.logging.Level.FINEST);
      config.setEngineHome(birtHome);
      config.setResourcePath(birtHome);
      Platform.startup(config);
      IReportEngineFactory factory=(IReportEngineFactory)Platform.createFactoryObject(IReportEngineFactory.EXTENSION_REPORT_ENGINE_FACTORY);
      engine=factory.createReportEngine(config);
    }
  }
 catch (  Exception be) {
    log.logError("Error booting the BIRT reporting engine...",be);
  }
}
