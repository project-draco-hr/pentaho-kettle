{
  try {
    ObjectId id_directory_parent=null;
    if (dir.getParent() != null) {
      id_directory_parent=dir.getParent().getObjectId();
    }
    dir.setObjectId(insertDirectory(id_directory_parent,dir));
    log.logDetailed("New id of directory = " + dir.getObjectId());
    repository.commit();
  }
 catch (  Exception e) {
    throw new KettleException("Unable to save directory [" + dir + "] in the repository",e);
  }
}
