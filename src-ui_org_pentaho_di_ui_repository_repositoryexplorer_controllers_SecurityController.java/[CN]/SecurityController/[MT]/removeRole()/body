{
  confirmBox.setTitle("Security");
  confirmBox.setMessage("You are about to remove selected role(s). Do you want to continue?");
  confirmBox.setAcceptLabel("Ok");
  confirmBox.setCancelLabel("Cancel");
  confirmBox.addDialogCallback(new XulDialogCallback(){
    public void onClose(    XulComponent sender,    Status returnCode,    Object retVal){
      if (returnCode == Status.ACCEPT) {
        if (rui != null) {
          if (security != null && security.getSelectedRole() != null) {
            try {
              rui.deleteRole(security.getSelectedRole().getName());
              security.removeRole(security.getSelectedRole().getName());
            }
 catch (            KettleException ke) {
              messageBox.setTitle("Error");
              messageBox.setAcceptLabel("Ok");
              messageBox.setMessage("Unable to remove selected role(s) " + ke.getLocalizedMessage());
              messageBox.open();
            }
          }
 else {
            messageBox.setTitle("Error");
            messageBox.setAcceptLabel("Ok");
            messageBox.setMessage("No role(s) are selected to remove");
            messageBox.open();
          }
        }
      }
    }
    public void onError(    XulComponent sender,    Throwable t){
      messageBox.setTitle("Error");
      messageBox.setAcceptLabel("Ok");
      messageBox.setMessage("Unable to remove selected role(s)" + t.getLocalizedMessage());
      messageBox.open();
    }
  }
);
  confirmBox.open();
}
