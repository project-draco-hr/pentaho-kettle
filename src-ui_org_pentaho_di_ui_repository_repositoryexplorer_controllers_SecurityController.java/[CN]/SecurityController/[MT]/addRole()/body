{
  if (rui != null) {
    RoleInfo roleInfo=new RoleInfo();
    roleInfo.setDescription(securityRole.getDescription());
    roleInfo.setName(securityRole.getName());
    for (    UIRepositoryUser user : securityRole.getAssignedUsers()) {
      roleInfo.addUser(user.getUserInfo());
    }
    try {
      rui.createRole(roleInfo);
      security.addRole(new UIRepositoryRole(roleInfo));
    }
 catch (    KettleException ke) {
      messageBox.setTitle("Error");
      messageBox.setAcceptLabel("Ok");
      messageBox.setMessage("Unable to add a role: " + ke.getLocalizedMessage());
      messageBox.open();
    }
  }
  roleDialog.hide();
}
