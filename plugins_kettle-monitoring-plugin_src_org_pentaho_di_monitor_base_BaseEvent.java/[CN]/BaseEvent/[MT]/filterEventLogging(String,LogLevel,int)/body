{
  if (logLevel == null || logLevel == LogLevel.NOTHING || maxLogEntries < 1) {
    return new String[]{"DISABLED"};
  }
  List<KettleLoggingEvent> eventLogList=KettleLogStore.getLogBufferFromTo(logChannelId,true,Math.max(0,KettleLogStore.getLastBufferLineNr() - (maxLogEntries * 10)),KettleLogStore.getLastBufferLineNr());
  if (eventLogList == null || eventLogList.size() == 0) {
    return new String[]{};
  }
  int maxLogs=Math.min(eventLogList.size(),maxLogEntries);
  Collections.reverse(eventLogList);
  ArrayList<String> eventLogs=new ArrayList<String>();
  for (int i=0; i < maxLogs; i++) {
    KettleLoggingEvent loggingEvent=eventLogList.get(i);
    if (loggingEvent != null && isLogLevelAccepted(logLevel,loggingEvent.getLevel())) {
      eventLogs.add(eventLogToString(loggingEvent));
    }
  }
  if (eventLogs.size() == 0 && logLevel == LogLevel.ERROR) {
    eventLogs.add(new String("NO ERRORS"));
  }
 else   if (eventLogs.size() > 1) {
    Collections.reverse(eventLogs);
  }
  return eventLogs.toArray(new String[]{});
}
