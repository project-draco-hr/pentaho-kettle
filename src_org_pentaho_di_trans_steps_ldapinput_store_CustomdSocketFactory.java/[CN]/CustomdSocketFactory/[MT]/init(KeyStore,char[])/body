{
  SSLContext ctx=null;
  KeyManager keyManagers[]=null;
  TrustManager trustManagers[]=null;
  try {
    if (ks != null) {
      KeyManagerFactory kmf=null;
      kmf=KeyManagerFactory.getInstance("SunX509");
      kmf.init(ks,password);
      keyManagers=kmf.getKeyManagers();
    }
    ctx=SSLContext.getInstance("TLS");
    trustManagers=getDefaultTrustManager();
    ctx.init(keyManagers,trustManagers,null);
    factory=ctx.getSocketFactory();
  }
 catch (  Exception e) {
    System.err.println("Error: failed to initialize : " + e.getMessage());
    e.printStackTrace();
  }
}
