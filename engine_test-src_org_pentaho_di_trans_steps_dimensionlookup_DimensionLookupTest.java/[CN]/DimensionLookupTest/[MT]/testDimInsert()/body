{
  RowMetaInterface rowMetaInterface=mock(RowMetaInterface.class);
  Object[] objects=mock(List.class).toArray();
  Date date=mock(Date.class);
  dimensionLookupSpy.dimInsert(rowMetaInterface,objects,new Long("132323"),true,null,date,date);
  verify(databaseMeta,times(0)).supportsAutoGeneratedKeys();
  dimensionLookupSpy.dimInsert(rowMetaInterface,objects,null,true,null,date,date);
  verify(databaseMeta,times(2)).supportsAutoGeneratedKeys();
}
