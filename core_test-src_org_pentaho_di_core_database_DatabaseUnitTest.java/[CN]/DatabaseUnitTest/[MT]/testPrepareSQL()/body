{
  DatabaseMeta dbMeta=mock(DatabaseMeta.class);
  DatabaseMetaData dbMetaData=mock(DatabaseMetaData.class);
  Database db=new Database(mockLogger(),dbMeta);
  db.setConnection(mockConnection(dbMetaData));
  db.setCommit(1);
  db.prepareSQL("SELECT * FROM DUMMY");
  verify(dbMeta,times(0)).supportsAutoGeneratedKeys();
  db.prepareSQL("SELECT * FROM DUMMY",true);
  verify(dbMeta,times(1)).supportsAutoGeneratedKeys();
}
