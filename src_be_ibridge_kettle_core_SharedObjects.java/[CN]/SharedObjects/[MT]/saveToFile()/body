{
  OutputStream outputStream=KettleVFS.getOutputStream(filename,false);
  PrintStream out=new PrintStream(outputStream);
  out.print(XMLHandler.getXMLHeader(Const.XML_ENCODING));
  out.println("<" + XML_TAG + ">");
  Collection collection=objectsMap.values();
  for (Iterator iter=collection.iterator(); iter.hasNext(); ) {
    SharedObjectInterface sharedObject=(SharedObjectInterface)iter.next();
    out.println(sharedObject.getXML());
  }
  out.println("</" + XML_TAG + ">");
  out.flush();
  out.close();
  outputStream.close();
}
