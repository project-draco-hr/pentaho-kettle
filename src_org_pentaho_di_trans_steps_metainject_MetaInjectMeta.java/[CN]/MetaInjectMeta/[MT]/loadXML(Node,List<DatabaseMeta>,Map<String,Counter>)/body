{
  try {
    String method=XMLHandler.getTagValue(stepnode,"specification_method");
    specificationMethod=ObjectLocationSpecificationMethod.getSpecificationMethodByCode(method);
    String transId=XMLHandler.getTagValue(stepnode,"trans_object_id");
    transObjectId=Const.isEmpty(transId) ? null : new StringObjectId(transId);
    transName=XMLHandler.getTagValue(stepnode,"trans_name");
    fileName=XMLHandler.getTagValue(stepnode,"filename");
    directoryPath=XMLHandler.getTagValue(stepnode,"directory_path");
    Node mappingsNode=XMLHandler.getSubNode(stepnode,"mappings");
    int nrMappings=XMLHandler.countNodes(mappingsNode,"mapping");
    for (int i=0; i < nrMappings; i++) {
      Node mappingNode=XMLHandler.getSubNodeByNr(mappingsNode,"mapping",i);
      String targetStepname=XMLHandler.getTagValue(mappingNode,"target_step_name");
      String targetAttributeKey=XMLHandler.getTagValue(mappingNode,"target_attribute_key");
      boolean targetDetail="Y".equalsIgnoreCase(XMLHandler.getTagValue(mappingNode,"target_detail"));
      String sourceStepname=XMLHandler.getTagValue(mappingNode,"source_step");
      String sourceField=XMLHandler.getTagValue(mappingNode,"source_field");
      TargetStepAttribute target=new TargetStepAttribute(targetStepname,targetAttributeKey,targetDetail);
      SourceStepField source=new SourceStepField(sourceStepname,sourceField);
      targetSourceMapping.put(target,source);
    }
  }
 catch (  Exception e) {
    throw new KettleXMLException("Unable to load step info from XML",e);
  }
}
