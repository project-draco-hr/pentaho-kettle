{
  Trans trans=new Trans(transMeta);
  try {
    trans.prepareExecution(null);
    RowProducer rp=trans.addRowProducer(injectorStep.getName(),0);
    trans.startThreads();
    Iterator<RowMetaAndData> it=inputList.iterator();
    while (it.hasNext()) {
      RowMetaAndData rm=it.next();
      rp.putRow(rm.getRowMeta(),rm.getData());
    }
    rp.finished();
    trans.waitUntilFinished();
    StepInterface si=trans.getStepInterface(synchStep.getName(),0);
    if (si.getErrors() > 0) {
      org.junit.Assert.fail("Unexpected error occured");
    }
  }
 catch (  Exception ex) {
    ex.printStackTrace();
  }
}
