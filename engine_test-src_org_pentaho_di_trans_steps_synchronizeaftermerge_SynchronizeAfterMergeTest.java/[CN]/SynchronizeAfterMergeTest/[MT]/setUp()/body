{
  transMeta=new TransMeta();
  transMeta.setName("synchronize");
  String injectorStepname="injector step";
  InjectorMeta im=new InjectorMeta();
  PluginRegistry registry=PluginRegistry.getInstance();
  String injectorPid=registry.getPluginId(StepPluginType.class,im);
  injectorStep=new StepMeta(injectorPid,injectorStepname,im);
  transMeta.addStep(injectorStep);
  DatabaseMeta dbMeta=new DatabaseMeta();
  dbMeta.setDatabaseType("mock-db");
  SynchronizeAfterMergeMeta synchMeta=new SynchronizeAfterMergeMeta();
  synchMeta.setCommitSize(1);
  synchMeta.setDatabaseMeta(dbMeta);
  synchMeta.setKeyCondition(new String[]{"="});
  synchMeta.setKeyLookup(new String[]{"key"});
  synchMeta.setKeyStream(new String[]{"personName"});
  synchMeta.setKeyStream2(new String[]{null});
  synchMeta.setUpdate(new Boolean[]{Boolean.TRUE});
  synchMeta.setOperationOrderField("flag");
  synchMeta.setOrderDelete("deleted");
  synchMeta.setOrderInsert("insert");
  synchMeta.setOrderUpdate("update");
  synchMeta.setPerformLookup(true);
  synchMeta.setSchemaName("test");
  synchMeta.setTableName("test");
  synchMeta.settablenameInField(false);
  synchMeta.settablenameField(null);
  synchMeta.setUseBatchUpdate(true);
  synchMeta.setUpdateLookup(new String[]{"key"});
  synchMeta.setUpdateStream(new String[]{"personName"});
  String synchStepname="synch step";
  String synchPid=registry.getPluginId(StepPluginType.class,synchStepname);
  synchStep=new StepMeta(synchPid,synchStepname,synchMeta);
  transMeta.addStep(synchStep);
  String dummyStepname1="dummy step 1";
  DummyTransMeta dm1=new DummyTransMeta();
  String dummyPid1=registry.getPluginId(StepPluginType.class,dm1);
  StepMeta dummyStep1=new StepMeta(dummyPid1,dummyStepname1,dm1);
  transMeta.addStep(dummyStep1);
  StepErrorMeta sem=new StepErrorMeta(transMeta,synchStep,dummyStep1);
  synchStep.setStepErrorMeta(sem);
  sem.setEnabled(true);
  TransHopMeta hi=new TransHopMeta(injectorStep,synchStep);
  transMeta.addTransHop(hi);
  TransHopMeta hi1=new TransHopMeta(synchStep,dummyStep1);
  transMeta.addTransHop(hi1);
}
