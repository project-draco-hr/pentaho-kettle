{
  JobEntryCopy jobentries[]=new JobEntryCopy[chef.jobMeta.nrSelected()];
  Point before[]=new Point[chef.jobMeta.nrSelected()];
  Point after[]=new Point[chef.jobMeta.nrSelected()];
  int nr=0;
  for (int i=0; i < chef.jobMeta.nrJobEntries(); i++) {
    JobEntryCopy si=chef.jobMeta.getJobEntry(i);
    if (si.isSelected()) {
      jobentries[nr]=si;
      Point p=si.getLocation();
      before[nr]=new Point(p.x,p.y);
      int dx=p.x % size;
      int dy=p.y % size;
      if (dx > size / 2)       p.x+=size - dx;
 else       p.x-=dx;
      if (dy > size / 2)       p.y+=size - dy;
 else       p.y-=dy;
      after[nr]=new Point(p.x,p.y);
      nr++;
    }
  }
  chef.addUndoPosition(jobentries,chef.jobMeta.getEntryIndexes(jobentries),before,after);
  redraw();
}
