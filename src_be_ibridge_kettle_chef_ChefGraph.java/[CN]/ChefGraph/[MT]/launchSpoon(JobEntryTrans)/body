{
  if ((entry.getFileName() == null || entry.getFileName().length() == 0) && (entry.getTransname() != null && entry.getTransname().length() > 0)) {
    try {
      Spoon sp=new Spoon(log,chef.disp,chef.rep);
      long id=sp.rep.getTransformationID(entry.getTransname(),entry.getDirectory().getID());
      if (id < 0) {
        sp.transMeta=new TransMeta(null,entry.getTransname(),entry.arguments);
      }
 else {
        sp.transMeta=new TransMeta(sp.rep,entry.getTransname(),entry.getDirectory());
      }
      sp.transMeta.clearChanged();
      sp.open();
    }
 catch (    KettleException ke) {
      MessageBox mb=new MessageBox(shell,SWT.OK | SWT.ICON_ERROR);
      mb.setMessage("Sorry, an error occurred loading the new transformation from the repository:" + Const.CR + ke.getMessage());
      mb.setText("Error!");
      mb.open();
    }
  }
 else {
    try {
      Spoon sp=new Spoon(log,chef.disp,null);
      sp.transMeta=new TransMeta(entry.getFileName());
      sp.transMeta.clearChanged();
      sp.setFilename(entry.getFileName());
      sp.open();
    }
 catch (    KettleXMLException xe) {
      MessageBox mb=new MessageBox(shell,SWT.OK | SWT.ICON_ERROR);
      mb.setMessage("Sorry, an error occurred loading the new transformation from the XML file:" + Const.CR + xe.getMessage());
      mb.setText("Error!");
      mb.open();
    }
  }
}
