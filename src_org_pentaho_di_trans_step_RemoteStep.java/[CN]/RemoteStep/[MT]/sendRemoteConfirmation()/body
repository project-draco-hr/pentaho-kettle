{
  try {
    outputStream.writeLong(baseStep.linesOutput);
    baseStep.logDetailed("Send confirmation message to remote step: we received " + baseStep.linesOutput + " rows of data.");
    outputStream.flush();
  }
 catch (  IOException e) {
    throw new KettleException("Unable to get confirmation back from the remote step that all data was read: " + e.toString(),e);
  }
 finally {
    try {
      socket.shutdownOutput();
    }
 catch (    IOException e) {
      throw new KettleException("Unable to close confirmation output stream: " + e.toString(),e);
    }
  }
}
