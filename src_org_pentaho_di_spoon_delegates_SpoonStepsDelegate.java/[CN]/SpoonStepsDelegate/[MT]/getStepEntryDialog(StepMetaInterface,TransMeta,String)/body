{
  String dialogClassName=stepMeta.getDialogClassName();
  Class<?> dialogClass;
  Class<?>[] paramClasses=new Class[]{Shell.class,Object.class,TransMeta.class,String.class};
  Object[] paramArgs=new Object[]{spoon.getShell(),stepMeta,transMeta,stepName};
  Constructor<?> dialogConstructor;
  try {
    dialogClass=Class.forName(dialogClassName);
    dialogConstructor=dialogClass.getConstructor(paramClasses);
    return (StepDialogInterface)dialogConstructor.newInstance(paramArgs);
  }
 catch (  Exception e) {
    throw new KettleException(e);
  }
}
