{
  ArrayList<String> fieldList=new ArrayList<String>();
  fieldList.add(".id");
  FieldCollection fields=openERPConnection.getFields(model);
  for (  String targetField : targetFieldNames) {
    boolean found=false;
    for (    Field field : fields)     if (field.getName().equals(targetField)) {
      found=true;
      if (field.getType() == FieldType.MANY2ONE)       fieldList.add(field.getName() + ".id");
 else       fieldList.add(field.getName());
    }
    if (!found)     throw new Exception("Could not find field '" + targetField + "' in object '"+ model+ "'");
  }
  return fieldList.toArray(new String[fieldList.size()]);
}
