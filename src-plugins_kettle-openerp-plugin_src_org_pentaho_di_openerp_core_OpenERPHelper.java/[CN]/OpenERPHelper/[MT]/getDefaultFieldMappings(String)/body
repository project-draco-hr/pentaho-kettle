{
  ArrayList<FieldMapping> mappings=new ArrayList<FieldMapping>();
  FieldCollection fields=openERPConnection.getFields(model);
  for (  Field field : fields) {
    FieldMapping fieldMap=new FieldMapping();
    String fieldName=field.getName();
    fieldMap.source_object=model;
    fieldMap.source_field=fieldName;
    fieldMap.source_index=-1;
    fieldMap.target_object_name=model;
    fieldMap.target_field_name=fieldName;
    fieldMap.target_field_label=field.getDescription();
    Field.FieldType fieldType=field.getType();
switch (fieldType) {
case CHAR:
case TEXT:
      fieldMap.target_field_type=ValueMetaInterface.TYPE_STRING;
    mappings.add(fieldMap);
  break;
case BOOLEAN:
fieldMap.target_field_type=ValueMetaInterface.TYPE_BOOLEAN;
mappings.add(fieldMap);
break;
case FLOAT:
fieldMap.target_field_type=ValueMetaInterface.TYPE_NUMBER;
mappings.add(fieldMap);
break;
case DATETIME:
case DATE:
fieldMap.target_field_type=ValueMetaInterface.TYPE_DATE;
mappings.add(fieldMap);
break;
case ONE2MANY:
case MANY2MANY:
break;
case MANY2ONE:
FieldMapping newFieldMap=fieldMap.Clone();
newFieldMap.source_index=0;
newFieldMap.target_object_name=field.getRelation();
newFieldMap.target_field_name=fieldName + "_id";
newFieldMap.target_field_label=field.getDescription() + "/Id";
newFieldMap.target_field_type=ValueMetaInterface.TYPE_INTEGER;
mappings.add(newFieldMap);
newFieldMap=fieldMap.Clone();
newFieldMap.source_index=1;
newFieldMap.target_object_name=field.getRelation();
;
newFieldMap.target_field_name=fieldName + "_name";
newFieldMap.target_field_label=field.getDescription() + "/Name";
newFieldMap.target_field_type=ValueMetaInterface.TYPE_STRING;
mappings.add(newFieldMap);
break;
default :
fieldMap.target_field_type=ValueMetaInterface.TYPE_STRING;
mappings.add(fieldMap);
break;
}
}
return mappings;
}
