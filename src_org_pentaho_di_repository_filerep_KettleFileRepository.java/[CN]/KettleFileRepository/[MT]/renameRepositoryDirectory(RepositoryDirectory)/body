{
  try {
    ObjectId dirId=dir.getObjectId();
    String folderName=calcDirectoryName(null) + dirId.getId();
    FileObject folder=KettleVFS.getFileObject(folderName);
    String newFolderName=folder.getParent().toString() + "/" + dir.getName();
    FileObject newFolder=KettleVFS.getFileObject(newFolderName);
    folder.moveTo(newFolder);
    return new StringObjectId(dir.getPath());
  }
 catch (  Exception e) {
    throw new KettleException("Unable to rename directory folder to [" + dir + "]");
  }
}
