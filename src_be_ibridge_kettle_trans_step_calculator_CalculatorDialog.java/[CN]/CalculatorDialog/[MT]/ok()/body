{
  stepname=wStepname.getText();
  currentMeta.allocate(wFields.nrNonEmpty());
  for (int i=0; i < wFields.nrNonEmpty(); i++) {
    TableItem item=wFields.getNonEmpty(i);
    String fieldName=item.getText(1);
    int calcType=CalculatorMetaFunction.getCalcFunctionType(item.getText(2));
    String fieldA=item.getText(3);
    String fieldB=item.getText(4);
    String fieldC=item.getText(5);
    int valueType=Value.getType(item.getText(6));
    int valueLength=Const.toInt(item.getText(7),-1);
    int valuePrecision=Const.toInt(item.getText(8),-1);
    boolean removed=Messages.getString("System.Combo.Yes").equalsIgnoreCase(item.getText(9));
    currentMeta.getCalculation()[i]=new CalculatorMetaFunction(fieldName,calcType,fieldA,fieldB,fieldC,valueType,valueLength,valuePrecision,removed);
  }
  if (!originalMeta.equals(currentMeta)) {
    currentMeta.setChanged();
    changed=currentMeta.hasChanged();
  }
  dispose();
}
