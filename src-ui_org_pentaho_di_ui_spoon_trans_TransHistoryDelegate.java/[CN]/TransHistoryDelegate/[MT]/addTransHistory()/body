{
  if (transGraph.extraViewComposite == null || transGraph.extraViewComposite.isDisposed()) {
    transGraph.addExtraView();
  }
 else {
    if (transHistoryTab != null && !transHistoryTab.isDisposed()) {
      transGraph.extraViewTabFolder.setSelection(transHistoryTab);
      return;
    }
  }
  transMeta=transGraph.getManagedObject();
  transHistoryTab=new CTabItem(transGraph.extraViewTabFolder,SWT.NONE);
  transHistoryTab.setImage(GUIResource.getInstance().getImageShowHistory());
  transHistoryTab.setText(BaseMessages.getString(PKG,"Spoon.TransGraph.HistoryTab.Name"));
  transHistoryComposite=new Composite(transGraph.extraViewTabFolder,SWT.NONE);
  transHistoryComposite.setLayout(new FormLayout());
  spoon.props.setLook(transHistoryComposite);
  addToolBar();
  addLogTableTabs();
  tabFolder.setSelection(0);
  transHistoryComposite.pack();
  transHistoryTab.setControl(transHistoryComposite);
  transGraph.extraViewTabFolder.setSelection(transHistoryTab);
  refreshHistory();
  Timer timer=new Timer();
  TimerTask timerTask=new TimerTask(){
    public void run(){
      if (displayRefreshNeeded) {
        displayRefreshNeeded=false;
        for (int i=0; i < logTables.size(); i++) {
          final int index=i;
          spoon.getDisplay().syncExec(new Runnable(){
            public void run(){
              displayHistoryData(logTables.get(index),index,rowList.get(index));
            }
          }
);
        }
      }
    }
  }
;
  timer.schedule(timerTask,1000,1000);
}
