{
  String[] parameters;
  String[] parameterValues;
  if (meta.isPassingAllParameters()) {
    parameters=data.mappingTransMeta.listParameters();
    parameterValues=new String[parameters.length];
    for (int i=0; i < parameters.length; i++) {
      parameterValues[i]=environmentSubstitute(parameters[i]);
    }
  }
 else {
    parameters=meta.getParameters();
    parameterValues=new String[parameters.length];
    for (int i=0; i < parameters.length; i++) {
      if (data.fieldIndexes[i] < 0) {
        parameterValues[i]=environmentSubstitute(meta.getParameterValues()[i]);
      }
 else {
        parameterValues[i]=rowMeta.getString(rowData,data.fieldIndexes[i]);
      }
    }
  }
}
