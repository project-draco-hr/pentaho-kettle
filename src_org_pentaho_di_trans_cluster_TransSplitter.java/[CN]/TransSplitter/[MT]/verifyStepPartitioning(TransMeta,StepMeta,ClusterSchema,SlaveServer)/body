{
  StepPartitioningMeta partitioningMeta=stepMeta.getStepPartitioningMeta();
  if (partitioningMeta != null && partitioningMeta.getMethod() != StepPartitioningMeta.PARTITIONING_METHOD_NONE) {
    String schemaName=partitioningMeta.getPartitionSchema().getName() + " (slave)";
    PartitionSchema targetSchema=slave.findPartitionSchema(schemaName);
    if (targetSchema == null) {
      throw new KettleException("Internal error: unable to find required Partitioning schema [" + schemaName + "]");
    }
    StepPartitioningMeta targetPartitioningMeta=new StepPartitioningMeta(partitioningMeta.getMethod(),partitioningMeta.getFieldName(),targetSchema);
    stepMeta.setStepPartitioningMeta(targetPartitioningMeta);
  }
}
