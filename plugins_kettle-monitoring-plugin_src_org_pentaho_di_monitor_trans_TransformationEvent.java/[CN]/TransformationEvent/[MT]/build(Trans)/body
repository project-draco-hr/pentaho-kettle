{
  if (trans == null) {
    return this;
  }
  setLogChannelId(trans.getLogChannelId());
  setBatchId(trans.getBatchId());
  setExecutingServer(trans.getExecutingServer());
  setExecutingUser(trans.getExecutingUser());
  setStartTimeMillis(trans.getCurrentDate() != null ? trans.getCurrentDate().getTime() : 0);
  setStatus(eventType.getSnmpId());
  setErrors(trans.getErrors());
  if (trans.getParentJob() != null) {
    setParentJobName(trans.getParentJob().getJobMeta() != null ? trans.getParentJob().getJobMeta().getName() : null);
    setParentBatchId(trans.getParentJob().getBatchId());
    setParentLogChannelId(trans.getParentJob().getLogChannelId());
  }
  if (trans.getParentTrans() != null) {
    setParentJobName(trans.getParentTrans().getTransMeta() != null ? trans.getParentTrans().getTransMeta().getName() : null);
    setParentBatchId(trans.getParentTrans().getBatchId());
    setParentLogChannelId(trans.getParentTrans().getLogChannelId());
  }
  if (this.eventType == EventType.Transformation.FINISHED) {
    setEndTimeMillis(new Date().getTime());
    setRuntimeInMillis(getEndTimeMillis() - getStartTimeMillis());
    if (trans.getResult() != null) {
      setLinesInput(trans.getResult().getNrLinesInput());
      setLinesOutput(trans.getResult().getNrLinesOutput());
      setLinesRead(trans.getResult().getNrLinesRead());
      setLinesWritten(trans.getResult().getNrLinesWritten());
      setLinesUpdated(trans.getResult().getNrLinesUpdated());
      setLinesRejected(trans.getResult().getNrLinesRejected());
    }
  }
  setEventLogs(filterEventLogging(getLogChannelId()));
  setLog(getEventLogsAsString());
  return build(trans.getTransMeta());
}
