{
  boolean result=false;
  try {
    List<Object> dirList=new ArrayList<Object>();
    List<UIRepositoryObject> moveList=new ArrayList<UIRepositoryObject>();
    UIRepositoryDirectory targetDirectory=null;
    if (event.getDropParent() != null && event.getDropParent() instanceof UIRepositoryDirectory) {
      targetDirectory=(UIRepositoryDirectory)event.getDropParent();
      if (event.getDataTransfer().getData().size() > 0) {
        for (        Object o : event.getDataTransfer().getData()) {
          if (o instanceof UIRepositoryObject) {
            moveList.add((UIRepositoryObject)o);
            if (o instanceof UIRepositoryDirectory) {
              dirList.add(o);
            }
            result=true;
          }
        }
      }
    }
    if (result == true) {
      for (      UIRepositoryObject o : moveList) {
        o.move(targetDirectory);
      }
      event.getDataTransfer().setData(dirList);
    }
  }
 catch (  Exception e) {
    result=false;
    event.setAccepted(false);
    messageBox.setTitle(messages.getString("Dialog.Error"));
    messageBox.setAcceptLabel(messages.getString("Dialog.Ok"));
    messageBox.setMessage(BaseMessages.getString(RepositoryExplorer.class,"BrowseController.UnableToMove",e.getLocalizedMessage()));
    messageBox.open();
  }
  event.setAccepted(result);
}
