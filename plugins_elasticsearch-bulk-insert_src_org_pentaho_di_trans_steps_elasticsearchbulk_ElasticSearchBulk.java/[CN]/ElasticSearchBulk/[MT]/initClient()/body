{
  Settings.Builder settingsBuilder=Settings.builder();
  settingsBuilder.put(Settings.Builder.EMPTY_SETTINGS);
  settingsBuilder.put(meta.getSettingsMap());
  TransportClient.Builder tClientBuilder=TransportClient.builder().settings(settingsBuilder);
  if (!meta.servers.isEmpty()) {
    node=null;
    TransportClient tClient=tClientBuilder.build();
    for (    ElasticSearchBulkMeta.Server s : meta.servers) {
      tClient.addTransportAddress(s.getAddr());
    }
    client=tClient;
  }
 else {
    NodeBuilder nodeBuilder=NodeBuilder.nodeBuilder();
    nodeBuilder.settings(settingsBuilder);
    node=nodeBuilder.client(true).node();
    client=node.client();
    node.start();
  }
}
