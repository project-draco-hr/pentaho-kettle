{
  String[] ids=partitioner.name();
  if (ids.length == 1 && ids[0].equals("")) {
    throw new KettlePluginException("No ID specified for plugin with class: " + clazz.getName());
  }
  String packageName=partitioner.i18nPackageName();
  if (Const.isEmpty(packageName))   packageName=StepInterface.class.getPackage().getName();
  String altPackageName=clazz.getPackage().getName();
  String description=getTranslation(partitioner.description(),packageName,altPackageName,clazz);
  String tooltip=getTranslation(partitioner.tooltip(),packageName,altPackageName,clazz);
  String category=null;
  Map<Class<?>,String> classMap=new HashMap<Class<?>,String>();
  classMap.put(Partitioner.class,clazz.getName());
  PluginInterface stepPlugin=new Plugin(ids,this.getClass(),Partitioner.class,category,description,tooltip,null,false,nativeStep,classMap,libraries,null,null);
  registry.registerPlugin(this.getClass(),stepPlugin);
}
