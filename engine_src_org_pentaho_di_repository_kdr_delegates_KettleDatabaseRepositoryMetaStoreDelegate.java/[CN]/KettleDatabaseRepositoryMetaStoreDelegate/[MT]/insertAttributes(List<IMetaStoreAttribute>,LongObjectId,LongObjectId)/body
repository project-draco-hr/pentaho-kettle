{
  for (  IMetaStoreAttribute child : children) {
    LongObjectId attributeId=repository.connectionDelegate.getNextID(quoteTable(KettleDatabaseRepository.TABLE_R_ELEMENT_ATTRIBUTE),quote(KettleDatabaseRepository.FIELD_ELEMENT_ATTRIBUTE_ID_ELEMENT_ATTRIBUTE));
    RowMetaAndData table=new RowMetaAndData();
    table.addValue(new ValueMeta(KettleDatabaseRepository.FIELD_ELEMENT_ATTRIBUTE_ID_ELEMENT_ATTRIBUTE,ValueMetaInterface.TYPE_INTEGER),attributeId.longValue());
    table.addValue(new ValueMeta(KettleDatabaseRepository.FIELD_ELEMENT_ATTRIBUTE_ID_ELEMENT,ValueMetaInterface.TYPE_INTEGER),elementId.longValue());
    table.addValue(new ValueMeta(KettleDatabaseRepository.FIELD_ELEMENT_ATTRIBUTE_ID_ELEMENT_ATTRIBUTE_PARENT,ValueMetaInterface.TYPE_INTEGER),parentAttributeId.longValue());
    table.addValue(new ValueMeta(KettleDatabaseRepository.FIELD_ELEMENT_ATTRIBUTE_KEY,ValueMetaInterface.TYPE_STRING),child.getId());
    table.addValue(new ValueMeta(KettleDatabaseRepository.FIELD_ELEMENT_ATTRIBUTE_VALUE,ValueMetaInterface.TYPE_STRING),encodeAttributeValue(child.getValue()));
    repository.connectionDelegate.getDatabase().prepareInsert(table.getRowMeta(),KettleDatabaseRepository.TABLE_R_ELEMENT_ATTRIBUTE);
    repository.connectionDelegate.getDatabase().setValuesInsert(table);
    repository.connectionDelegate.getDatabase().insertRow();
    repository.connectionDelegate.getDatabase().closeInsert();
    child.setId(attributeId.toString());
  }
}
