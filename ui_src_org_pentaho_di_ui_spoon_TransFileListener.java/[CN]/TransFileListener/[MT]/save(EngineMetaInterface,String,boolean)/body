{
  Spoon spoon=Spoon.getInstance();
  EngineMetaInterface lmeta;
  if (export) {
    lmeta=(TransMeta)((TransMeta)meta).realClone(false);
  }
 else {
    lmeta=meta;
  }
  try {
    ExtensionPointHandler.callExtensionPoint(spoon.getLog(),KettleExtensionPoint.TransBeforeClose.id,lmeta);
  }
 catch (  KettleException e) {
  }
  boolean saveStatus=spoon.saveMeta(lmeta,fname);
  if (saveStatus) {
    try {
      ExtensionPointHandler.callExtensionPoint(spoon.getLog(),KettleExtensionPoint.TransAfterClose.id,lmeta);
    }
 catch (    KettleException e) {
    }
  }
  return saveStatus;
}
