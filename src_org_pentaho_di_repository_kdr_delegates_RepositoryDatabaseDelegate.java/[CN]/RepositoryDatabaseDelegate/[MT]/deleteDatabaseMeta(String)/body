{
  if (!RepositorySecurity.isReadOnly(repository)) {
    try {
      ObjectId id_database=getDatabaseID(databaseName);
      delDatabase(id_database);
    }
 catch (    KettleException dbe) {
      throw new KettleException(BaseMessages.getString(PKG,"KettleDatabaseRepository.Exception.ErrorDeletingConnection.Message",databaseName),dbe);
    }
  }
 else {
    throw new KettleException(BaseMessages.getString(PKG,"KettleDatabaseRepository.Exception.ReadOnlyUser"));
  }
}
