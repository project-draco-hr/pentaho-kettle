{
switch (stream.getStreamType()) {
case ERROR:
    addErrorHop();
  spoon.newHop(transMeta,candidate);
break;
case INPUT:
spoon.newHop(transMeta,candidate);
break;
case OUTPUT:
StepErrorMeta stepErrorMeta=candidate.getFromStep().getStepErrorMeta();
if (stepErrorMeta != null && stepErrorMeta.getTargetStep() != null) {
if (stepErrorMeta.getTargetStep().equals(candidate.getToStep())) {
candidate.getFromStep().setStepErrorMeta(null);
}
}
spoon.newHop(transMeta,candidate);
break;
case INFO:
stream.setStepMeta(candidate.getFromStep());
candidate.getToStep().getStepMetaInterface().handleStreamSelection(stream);
spoon.newHop(transMeta,candidate);
break;
case TARGET:
stream.setStepMeta(candidate.getToStep());
candidate.getFromStep().getStepMetaInterface().handleStreamSelection(stream);
spoon.newHop(transMeta,candidate);
break;
}
clearSettings();
}
