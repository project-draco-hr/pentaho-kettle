{
  KeyAdapter keyAdapter=new KeyAdapter(){
    public void keyPressed(    KeyEvent e){
      if (e.keyCode == SWT.ESC) {
        clearSettings();
        redraw();
      }
      if (e.keyCode == SWT.DEL) {
        List<StepMeta> stepMeta=transMeta.getSelectedSteps();
        if (stepMeta != null && stepMeta.size() > 0) {
          delSelected(null);
        }
      }
      if (e.keyCode == SWT.ARROW_UP && (e.stateMask & SWT.CONTROL) != 0) {
        alligntop();
      }
      if (e.keyCode == SWT.ARROW_DOWN && (e.stateMask & SWT.CONTROL) != 0) {
        allignbottom();
      }
      if (e.keyCode == SWT.ARROW_LEFT && (e.stateMask & SWT.CONTROL) != 0) {
        allignleft();
      }
      if (e.keyCode == SWT.ARROW_RIGHT && (e.stateMask & SWT.CONTROL) != 0) {
        allignright();
      }
      if (e.keyCode == SWT.ARROW_RIGHT && (e.stateMask & SWT.ALT) != 0) {
        distributehorizontal();
      }
      if (e.keyCode == SWT.ARROW_UP && (e.stateMask & SWT.ALT) != 0) {
        distributevertical();
      }
      if (e.keyCode == SWT.HOME && (e.stateMask & SWT.ALT) != 0) {
        snaptogrid(ConstUI.GRID_SIZE);
      }
      if (e.character == 'E' && (e.stateMask & SWT.CTRL) != 0) {
        checkErrorVisuals();
      }
      if (e.character == ' ' && lastMove != null) {
        dumpLoggingRegistry();
        Point real=screen2real(lastMove.x,lastMove.y);
        hideToolTips();
        StepMeta stepMeta=transMeta.getStep(real.x,real.y,iconsize);
        if (stepMeta != null) {
          inputOutputFields(stepMeta,false);
        }
      }
    }
  }
;
  control.addKeyListener(keyAdapter);
}
