{
  KeyAdapter keyAdapter=new KeyAdapter(){
    public void keyPressed(    KeyEvent e){
      if (e.keyCode == SWT.F2) {
        renameStep();
      }
      if (e.character == 1) {
        transMeta.selectAll();
        redraw();
      }
      if (e.character == 3) {
        spoon.copySelected(transMeta,transMeta.getSelectedSteps(),transMeta.getSelectedNotes());
      }
      if (e.character == 22) {
        spoon.pasteSteps();
      }
      if (e.keyCode == SWT.ESC) {
        transMeta.unselectAll();
        clearSettings();
        redraw();
      }
      if (e.keyCode == SWT.DEL) {
        StepMeta stepMeta[]=transMeta.getSelectedSteps();
        if (stepMeta != null && stepMeta.length > 0) {
          delSelected(null);
        }
      }
      if (e.keyCode == SWT.ARROW_UP && (e.stateMask & SWT.CONTROL) != 0) {
        alligntop();
      }
      if (e.keyCode == SWT.ARROW_DOWN && (e.stateMask & SWT.CONTROL) != 0) {
        allignbottom();
      }
      if (e.keyCode == SWT.ARROW_LEFT && (e.stateMask & SWT.CONTROL) != 0) {
        allignleft();
      }
      if (e.keyCode == SWT.ARROW_RIGHT && (e.stateMask & SWT.CONTROL) != 0) {
        allignright();
      }
      if (e.keyCode == SWT.ARROW_RIGHT && (e.stateMask & SWT.ALT) != 0) {
        distributehorizontal();
      }
      if (e.keyCode == SWT.ARROW_UP && (e.stateMask & SWT.ALT) != 0) {
        distributevertical();
      }
      if (e.keyCode == SWT.HOME && (e.stateMask & SWT.ALT) != 0) {
        snaptogrid(ConstUI.GRID_SIZE);
      }
      if (e.character == ' ' && lastMove != null) {
        Point real=screen2real(lastMove.x,lastMove.y);
        setToolTipText(null);
        StepMeta stepMeta=transMeta.getStep(real.x,real.y,iconsize);
        if (stepMeta != null) {
          inputOutputFields(stepMeta,false);
        }
      }
    }
  }
;
  control.addKeyListener(keyAdapter);
}
