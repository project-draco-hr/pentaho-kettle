{
  StepMeta stepMeta=getCurrentStep();
  final BaseStep runThread=trans.findRunThread(stepMeta.getName());
  if (runThread != null) {
    List<Object[]> rows=new ArrayList<Object[]>();
    final PreviewRowsDialog dialog=new PreviewRowsDialog(shell,trans,SWT.NONE,stepMeta.getName(),null,rows);
    dialog.setDynamic(true);
    final RowListener rowListener=new RowListener(){
      public void rowWrittenEvent(      RowMetaInterface rowMeta,      Object[] row) throws KettleStepException {
        dialog.addDataRow(rowMeta,row);
      }
      public void rowReadEvent(      RowMetaInterface rowMeta,      Object[] row) throws KettleStepException {
      }
      public void errorRowWrittenEvent(      RowMetaInterface rowMeta,      Object[] row) throws KettleStepException {
      }
    }
;
    getDisplay().asyncExec(new Runnable(){
      public void run(){
        dialog.open();
        runThread.removeRowListener(rowListener);
      }
    }
);
    runThread.addRowListener(rowListener);
  }
}
