{
  NotePadMeta before=(NotePadMeta)ni.clone();
  String title=Messages.getString("TransGraph.Dialog.EditNote.Title");
  String message=Messages.getString("TransGraph.Dialog.EditNote.Message");
  EnterTextDialog dd=new EnterTextDialog(shell,title,message,ni.getNote());
  String n=dd.open();
  if (n != null) {
    ni.setChanged();
    ni.setNote(n);
    ni.width=ConstUI.NOTE_MIN_SIZE;
    ni.height=ConstUI.NOTE_MIN_SIZE;
    NotePadMeta after=(NotePadMeta)ni.clone();
    spoon.addUndoChange(transMeta,new NotePadMeta[]{before},new NotePadMeta[]{after},new int[]{transMeta.indexOfNote(ni)});
    spoon.refreshGraph();
  }
}
