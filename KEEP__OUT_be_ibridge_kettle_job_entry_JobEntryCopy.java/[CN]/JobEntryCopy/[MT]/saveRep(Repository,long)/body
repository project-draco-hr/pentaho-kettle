{
  try {
    long id_jobentry=rep.getJobEntryID(getName(),id_job);
    if (id_jobentry <= 0) {
      entry.saveRep(rep,id_job);
      id_jobentry=entry.getID();
    }
    long id_jobentry_type=rep.getJobEntryTypeID(entry.getTypeCode());
    if (id_jobentry_type < 0) {
      rep.updateJobEntryTypes();
      id_jobentry_type=rep.getJobEntryTypeID(entry.getTypeCode());
    }
    setID(rep.insertJobEntryCopy(id_job,id_jobentry,id_jobentry_type,getNr(),getLocation().x,getLocation().y,isDrawn(),isParallel()));
  }
 catch (  KettleDatabaseException dbe) {
    throw new KettleException("Unable to save job entry copy to the repository, id_job=" + id_job,dbe);
  }
}
