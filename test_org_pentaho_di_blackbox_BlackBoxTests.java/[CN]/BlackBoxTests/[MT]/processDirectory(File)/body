{
  File[] files=dir.listFiles();
  for (int i=0; i < files.length; i++) {
    if (files[i].isDirectory()) {
      processDirectory(files[i]);
    }
  }
  for (int i=0; i < files.length; i++) {
    if (files[i].isFile()) {
      String name=files[i].getName();
      if (name.endsWith(".ktr") && !name.endsWith("-tmp.ktr")) {
        List<File> expected=getExpectedOutputFile(dir,name.substring(0,name.length() - 4));
        Object[] params={files[i],expected};
        allTests.add(params);
      }
 else       if (name.endsWith(".kjb")) {
        System.out.println("JOBS NOT YET HANDLED: " + name);
      }
    }
  }
}
