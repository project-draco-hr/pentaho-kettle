{
  File files[]=dir.listFiles();
  for (int i=0; i < files.length; i++) {
    if (files[i].isDirectory()) {
      processDirectory(files[i]);
    }
  }
  for (int i=0; i < files.length; i++) {
    if (files[i].isFile()) {
      String name=files[i].getName();
      if (name.endsWith(".ktr") && !name.endsWith("-tmp.ktr")) {
        File expected=getExpectedOutputFile(dir,name.substring(0,name.length() - 4));
        try {
          runTrans(files[i],expected);
        }
 catch (        AssertionFailedError failure) {
          System.err.println(failure.getMessage());
        }
      }
 else       if (name.endsWith(".kjb")) {
        System.out.println(name);
      }
    }
  }
}
