{
  String xml=schema.getXML();
  try {
    FileWriter fw=new FileWriter(fname);
    fw.write(xml);
    fw.close();
    schema.props.addLastFile(Props.TYPE_PROPERTIES_MENU,fname,Const.FILE_SEPARATOR,false,"");
    saveSettings();
    addMenuLast();
    schema.clearChanged();
    setShellText();
    log.logDebug(toString(),"File written to [" + fname + "]");
  }
 catch (  Exception e) {
    log.logDebug(toString(),"Error opening file for writing! --> " + e.toString());
    MessageBox mb=new MessageBox(shell,SWT.OK | SWT.ICON_ERROR);
    mb.setMessage("Error saving file:" + Const.CR + e.toString());
    mb.setText("ERROR");
    mb.open();
  }
}
