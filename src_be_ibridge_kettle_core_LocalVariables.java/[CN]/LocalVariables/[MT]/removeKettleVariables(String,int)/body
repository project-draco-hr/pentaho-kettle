{
  LogWriter log=LogWriter.getInstance();
  List children=getKettleVariablesWithParent(thread);
  for (int i=0; i < children.size(); i++) {
    String child=(String)children.get(i);
    removeKettleVariables(child,level + 1);
  }
  if (map.get(thread) == null) {
    log.logError("LocalVariables!!!!!!!","The variables you are trying to remove, do not exist for thread [" + thread + "]");
    log.logError("LocalVariables!!!!!!!","Please report this error to the Kettle developers.");
  }
 else {
    map.remove(thread);
  }
}
