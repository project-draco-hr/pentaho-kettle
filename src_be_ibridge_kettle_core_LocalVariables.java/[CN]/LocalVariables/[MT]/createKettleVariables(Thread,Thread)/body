{
  System.out.println("---> Create new KettleVariables for thread [" + localThread + "]");
  KettleVariables vars=new KettleVariables(localThread,parentThread);
  if (parentThread != null) {
    KettleVariables initialValue=getKettleVariables(parentThread);
    if (initialValue != null) {
      vars.putAll(initialValue.getProperties());
    }
 else {
      System.out.println("---> No parent Kettle Variables found for thread [" + parentThread + "]");
    }
  }
  KettleVariables checkVars=(KettleVariables)map.get(localThread);
  if (checkVars != null) {
    System.out.println("---> There are already variables in the local variables map for [" + localThread + "]");
  }
  map.put(localThread,vars);
  return vars;
}
