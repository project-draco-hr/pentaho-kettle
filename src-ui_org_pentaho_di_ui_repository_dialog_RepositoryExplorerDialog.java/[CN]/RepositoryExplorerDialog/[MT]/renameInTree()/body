{
  TreeItem ti[]=wTree.getSelection();
  if (ti.length == 1) {
    final TreeItem item=ti[0];
    int level=ConstUI.getTreeLevel(item);
    String text[]=ConstUI.getTreeStrings(item);
    int cat=getItemCategory(item);
switch (cat) {
case ITEM_CATEGORY_DATABASE:
      renameDatabase();
    break;
case ITEM_CATEGORY_TRANSFORMATION:
{
    final String name=item.getText();
    String path[]=new String[level - 2];
    for (int i=0; i < path.length; i++)     path[i]=text[i + 2];
    RepositoryDirectory repdir=rep.getDirectoryTree().findDirectory(path);
    if (repdir != null)     renameTransformation(name,repdir);
  }
break;
case ITEM_CATEGORY_JOB:
{
final String name=item.getText();
String path[]=new String[level - 2];
for (int i=0; i < path.length; i++) path[i]=text[i + 2];
RepositoryDirectory repdir=rep.getDirectoryTree().findDirectory(path);
if (repdir != null) renameJob(name,repdir);
}
break;
case ITEM_CATEGORY_USER:
renameUser();
break;
case ITEM_CATEGORY_PROFILE:
renameProfile();
break;
default :
break;
}
}
}
