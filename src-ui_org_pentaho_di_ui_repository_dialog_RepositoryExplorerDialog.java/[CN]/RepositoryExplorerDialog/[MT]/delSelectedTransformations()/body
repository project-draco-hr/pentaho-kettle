{
  boolean retval=false;
  TreeItem tiSel[]=wTree.getSelection();
  boolean done=false;
  boolean error=false;
  MessageBox mb=new MessageBox(shell,SWT.ICON_WARNING | SWT.YES | SWT.NO);
  mb.setMessage(BaseMessages.getString(PKG,"RepositoryExplorerDialog.Trans.Delete.Confirm.Message1") + (tiSel.length > 1 ? BaseMessages.getString(PKG,"RepositoryExplorerDialog.Trans.Delete.Confirm.Message2") + tiSel.length + BaseMessages.getString(PKG,"RepositoryExplorerDialog.Trans.Delete.Confirm.Message3") : BaseMessages.getString(PKG,"RepositoryExplorerDialog.Trans.Delete.Confirm.Message4")));
  mb.setText(BaseMessages.getString(PKG,"RepositoryExplorerDialog.Trans.Delete.Confirm.Title"));
  int answer=mb.open();
  if (answer != SWT.YES) {
    return false;
  }
  for (int i=0; i < tiSel.length; i++) {
    TreeItem ti=tiSel[i];
    String name=ti.getText();
    done=false;
    RepositoryDirectory repdir=getDirectory(ti);
    try {
      ObjectId id=rep.getTransformationID(ti.getText(),repdir);
      if (id != null) {
        try {
          rep.delAllFromTrans(id);
          done=true;
        }
 catch (        KettleException dbe) {
          new ErrorDialog(shell,BaseMessages.getString(PKG,"RepositoryExplorerDialog.Trans.Delete.ErrorRemoving.Title"),BaseMessages.getString(PKG,"RepositoryExplorerDialog.Trans.Delete.ErrorRemoving.Message") + name + "]",dbe);
          error=true;
        }
      }
 else {
        mb=new MessageBox(shell,SWT.ICON_ERROR | SWT.OK);
        mb.setMessage(BaseMessages.getString(PKG,"RepositoryExplorerDialog.Trans.Delete.ErrorFinding.Message1") + name + "]"+ Const.CR+ BaseMessages.getString(PKG,"RepositoryExplorerDialog.Trans.Delete.ErrorFinding.Message2"));
        mb.setText(BaseMessages.getString(PKG,"RepositoryExplorerDialog.Trans.Delete.ErrorFinding.Title"));
        mb.open();
        error=true;
      }
      if (!error) {
        retval=true;
      }
      if (done)       ti.dispose();
    }
 catch (    KettleException dbe) {
      new ErrorDialog(shell,BaseMessages.getString(PKG,"RepositoryExplorerDialog.Trans.Delete.ErrorDeleting.Title"),BaseMessages.getString(PKG,"RepositoryExplorerDialog.Trans.Delete.ErrorDeleting.Message"),dbe);
      error=true;
    }
  }
  return retval;
}
