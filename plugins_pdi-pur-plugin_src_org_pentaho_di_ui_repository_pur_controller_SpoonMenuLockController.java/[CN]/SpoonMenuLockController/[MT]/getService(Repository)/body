{
  if (repository.hasService(ILockService.class)) {
    return (ILockService)repository.getService(ILockService.class);
  }
 else {
    throw new IllegalStateException();
  }
}
