{
  try {
    EngineMetaInterface meta=getActiveMeta();
    if (meta != null) {
      if (meta.canSave()) {
        return saveFileAs(meta);
      }
    }
  }
 catch (  Exception e) {
    KettleRepositoryLostException krle=KettleRepositoryLostException.lookupStackStrace(e);
    if (krle != null) {
      new ErrorDialog(shell,BaseMessages.getString(PKG,"Spoon.File.Save.Fail.Title"),krle.getPrefaceMessage(),krle);
      closeRepository();
    }
 else {
      new ErrorDialog(shell,BaseMessages.getString(PKG,"Spoon.File.Save.Fail.Title"),BaseMessages.getString(PKG,"Spoon.File.Save.Fail.Message"),e);
    }
  }
  return false;
}
