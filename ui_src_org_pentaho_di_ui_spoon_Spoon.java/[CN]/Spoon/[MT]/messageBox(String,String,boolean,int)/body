{
  final StringBuilder answer=new StringBuilder("N");
  display.syncExec(new Runnable(){
    @Override public void run(){
      int flags=SWT.OK;
      if (allowCancel) {
        flags|=SWT.CANCEL;
      }
switch (type) {
case Const.INFO:
        flags|=SWT.ICON_INFORMATION;
      break;
case Const.ERROR:
    flags|=SWT.ICON_ERROR;
  break;
case Const.WARNING:
flags|=SWT.ICON_WARNING;
break;
default :
break;
}
MessageBox mb=new MessageBox(shell,flags);
mb.setMessage(message);
mb.setText(text);
if (mb.open() == SWT.OK) {
answer.setCharAt(0,'Y');
}
}
}
);
return "Y".equalsIgnoreCase(answer.toString());
}
