{
  if (log.isDetailed())   logDetailed("Reading from step [" + meta.getLookupStepname() + "]");
  RowMetaInterface parametersMeta=new RowMeta();
  Object[] parametersData=new Object[]{};
  RowMetaAndData parameters=new RowMetaAndData(parametersMeta,parametersData);
  RowSet rowSet=findInputRowSet(meta.getLookupStepname());
  Object[] rowData=getRowFrom(rowSet);
  while (rowData != null) {
    parametersData=RowDataUtil.addRowData(parametersData,parametersMeta.size(),rowData);
    parametersMeta.addRowMeta(rowSet.getRowMeta());
    rowData=getRowFrom(rowSet);
  }
  if (parametersMeta.size() == 0) {
    throw new KettleException("Expected to read parameters from step [" + meta.getLookupStepname() + "] but none were found.");
  }
  return parameters;
}
