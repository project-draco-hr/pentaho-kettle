{
  boolean folderexists=false;
  String errmsg="";
  try {
    String realfoldername=jobMeta.environmentSubstitute(wFtpDirectory.getText());
    if (!Const.isEmpty(realfoldername)) {
      if (connect()) {
        if (wProtocol.getText().equals("FTP")) {
          ftpclient.chdir(pwdFolder);
          ftpclient.chdir(realfoldername);
          folderexists=true;
        }
 else         if (wProtocol.getText().equals("SFTP")) {
          sftpclient.chdir(pwdFolder);
          sftpclient.chdir(realfoldername);
          folderexists=true;
        }
 else         if (wProtocol.getText().equals("SSH")) {
          SFTPv3Client client=new SFTPv3Client(conn);
          boolean folderexist=sshDirectoryExists(client,realfoldername);
          client.close();
          if (folderexist) {
            folderexists=true;
          }
 else {
            folderexists=false;
          }
        }
      }
    }
  }
 catch (  Exception e) {
    errmsg=e.getMessage();
  }
  if (folderexists) {
    MessageBox mb=new MessageBox(shell,SWT.OK | SWT.ICON_INFORMATION);
    mb.setMessage(Messages.getString("JobFTPDelete.FolderExists.OK",wFtpDirectory.getText()) + Const.CR);
    mb.setText(Messages.getString("JobFTPDelete.FolderExists.Title.Ok"));
    mb.open();
  }
 else {
    MessageBox mb=new MessageBox(shell,SWT.OK | SWT.ICON_ERROR);
    mb.setMessage(Messages.getString("JobFTPDelete.FolderExists.NOK",wFtpDirectory.getText()) + Const.CR + errmsg);
    mb.setText(Messages.getString("JobFTPDelete.FolderExists.Title.Bad"));
    mb.open();
  }
}
