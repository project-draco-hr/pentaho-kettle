{
  if (endBuffer >= bb.capacity()) {
    ByteBuffer newBuffer=ByteBuffer.allocateDirect((int)(bb.capacity() * 1.5));
    newBuffer.position(0);
    newBuffer.put(bb);
    bb=newBuffer;
  }
  bb.position(endBuffer);
  int n=fc.read(bb);
  if (n == -1) {
    return false;
  }
 else {
    bufferSize=endBuffer + n;
    bb.position(endBuffer);
    bb.get(byteBuffer,endBuffer,n);
    return true;
  }
}
