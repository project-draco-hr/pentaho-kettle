{
  List<String> directories=new ArrayList<String>();
  directories.add("src-core");
  directories.add("src");
  directories.add("src-ui");
  List<String> filesToAvoid=new ArrayList<String>();
  filesToAvoid.add("MessagesSourceCrawler.java");
  filesToAvoid.add("KeyOccurence.java");
  filesToAvoid.add("TransLator.java");
  filesToAvoid.add("MenuHelper.java");
  filesToAvoid.add("Messages.java");
  filesToAvoid.add("XulMessages.java");
  filesToAvoid.add("AnnotatedStepsConfigManager.java");
  filesToAvoid.add("AnnotatedJobConfigManager.java");
  filesToAvoid.add("JobEntryValidatorUtils.java");
  filesToAvoid.add("Const.java");
  filesToAvoid.add("XulHelper.java");
  List<SourceCrawlerXMLFolder> xmlFolders=new ArrayList<SourceCrawlerXMLFolder>();
  SourceCrawlerXMLFolder xmlFolder=new SourceCrawlerXMLFolder("ui",".*\\.xul$");
  xmlFolder.getElements().add(new SourceCrawlerXMLElement("menu","label"));
  xmlFolder.getElements().add(new SourceCrawlerXMLElement("menuitem","label"));
  xmlFolder.getElements().add(new SourceCrawlerXMLElement("toolbar","label"));
  xmlFolder.getElements().add(new SourceCrawlerXMLElement("toolbarbutton","label"));
  xmlFolders.add(xmlFolder);
  MessagesSourceCrawler crawler=new MessagesSourceCrawler(directories,null,xmlFolders);
  crawler.setFilesToAvoid(filesToAvoid);
  crawler.crawl();
  int mis=0;
  LanguageChoice.getInstance().setDefaultLocale(Locale.US);
  for (  KeyOccurrence occ : crawler.getOccurrences()) {
    String translation=BaseMessages.getString(occ.getMessagesPackage(),occ.getKey());
    if (translation.startsWith("!")) {
      mis++;
      System.out.println(mis + "\t" + occ.getKey()+ "\t"+ occ.getRow()+ "\t"+ occ.getMessagesPackage()+ "\t"+ occ.getFileObject().getName().getBaseName()+ "\t"+ occ.getFileObject().getParent());
    }
  }
  System.out.println("-------------------------------------------------");
  System.out.println("Found " + crawler.getOccurrences().size());
  System.out.println("-------------------------------------------------");
  List<String> packageNames=crawler.getMessagesPackagesList();
  System.out.println("Packages found : " + packageNames.size());
}
