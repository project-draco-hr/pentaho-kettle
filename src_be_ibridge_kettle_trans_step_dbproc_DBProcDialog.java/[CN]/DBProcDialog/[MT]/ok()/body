{
  int i;
  int nrargs=wFields.nrNonEmpty();
  input.allocate(nrargs);
  log.logDebug(toString(),Messages.getString("DBProcDialog.Log.FoundArguments",String.valueOf(nrargs)));
  for (i=0; i < nrargs; i++) {
    TableItem item=wFields.getNonEmpty(i);
    input.getArgument()[i]=item.getText(1);
    input.getArgumentDirection()[i]=item.getText(2);
    input.getArgumentType()[i]=Value.getType(item.getText(3));
  }
  input.setDatabase(transMeta.findDatabase(wConnection.getText()));
  input.setProcedure(wProcName.getText());
  input.setResultName(wResult.getText());
  input.setResultType(Value.getType(wResultType.getText()));
  stepname=wStepname.getText();
  if (input.getDatabase() == null) {
    MessageBox mb=new MessageBox(shell,SWT.OK | SWT.ICON_ERROR);
    mb.setMessage(Messages.getString("DBProcDialog.InvalidConnection.DialogMessage"));
    mb.setText(Messages.getString("DBProcDialog.InvalidConnection.DialogTitle"));
    mb.open();
  }
  dispose();
}
