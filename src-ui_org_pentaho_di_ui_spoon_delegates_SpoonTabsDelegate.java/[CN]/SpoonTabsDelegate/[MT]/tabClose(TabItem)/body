{
  List<TabMapEntry> collection=new ArrayList<TabMapEntry>();
  collection.addAll(tabMap.values());
  int idx=0;
  boolean close=true;
  for (  TabMapEntry entry : collection) {
    if (item.equals(entry.getTabItem())) {
      TabItemInterface itemInterface=entry.getObject();
      if (!itemInterface.canBeClosed()) {
        int reply=itemInterface.showChangedWarning();
        if (reply == SWT.YES) {
          close=itemInterface.applyChanges();
        }
 else {
          if (reply == SWT.CANCEL) {
            close=false;
          }
 else {
            close=true;
          }
        }
      }
      if (close) {
        if (entry.getObject() instanceof TransGraph) {
          TransMeta transMeta=(TransMeta)entry.getObject().getManagedObject();
          spoon.delegates.trans.closeTransformation(transMeta);
          spoon.refreshTree();
        }
 else         if (entry.getObject() instanceof JobGraph) {
          JobMeta jobMeta=(JobMeta)entry.getObject().getManagedObject();
          spoon.delegates.jobs.closeJob(jobMeta);
          spoon.refreshTree();
        }
 else         if (entry.getObject() instanceof SpoonBrowser) {
          spoon.closeSpoonBrowser();
          spoon.refreshTree();
        }
 else         if (entry.getObject() instanceof Composite) {
          Composite comp=(Composite)entry.getObject();
          if (comp != null && !comp.isDisposed())           comp.dispose();
        }
      }
      break;
    }
    idx+=1;
  }
  if (idx - 1 >= 0) {
    TabMapEntry entry=collection.get(idx - 1);
    if (entry != null) {
      spoon.tabfolder.setSelected(entry.getTabItem());
      tabSelected(entry.getTabItem());
    }
  }
  return close;
}
