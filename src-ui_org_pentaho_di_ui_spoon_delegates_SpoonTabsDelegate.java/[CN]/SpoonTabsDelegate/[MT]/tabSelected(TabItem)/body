{
  ArrayList<TabMapEntry> collection=new ArrayList<TabMapEntry>(tabMap);
  for (  TabMapEntry entry : collection) {
    boolean isTrans=(entry.getObject() instanceof TransGraph);
    if (item.equals(entry.getTabItem())) {
      if (isTrans || entry.getObject() instanceof JobGraph) {
        EngineMetaInterface meta=entry.getObject().getMeta();
        if (meta != null) {
          meta.setInternalKettleVariables();
        }
        if (spoon.getCoreObjectsState() != SpoonInterface.STATE_CORE_OBJECTS_SPOON) {
          spoon.refreshCoreObjects();
        }
      }
      setEnabled("trans-preview",isTrans);
      setEnabled("trans-verify",isTrans);
      setEnabled("trans-impact",isTrans);
      spoon.enableMainEntries(true,false);
      break;
    }
  }
  spoon.refreshTree();
  spoon.enableMenus();
}
