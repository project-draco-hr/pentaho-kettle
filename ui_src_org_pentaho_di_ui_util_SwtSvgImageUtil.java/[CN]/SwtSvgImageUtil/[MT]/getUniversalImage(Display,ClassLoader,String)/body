{
  if (!SvgSupport.isSvgEnabled()) {
    filename=SvgSupport.toPngName(filename);
  }
  SwtUniversalImage result=loadFromClassLoader(display,classLoader,filename);
  if (result == null) {
    result=loadFromClassLoader(display,classLoader,File.separator + filename);
    if (result == null) {
      result=loadFromClassLoader(display,classLoader,"ui" + File.separator + "images"+ File.separator+ filename);
      if (result == null) {
        result=loadFromSimpleVFS(display,filename);
        if (result == null) {
          result=loadFromSimpleVFS(display,File.separator + filename);
          if (result == null) {
            result=loadFromSimpleVFS(display,"ui" + File.separator + "images"+ File.separator+ filename);
            if (result == null) {
              result=loadFromCurrentClasspath(display,filename);
              if (result == null) {
                result=loadFromCurrentClasspath(display,File.separator + filename);
                if (result == null) {
                  result=loadFromCurrentClasspath(display,"ui" + File.separator + "images"+ File.separator+ filename);
                }
              }
            }
          }
        }
      }
    }
  }
  if (result == null && SvgSupport.isSvgEnabled() && SvgSupport.isSvgName(filename)) {
    result=getUniversalImage(display,classLoader,SvgSupport.toPngName(filename));
  }
  if (result == null) {
    result=getUniversalImage(display,classLoader,NO_IMAGE);
  }
  return result;
}
