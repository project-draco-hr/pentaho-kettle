{
  databaseInterfacesMapLock.readLock().lock();
  try {
    if (allDatabaseInterfaces == null) {
      databaseInterfacesMapLock.readLock().unlock();
      try {
        databaseInterfacesMapLock.writeLock().lock();
        allDatabaseInterfaces=createDatabaseInterfacesMap();
      }
  finally {
        databaseInterfacesMapLock.readLock().lock();
        databaseInterfacesMapLock.writeLock().unlock();
      }
    }
    return allDatabaseInterfaces;
  }
  finally {
    databaseInterfacesMapLock.readLock().unlock();
  }
}
