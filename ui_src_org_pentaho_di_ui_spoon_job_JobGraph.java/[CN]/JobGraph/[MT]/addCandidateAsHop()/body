{
  if (hop_candidate != null) {
    if (!hop_candidate.getFromEntry().evaluates() && hop_candidate.getFromEntry().isUnconditional()) {
      hop_candidate.setUnconditional();
    }
 else {
      hop_candidate.setConditional();
      int nr=jobMeta.findNrNextJobEntries(hop_candidate.getFromEntry());
      if (nr == 1) {
        JobEntryCopy jge=jobMeta.findNextJobEntry(hop_candidate.getFromEntry(),0);
        JobHopMeta other=jobMeta.findJobHop(hop_candidate.getFromEntry(),jge);
        if (other != null) {
          hop_candidate.setEvaluation(!other.getEvaluation());
        }
      }
    }
    jobMeta.addJobHop(hop_candidate);
    spoon.addUndoNew(jobMeta,new JobHopMeta[]{hop_candidate},new int[]{jobMeta.indexOfJobHop(hop_candidate)});
    spoon.refreshTree();
    clearSettings();
    redraw();
  }
}
