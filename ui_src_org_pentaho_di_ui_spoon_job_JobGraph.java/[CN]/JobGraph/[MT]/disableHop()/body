{
  selectionRegion=null;
  boolean orig=currentHop.isEnabled();
  currentHop.setEnabled(!currentHop.isEnabled());
  if (!orig && (jobMeta.hasLoop(currentHop.getFromEntry()) || jobMeta.hasLoop(currentHop.getToEntry()))) {
    MessageBox mb=new MessageBox(shell,SWT.CANCEL | SWT.OK | SWT.ICON_WARNING);
    mb.setMessage(BaseMessages.getString(PKG,"JobGraph.Dialog.LoopAfterHopEnabled.Message"));
    mb.setText(BaseMessages.getString(PKG,"JobGraph.Dialog.LoopAfterHopEnabled.Title"));
    int choice=mb.open();
    if (choice == SWT.CANCEL) {
      currentHop.setEnabled(orig);
    }
  }
  spoon.refreshGraph();
  spoon.refreshTree();
}
