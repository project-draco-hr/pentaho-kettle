{
synchronized (configs) {
    for (    PluginConfig plugin : configs) {
      File base=new File(System.getProperty("user.dir"));
      try {
        FileSystemManager mgr=VFS.getManager();
        FileObject fobj=mgr.resolveFile(base,plugin.getLocation());
        if (fobj.isReadable()) {
          String name=fobj.getName().getURI();
          int jindex=name.indexOf(".jar");
          int nlen=name.length();
          boolean isJar=jindex == nlen - 4 || jindex == nlen - 6;
          try {
            if (isJar)             addJob(build(fobj,true));
 else {
              for (              FileObject childFolder : fobj.getChildren()) {
                boolean isAlsoJar=childFolder.getName().getURI().endsWith(".jar");
                if (!isAlsoJar && childFolder.getType() != FileType.FOLDER) {
                  continue;
                }
                if (childFolder.getName().getBaseName().equalsIgnoreCase(".svn")) {
                  continue;
                }
 else                 if (childFolder.getName().getBaseName().equalsIgnoreCase(".cvs")) {
                  continue;
                }
                try {
                  addJob(build(childFolder,isAlsoJar));
                }
 catch (                KettleConfigException e) {
                  log.logError(PLUGIN_LOADER,e.getMessage());
                  continue;
                }
              }
            }
          }
 catch (          FileSystemException e) {
            log.logError(PLUGIN_LOADER,e.getMessage());
            continue;
          }
catch (          KettleConfigException e) {
            log.logError(PLUGIN_LOADER,e.getMessage());
            continue;
          }
        }
 else {
          log.logBasic(PLUGIN_LOADER,fobj + " does not exist.");
        }
      }
 catch (      Exception e) {
        throw new KettleConfigException(e);
      }
    }
  }
  return plugins;
}
