{
synchronized (configs) {
    for (    PluginConfig plugin : configs) {
      File base=new File(System.getProperty("user.dir"));
      try {
        FileSystemManager mgr=VFS.getManager();
        FileObject fobj=mgr.resolveFile(base,plugin.getLocation());
        if (fobj.isReadable()) {
          boolean isJar=fobj.getName().getURI().endsWith("jar!/");
          try {
            if (isJar)             addJob(build(fobj,true));
 else {
              for (              FileObject childFolder : fobj.getChildren()) {
                boolean isAlsoJar=childFolder.getName().getURI().indexOf(".jar") != -1;
                try {
                  addJob(build(childFolder,isAlsoJar));
                }
 catch (                KettleConfigException e) {
                  log.logError(PLUGIN_LOADER,e.getMessage());
                  continue;
                }
              }
            }
          }
 catch (          FileSystemException e) {
            log.logError(PLUGIN_LOADER,e.getMessage());
            continue;
          }
catch (          KettleConfigException e) {
            log.logError(PLUGIN_LOADER,e.getMessage());
            continue;
          }
        }
 else {
          log.logError(PLUGIN_LOADER,fobj + " does not exist.");
        }
      }
 catch (      Exception e) {
        throw new KettleConfigException(e);
      }
    }
  }
  return plugins;
}
