{
  Class type=annot.annotationType();
  if (type == Job.class) {
    Job jobAnnot=(Job)annot;
    String[] libs=getLibs(directory);
    @SuppressWarnings("unchecked") Set<JobPlugin> jps=(Set<JobPlugin>)this.plugins.get(Job.class);
    JobPlugin pg=new JobPlugin(Plugin.TYPE_PLUGIN,jobAnnot.id(),jobAnnot.type().getDescription(),jobAnnot.tooltip(),directory.getURL().getFile(),libs,jobAnnot.image(),match.getName());
    pg.setClassLoader(match.getClassLoader());
    jps.add(pg);
  }
 else   if (type == Step.class) {
    Step jobAnnot=(Step)annot;
    String[] libs=getLibs(directory);
    @SuppressWarnings("unchecked") Set<StepPlugin> jps=(Set<StepPlugin>)this.plugins.get(Step.class);
    StepPlugin pg=new StepPlugin(Plugin.TYPE_PLUGIN,jobAnnot.name(),jobAnnot.description(),jobAnnot.tooltip(),directory.getURL().getFile(),libs,jobAnnot.image(),match.getName(),jobAnnot.categoryDescription(),Const.EMPTY_STRING);
    pg.setClassLoader(match.getClassLoader());
    jps.add(pg);
  }
}
