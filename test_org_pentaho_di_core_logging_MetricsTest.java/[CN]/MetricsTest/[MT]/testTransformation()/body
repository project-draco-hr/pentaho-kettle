{
  TransMeta transMeta=new TransMeta("testfiles/metrics/simple-test.ktr");
  Trans trans=new Trans(transMeta);
  trans.execute(null);
  trans.waitUntilFinished();
  LogChannelInterface log=trans.getLogChannel();
  Deque<MetricsSnapshotInterface> snapshotList=MetricsRegistry.getInstance().getSnapshotList(log.getLogChannelId());
  assertEquals(2,snapshotList.size());
  List<MetricsDuration> durationList=MetricsUtil.getDuration(log.getLogChannelId(),STRING_TEST_TASK_DESCRIPTION);
  assertEquals(1,durationList.size());
  MetricsDuration duration=durationList.get(0);
  assertTrue(duration.getDuration() >= 50 && duration.getDuration() <= 100);
}
