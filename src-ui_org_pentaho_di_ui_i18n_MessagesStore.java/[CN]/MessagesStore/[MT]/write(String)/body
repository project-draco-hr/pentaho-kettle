{
  try {
    Properties properties=new Properties();
    for (    String key : messagesMap.keySet()) {
      properties.put(key,messagesMap.get(key));
    }
    FileOutputStream fileOutputStream=new FileOutputStream(new File(filename));
    String comment="File generated by Pentaho Transator for package '" + messagesPackage + "' in locale '"+ locale+ "'"+ Const.CR+ Const.CR;
    properties.store(fileOutputStream,comment);
    fileOutputStream.close();
    setChanged(false);
  }
 catch (  IOException e) {
    throw new KettleException("Unable to save messages properties file '" + filename + "'",e);
  }
}
