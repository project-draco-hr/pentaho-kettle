{
  try {
    String filename=getLoadFilename(directories);
    Properties properties=new Properties();
    FileInputStream fileInputStream=new FileInputStream(new File(filename));
    properties.load(fileInputStream);
    fileInputStream.close();
    for (    Object key : properties.keySet()) {
      Object value=properties.get(key);
      messagesMap.put((String)key,(String)value);
    }
  }
 catch (  Exception e) {
    throw new KettleException("Unable to read messages file for locale : '" + locale + "' and package '"+ messagesPackage+ "'",e);
  }
}
