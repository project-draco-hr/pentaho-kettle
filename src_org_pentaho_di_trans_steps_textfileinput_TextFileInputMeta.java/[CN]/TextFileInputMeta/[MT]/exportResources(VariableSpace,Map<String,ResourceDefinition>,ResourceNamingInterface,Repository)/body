{
  try {
    List<FileObject> newFilenames=new ArrayList<FileObject>();
    if (!acceptingFilenames) {
      FileInputList fileList=getTextFileList(space);
      if (fileList.getFiles().size() > 0) {
        for (        FileObject fileObject : fileList.getFiles()) {
          if (fileObject.exists()) {
            newFilenames.add(fileObject);
          }
 else {
            return null;
          }
        }
        fileName=new String[newFilenames.size()];
        fileMask=new String[newFilenames.size()];
        fileRequired=new String[newFilenames.size()];
        for (int i=0; i < newFilenames.size(); i++) {
          FileObject fileObject=newFilenames.get(i);
          fileName[i]=resourceNamingInterface.nameResource(fileObject.getName().getBaseName(),fileObject.getParent().getName().getPath(),space.toString(),FileNamingType.DATA_FILE);
          fileMask[i]=null;
          fileRequired[i]="Y";
        }
      }
    }
    return null;
  }
 catch (  Exception e) {
    throw new KettleException(e);
  }
}
