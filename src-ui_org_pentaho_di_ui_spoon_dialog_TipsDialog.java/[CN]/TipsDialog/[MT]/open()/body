{
  display=parent.getDisplay();
  shell=new Shell(parent,SWT.DIALOG_TRIM | SWT.RESIZE | SWT.MAX| SWT.MIN);
  props.setLook(shell);
  shell.setImage(GUIResource.getInstance().getImageLogoSmall());
  showtips=props.showTips();
  FormLayout formLayout=new FormLayout();
  formLayout.marginWidth=Const.FORM_MARGIN;
  formLayout.marginHeight=Const.FORM_MARGIN;
  shell.setLayout(formLayout);
  shell.setText(title);
  int middle=props.getMiddlePct();
  int margin=Const.MARGIN;
  wlDesc=new Label(shell,SWT.NONE);
  wlDesc.setText(message);
  props.setLook(wlDesc);
  wlDesc.setFont(font);
  fdlDesc=new FormData();
  fdlDesc.left=new FormAttachment(0,0);
  fdlDesc.top=new FormAttachment(0,margin);
  wlDesc.setLayoutData(fdlDesc);
  wDesc=new Text(shell,SWT.MULTI | SWT.LEFT | SWT.READ_ONLY| SWT.V_SCROLL| SWT.WRAP);
  wDesc.setText(description);
  props.setLook(wDesc);
  wDesc.setFont(font);
  fdDesc=new FormData();
  fdDesc.left=new FormAttachment(0,0);
  fdDesc.top=new FormAttachment(wlDesc,margin);
  fdDesc.right=new FormAttachment(100,0);
  fdDesc.bottom=new FormAttachment(100,-75);
  wDesc.setLayoutData(fdDesc);
  wlShowTips=new Label(shell,SWT.RIGHT);
  wlShowTips.setText(Messages.getString("TipsDialog.OptionShowTips.Label"));
  props.setLook(wlShowTips);
  wlShowTips.setFont(font);
  fdlShowTips=new FormData();
  fdlShowTips.left=new FormAttachment(0,0);
  fdlShowTips.top=new FormAttachment(wDesc,margin * 2);
  fdlShowTips.right=new FormAttachment(middle,-margin);
  wlShowTips.setLayoutData(fdlShowTips);
  wShowTips=new Button(shell,SWT.CHECK);
  props.setLook(wShowTips);
  wShowTips.setFont(font);
  wShowTips.setSelection(showtips);
  fdShowTips=new FormData();
  fdShowTips.left=new FormAttachment(middle,0);
  fdShowTips.top=new FormAttachment(wDesc,margin * 2);
  fdShowTips.right=new FormAttachment(100,0);
  wShowTips.setLayoutData(fdShowTips);
  wShowTips.addSelectionListener(new SelectionAdapter(){
    public void widgetSelected(    SelectionEvent e){
      showtips=!showtips;
    }
  }
);
  populateButtons(shell);
  shell.addShellListener(new ShellAdapter(){
    public void shellClosed(    ShellEvent e){
      next();
    }
  }
);
  getData();
  WindowProperty winprop=props.getScreen(shell.getText());
  if (winprop != null)   winprop.setShell(shell);
 else {
    Point p=getMax(wDesc.getText());
    shell.setSize(p.x + 100,p.y + 150);
  }
  shell.open();
  while (!shell.isDisposed()) {
    if (!display.readAndDispatch())     display.sleep();
  }
  return description;
}
