{
  try {
    stopped=false;
    finished=false;
    initialized=true;
    variables.initializeVariablesFrom(parentJob);
    setInternalKettleVariables(variables);
    copyParametersFrom(jobMeta);
    activateParameters();
    result=execute(false);
  }
 catch (  Throwable je) {
    log.logError(toString(),BaseMessages.getString(PKG,"Job.Log.ErrorExecJob",je.getMessage()));
    log.logError(toString(),Const.getStackTracker(je));
    result=new Result();
    result.setNrErrors(1L);
    result.setResult(false);
    addErrors(1);
    active=false;
    finished=true;
    stopped=false;
  }
 finally {
    try {
      endProcessing(Database.LOG_STATUS_END,result);
    }
 catch (    KettleJobException e) {
      log.logError(toString(),BaseMessages.getString(PKG,"Job.Log.ErrorExecJob",e.getMessage()));
      log.logError(toString(),Const.getStackTracker(e));
    }
    fireJobListeners();
  }
}
