{
  if (getJobMeta() != null && getJobMeta().isUsingUniqueConnections()) {
    if (parentJob != null && parentJob.getJobMeta().isUsingUniqueConnections()) {
      return parentJob.getTransactionId();
    }
 else     if (parentLoggingObject != null && (parentLoggingObject instanceof Trans) && ((Trans)parentLoggingObject).getTransMeta().isUsingUniqueConnections()) {
      return ((Trans)parentLoggingObject).getTransactionId();
    }
 else {
      return DatabaseConnectionMap.getInstance().getNextTransactionId();
    }
  }
 else {
    return null;
  }
}
