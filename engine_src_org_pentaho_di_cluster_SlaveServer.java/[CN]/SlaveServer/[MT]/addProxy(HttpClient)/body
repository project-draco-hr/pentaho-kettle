{
  String host=environmentSubstitute(this.hostname);
  String phost=environmentSubstitute(this.proxyHostname);
  String pport=environmentSubstitute(this.proxyPort);
  String nonprox=environmentSubstitute(this.nonProxyHosts);
  if (!Const.isEmpty(phost) && !Const.isEmpty(pport)) {
    if (!Const.isEmpty(nonprox) && !Const.isEmpty(host) && host.matches(nonprox)) {
      return;
    }
    client.getHostConfiguration().setProxy(phost,Integer.parseInt(pport));
  }
}
