{
  String spaces=Const.rightPad(" ",level);
  StringBuffer retval=new StringBuffer();
  retval.append(spaces + "<repdir>" + Const.CR);
  retval.append(spaces + "  " + XMLHandler.addTagValue("name",getDirectoryName()));
  if (getNrSubdirectories() > 0) {
    retval.append(spaces + "    <subdirs>" + Const.CR);
    for (int i=0; i < getNrSubdirectories(); i++) {
      RepositoryDirectory subdir=getSubdirectory(i);
      retval.append(subdir.getXML(level + 1));
    }
    retval.append(spaces + "      </subdirs>" + Const.CR);
  }
  retval.append(spaces + "  </repdir>" + Const.CR);
  return retval.toString();
}
