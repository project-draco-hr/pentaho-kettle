{
  DatabaseMeta databaseMeta=transMeta.findDatabase(wConnection.getText());
  if (databaseMeta != null) {
    DatabaseMeta clone=(DatabaseMeta)databaseMeta.clone();
    String connectionName=showDbDialogUnlessCancelledOrValid(clone,databaseMeta);
    if (connectionName != null) {
      transMeta.removeDatabase(transMeta.indexOfDatabase(databaseMeta));
      transMeta.addDatabase(clone);
      reinitConnectionDropDown(wConnection,connectionName);
    }
  }
}
