{
  super(parent,style);
  spoon=sp;
  this.spoonLog=spoonLog;
  this.shell=shell;
  FormLayout formLayout=new FormLayout();
  formLayout.marginWidth=Const.FORM_MARGIN;
  formLayout.marginHeight=Const.FORM_MARGIN;
  setLayout(formLayout);
  setVisible(true);
  spoon.props.setLook(this);
  SashForm sash=new SashForm(this,SWT.VERTICAL);
  spoon.props.setLook(sash);
  sash.setLayout(new FillLayout());
  final int FieldsRows=1;
  colinf=new ColumnInfo[]{new ColumnInfo("Batch ID",ColumnInfo.COLUMN_TYPE_TEXT,false,true),new ColumnInfo("Status",ColumnInfo.COLUMN_TYPE_TEXT,false,true),new ColumnInfo("Read",ColumnInfo.COLUMN_TYPE_TEXT,false,true),new ColumnInfo("Written",ColumnInfo.COLUMN_TYPE_TEXT,false,true),new ColumnInfo("Updated",ColumnInfo.COLUMN_TYPE_TEXT,false,true),new ColumnInfo("Input",ColumnInfo.COLUMN_TYPE_TEXT,false,true),new ColumnInfo("Output",ColumnInfo.COLUMN_TYPE_TEXT,false,true),new ColumnInfo("Errors",ColumnInfo.COLUMN_TYPE_TEXT,false,true),new ColumnInfo("Start date",ColumnInfo.COLUMN_TYPE_TEXT,false,true),new ColumnInfo("End date",ColumnInfo.COLUMN_TYPE_TEXT,false,true),new ColumnInfo("Log date",ColumnInfo.COLUMN_TYPE_TEXT,false,true),new ColumnInfo("Dependency date",ColumnInfo.COLUMN_TYPE_TEXT,false,true),new ColumnInfo("Replay date",ColumnInfo.COLUMN_TYPE_TEXT,false,true)};
  for (int i=0; i < colinf.length; i++)   colinf[i].setAllignement(SWT.RIGHT);
  wFields=new TableView(sash,SWT.BORDER | SWT.FULL_SELECTION | SWT.SINGLE,colinf,FieldsRows,true,null,spoon.props);
  wText=new Text(sash,SWT.MULTI | SWT.V_SCROLL | SWT.H_SCROLL| SWT.READ_ONLY);
  spoon.props.setLook(wText);
  wText.setVisible(true);
  wRefresh=new Button(this,SWT.PUSH);
  wRefresh.setText(" Refresh ");
  fdRefresh=new FormData();
  fdRefresh.left=new FormAttachment(15,0);
  fdRefresh.bottom=new FormAttachment(100,0);
  wRefresh.setLayoutData(fdRefresh);
  wReplay=new Button(this,SWT.PUSH);
  wReplay.setText(" Replay ");
  fdReplay=new FormData();
  fdReplay.left=new FormAttachment(wRefresh,Const.MARGIN);
  fdReplay.bottom=new FormAttachment(100,0);
  wReplay.setLayoutData(fdReplay);
  fdText=new FormData();
  fdText.left=new FormAttachment(0,0);
  fdText.top=new FormAttachment(0,0);
  fdText.right=new FormAttachment(100,0);
  fdText.bottom=new FormAttachment(100,0);
  wText.setLayoutData(fdText);
  fdSash=new FormData();
  fdSash.left=new FormAttachment(0,0);
  fdSash.top=new FormAttachment(0,0);
  fdSash.right=new FormAttachment(100,0);
  fdSash.bottom=new FormAttachment(wRefresh,-5);
  sash.setLayoutData(fdSash);
  pack();
  setupReplayListener();
  SelectionAdapter lsRefresh=new SelectionAdapter(){
    public void widgetSelected(    SelectionEvent e){
      refreshHistory();
    }
  }
;
  wRefresh.addSelectionListener(lsRefresh);
  wFields.table.addSelectionListener(new SelectionAdapter(){
    public void widgetSelected(    SelectionEvent e){
      showLogEntry();
    }
  }
);
  wFields.cursor.addKeyListener(new KeyListener(){
    public void keyReleased(    KeyEvent e){
      showLogEntry();
    }
    public void keyPressed(    KeyEvent e){
    }
  }
);
}
