{
  try {
    LogWriter log=LogWriter.getInstance();
    clear(null);
    String filename=getFilename();
    File file=new File(filename);
    if (file.canRead()) {
      log.logBasic("DBCache","Loading database cache from file: [" + filename + "]");
      FileInputStream fis=new FileInputStream(file);
      DataInputStream dis=new DataInputStream(fis);
      int counter=0;
      try {
        while (true) {
          DBCacheEntry entry=new DBCacheEntry(dis);
          Row row=new Row(dis);
          cache.put(entry,row);
          counter++;
        }
      }
 catch (      KettleEOFException eof) {
        log.logDetailed("DBCache","We read " + counter + " cached rows from the database cache!");
      }
    }
 else {
      log.logDetailed("DBCache","The database cache doesn't exist yet.");
    }
  }
 catch (  Exception e) {
    throw new KettleFileException("Couldn't read the database cache",e);
  }
}
