{
  if (log.isDetailed())   logDetailed("Starting quickSort algorithm...");
  if (data.bufferSize > 0) {
    Arrays.sort(elements,0,data.bufferSize,new Comparator(){
      public int compare(      Object o1,      Object o2){
        Object[] r1=(Object[])o1;
        Object[] r2=(Object[])o2;
        try {
          return data.outputRowMeta.compare(r1,r2,data.fieldnrs);
        }
 catch (        KettleValueException e) {
          logError("Error comparing rows: " + e.toString());
          return 0;
        }
      }
    }
);
  }
  if (log.isDetailed())   logDetailed("QuickSort algorithm has finished.");
}
