{
  if (fileChildren == null) {
synchronized (fileChildren) {
      fileChildren=new ArrayList<RepositoryElementMetaInterface>();
      UnifiedRepositoryLockService lockService=(UnifiedRepositoryLockService)registry.getService(ILockService.class);
      RepositoryRequest repositoryRequest=new RepositoryRequest();
      repositoryRequest.setTypes(RepositoryRequest.FILES_TYPE_FILTER.FILES);
      List<RepositoryFile> children=repository.getChildren(repositoryRequest);
      for (      RepositoryFile child : children) {
        RepositoryLock lock=null;
        try {
          lock=lockService.getLock(child);
          RepositoryObjectType objectType=getObjectType(child.getName());
          fileChildren.add(new EERepositoryObject(child,this,null,objectType,null,lock,false));
        }
 catch (        KettleException e) {
          logger.error("Error converting Unified Repository file to PDI RepositoryObject: " + child.getPath() + ". File will be skipped",e);
        }
      }
    }
  }
  return fileChildren;
}
