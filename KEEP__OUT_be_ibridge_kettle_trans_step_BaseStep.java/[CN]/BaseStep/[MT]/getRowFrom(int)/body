{
  int sleeptime=transMeta.getSleepTimeEmpty();
  RowSet in=(RowSet)inputRowSets.get(input_rowset_nr);
  while (in.isEmpty() && !in.isDone() && !stopped) {
    try {
      if (sleeptime > 0) {
        sleep(0,sleeptime);
      }
 else {
        super.notifyAll();
      }
    }
 catch (    Exception e) {
      logError(Messages.getString("BaseStep.Log.SleepInterupted2",in.getOriginStepName()) + e.toString());
      setErrors(1);
      stopAll();
      return null;
    }
    nrGetSleeps+=sleeptime;
  }
  if (stopped) {
    logError(Messages.getString("BaseStep.Log.SleepInterupted3",in.getOriginStepName()));
    stopAll();
    return null;
  }
  if (in.isEmpty() && in.isDone()) {
    inputRowSets.remove(input_rowset_nr);
    return null;
  }
  Row row=in.getRow();
  linesRead++;
  for (int i=0; i < rowListeners.size(); i++) {
    RowListener rowListener=(RowListener)rowListeners.get(i);
    rowListener.rowWrittenEvent(row);
  }
  return row;
}
