{
  TreeItem ti[]=selectionTree.getSelection();
  if (ti.length == 1) {
    String name=ti[0].getText();
    TreeItem parent=ti[0].getParentItem();
    if (parent != null) {
      log.logDebug(toString(),Messages.getString("Spoon.Log.EDIT.ElementHasParent"));
      String strparent=parent.getText();
      if (strparent.equalsIgnoreCase(STRING_CONNECTIONS))       editConnection(name);
      if (strparent.equalsIgnoreCase(STRING_STEPS))       editStep(name);
      if (strparent.equalsIgnoreCase(STRING_HOPS))       editHop(name);
      if (strparent.equalsIgnoreCase(STRING_PARTITIONS))       editPartitionSchema(name);
      if (strparent.equalsIgnoreCase(STRING_CLUSTERS))       editClusterSchema(name);
      TreeItem grandparent=parent.getParentItem();
      if (grandparent != null) {
        String strgrandparent=grandparent.getText();
        if (strgrandparent.equalsIgnoreCase(STRING_BASE) || strgrandparent.equalsIgnoreCase(STRING_PLUGIN)) {
          newStep();
        }
      }
    }
 else {
      log.logDebug(toString(),Messages.getString("Spoon.Log.ElementHasNoParent"));
      if (name.equalsIgnoreCase(STRING_CONNECTIONS))       newConnection();
      if (name.equalsIgnoreCase(STRING_HOPS))       newHop();
    }
  }
}
