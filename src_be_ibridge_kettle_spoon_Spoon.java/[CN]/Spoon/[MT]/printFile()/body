{
  PrintSpool ps=new PrintSpool();
  Printer printer=ps.getPrinter(shell);
  Point max=transMeta.getMaximum();
  PaletteData pal=ps.getPaletteData();
  ImageData imd=new ImageData(max.x,max.y,printer.getDepth(),pal);
  Image img=new Image(printer,imd);
  GC img_gc=new GC(img);
  if (props.getBackgroundRGB() != null) {
    Color bg=new Color(printer,props.getBackgroundRGB());
    img_gc.setForeground(bg);
    bg.dispose();
  }
  img_gc.fillRectangle(0,0,max.x,max.y);
  spoongraph.drawTrans(img_gc);
  ps.printImage(shell,props,img);
  img_gc.dispose();
  img.dispose();
  ps.dispose();
}
