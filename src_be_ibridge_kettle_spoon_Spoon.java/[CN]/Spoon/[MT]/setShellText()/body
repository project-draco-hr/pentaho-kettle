{
  if (shell.isDisposed())   return;
  String fname=null;
  String name=null;
  long id=-1L;
  ChangedFlagInterface changed=null;
  TransMeta transMeta=getActiveTransformation();
  if (transMeta != null) {
    changed=transMeta;
    fname=transMeta.getFilename();
    name=transMeta.getName();
    id=transMeta.getID();
  }
  JobMeta jobMeta=getActiveJob();
  if (jobMeta != null) {
    changed=jobMeta;
    fname=jobMeta.getFilename();
    name=jobMeta.getName();
    id=jobMeta.getID();
  }
  String text="";
  if (rep != null) {
    text+=APPL_TITLE + " - [" + getRepositoryName()+ "] ";
  }
 else {
    text+=APPL_TITLE + " - ";
  }
  if (rep != null && id > 0) {
    if (Const.isEmpty(name)) {
      text+=Messages.getString("Spoon.Various.NoName");
    }
 else {
      text+=name;
    }
  }
 else {
    if (!Const.isEmpty(fname)) {
      text+=fname;
    }
  }
  if (changed != null && changed.hasChanged()) {
    text+=" " + Messages.getString("Spoon.Various.Changed");
  }
  shell.setText(text);
  enableMenus();
  markTabsChanged();
}
