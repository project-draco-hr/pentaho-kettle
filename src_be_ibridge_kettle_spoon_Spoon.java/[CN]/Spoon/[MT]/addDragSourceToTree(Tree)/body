{
  final Tree fTree=tree;
  Transfer[] ttypes=new Transfer[]{TextTransfer.getInstance()};
  DragSource ddSource=new DragSource(fTree,DND.DROP_MOVE | DND.DROP_COPY);
  ddSource.setTransfer(ttypes);
  ddSource.addDragListener(new DragSourceListener(){
    public void dragStart(    DragSourceEvent event){
    }
    public void dragSetData(    DragSourceEvent event){
      TreeItem ti[]=fTree.getSelection();
      String data=new String();
      for (int i=0; i < ti.length; i++) {
        String ts[]=Const.getTreeStrings(ti[i]);
        if (ts != null && ts.length > 0 && (ts[0].equalsIgnoreCase(STRING_BASE) || ts[0].equalsIgnoreCase(STRING_PLUGIN) || ts[0].equalsIgnoreCase(STRING_HISTORY))) {
          data+="#BASE STEP#" + ti[i].getText() + Const.CR;
        }
 else         if (ts != null && ts.length > 0 && ts[0].equalsIgnoreCase(STRING_CONNECTIONS)) {
          data+="#CONNECTION#" + ti[i].getText() + Const.CR;
        }
 else {
          data+=ti[i].getText() + Const.CR;
        }
      }
      event.data=data;
    }
    public void dragFinished(    DragSourceEvent event){
    }
  }
);
}
