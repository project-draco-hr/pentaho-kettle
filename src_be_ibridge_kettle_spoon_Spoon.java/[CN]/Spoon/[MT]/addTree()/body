{
  if (leftSash != null) {
    leftSash.dispose();
  }
  leftSash=new SashForm(sashform,SWT.VERTICAL);
  selectionTree=new Tree(leftSash,SWT.SINGLE | SWT.BORDER);
  props.setLook(selectionTree);
  selectionTree.setLayout(new FillLayout());
  TreeMemory.addTreeListener(selectionTree,STRING_SPOON_MAIN_TREE);
  tiTrans=new TreeItem(selectionTree,SWT.NONE);
  tiTrans.setText(STRING_TRANSFORMATIONS);
  tiJobs=new TreeItem(selectionTree,SWT.NONE);
  tiJobs.setText(STRING_JOBS);
  tiBlocks=new TreeItem(selectionTree,SWT.NONE);
  tiBlocks.setText(STRING_BUILDING_BLOCKS);
  tiTransBase=new TreeItem(tiBlocks,SWT.NONE);
  tiTransBase.setText(STRING_TRANS_BASE);
  tiTransPlug=new TreeItem(tiBlocks,SWT.NONE);
  tiTransPlug.setText(STRING_TRANS_PLUGIN);
  tiJobBase=new TreeItem(tiBlocks,SWT.NONE);
  tiJobBase.setText(STRING_JOB_BASE);
  tiJobPlug=new TreeItem(tiBlocks,SWT.NONE);
  tiJobPlug.setText(STRING_JOB_PLUGIN);
  StepLoader steploader=StepLoader.getInstance();
  StepPlugin basesteps[]=steploader.getStepsWithType(StepPlugin.TYPE_NATIVE);
  String basecat[]=steploader.getCategories(StepPlugin.TYPE_NATIVE);
  TreeItem tiBaseCat[]=new TreeItem[basecat.length];
  for (int i=0; i < basecat.length; i++) {
    tiBaseCat[i]=new TreeItem(tiTransBase,SWT.NONE);
    tiBaseCat[i].setText(basecat[i]);
    for (int j=0; j < basesteps.length; j++) {
      if (basesteps[j].getCategory().equalsIgnoreCase(basecat[i])) {
        TreeItem ti=new TreeItem(tiBaseCat[i],0);
        ti.setText(basesteps[j].getDescription());
      }
    }
  }
  StepPlugin plugins[]=steploader.getStepsWithType(StepPlugin.TYPE_PLUGIN);
  String plugcat[]=steploader.getCategories(StepPlugin.TYPE_PLUGIN);
  TreeItem tiPlugCat[]=new TreeItem[plugcat.length];
  for (int i=0; i < plugcat.length; i++) {
    tiPlugCat[i]=new TreeItem(tiTransPlug,SWT.NONE);
    tiPlugCat[i].setText(plugcat[i]);
    for (int j=0; j < plugins.length; j++) {
      if (plugins[j].getCategory().equalsIgnoreCase(plugcat[i])) {
        TreeItem ti=new TreeItem(tiPlugCat[i],0);
        ti.setText(plugins[j].getDescription());
      }
    }
  }
  tiTransBase.setExpanded(true);
  tiTransPlug.setExpanded(true);
  JobEntryLoader jobEntryLoader=JobEntryLoader.getInstance();
  JobPlugin baseEntries[]=jobEntryLoader.getJobEntriesWithType(JobPlugin.TYPE_NATIVE);
  for (int i=0; i < baseEntries.length; i++) {
    TreeItem tiBaseItem=new TreeItem(tiJobBase,SWT.NONE);
    tiBaseItem.setText(baseEntries[i].getDescription());
    Image image=(Image)GUIResource.getInstance().getImagesJobentriesSmall().get(baseEntries[i].getID());
    tiBaseItem.setImage(image);
  }
  JobPlugin jobPlugins[]=jobEntryLoader.getJobEntriesWithType(JobPlugin.TYPE_PLUGIN);
  for (int i=0; i < jobPlugins.length; i++) {
    TreeItem tiPluginItem=new TreeItem(tiJobPlug,SWT.NONE);
    tiPluginItem.setText(jobPlugins[i].getDescription());
    Image image=(Image)GUIResource.getInstance().getImagesJobentriesSmall().get(baseEntries[i].getID());
    tiPluginItem.setImage(image);
  }
  tiJobBase.setExpanded(true);
  tiJobPlug.setExpanded(true);
  addToolTipsToTree(selectionTree);
  selectionTree.addSelectionListener(new SelectionAdapter(){
    public void widgetSelected(    SelectionEvent e){
      setMenu();
    }
  }
);
  selectionTree.addSelectionListener(new SelectionAdapter(){
    public void widgetSelected(    SelectionEvent e){
      showSelection();
    }
  }
);
  selectionTree.addSelectionListener(new SelectionAdapter(){
    public void widgetDefaultSelected(    SelectionEvent e){
      editSelected();
    }
  }
);
  selectionTree.addKeyListener(defKeys);
  selectionTree.addKeyListener(modKeys);
  addDragSourceToTree(selectionTree);
  pluginHistoryTree=new Tree(leftSash,SWT.SINGLE);
  addToolTipsToTree(pluginHistoryTree);
  addDragSourceToTree(pluginHistoryTree);
  leftSash.setWeights(new int[]{70,30});
  setTreeImages();
}
