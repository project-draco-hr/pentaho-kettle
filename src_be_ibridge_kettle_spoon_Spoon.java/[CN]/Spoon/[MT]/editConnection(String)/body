{
  DatabaseMeta db=transMeta.findDatabase(name);
  if (db != null) {
    DatabaseMeta before=(DatabaseMeta)db.clone();
    DatabaseDialog con=new DatabaseDialog(shell,SWT.NONE,log,db,props);
    con.setDatabases(transMeta.getDatabases());
    String newname=con.open();
    if (!Const.isEmpty(newname)) {
      newname=db.verifyAndModifyDatabaseName(transMeta.getDatabases(),name);
      DatabaseMeta after=(DatabaseMeta)db.clone();
      addUndoChange(new DatabaseMeta[]{before},new DatabaseMeta[]{after},new int[]{transMeta.indexOfDatabase(db)});
      saveConnection(db);
      db.setChanged(false);
      refreshTree(true);
    }
  }
  setShellText();
}
