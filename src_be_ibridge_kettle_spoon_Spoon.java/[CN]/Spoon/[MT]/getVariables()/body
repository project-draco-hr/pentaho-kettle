{
  KettleVariables kettleVariables=KettleVariables.getInstance();
  List list=transMeta.getUsedVariables();
  for (int i=0; i < list.size(); i++) {
    String varName=(String)list.get(i);
    String varValue=kettleVariables.getVariable(varName,"");
    if (variables.searchValueIndex(varName) < 0) {
      variables.addValue(new Value(varName,varValue));
    }
  }
  EnterStringsDialog esd=new EnterStringsDialog(shell,SWT.NONE,variables);
  esd.setReadOnly(false);
  if (esd.open() != null) {
    for (int i=0; i < variables.size(); i++) {
      Value varval=variables.getValue(i);
      kettleVariables.setVariable(varval.getName(),varval.getString());
      System.out.println("Variable ${" + varval.getName() + "} set to ["+ varval.getString()+ "]");
    }
  }
}
