{
  DatabaseMeta db=new DatabaseMeta();
  DatabaseDialog con=new DatabaseDialog(shell,SWT.APPLICATION_MODAL,log,db,props);
  String con_name=con.open();
  if (!Const.isEmpty(con_name)) {
    db.verifyAndModifyDatabaseName(transMeta.getDatabases(),null);
    transMeta.addDatabase(db);
    addUndoNew(transMeta,new DatabaseMeta[]{(DatabaseMeta)db.clone()},new int[]{transMeta.indexOfDatabase(db)});
    saveConnection(db);
    refreshTree();
  }
}
