{
  if (this.index < this.buffer.length) {
    final byte b=this.buffer[this.index++];
    return 0xff & b;
  }
  if (this.isCompressed) {
switch (this.bitCount) {
case 16:
      final byte[] pixelBytes=new byte[2];
    final short pixel;
  final int red;
final int green;
final int blue;
final short a;
final short b;
final short c;
final short newPixel;
this.in.read(pixelBytes);
pixel=ConversionUtil.bytesToShort(pixelBytes,0);
red=deMask(pixel,this.redMask);
green=deMask(pixel,this.greenMask);
blue=deMask(pixel,this.blueMask);
a=(short)((0x1f) & blue);
b=(short)((0x3e0) & ((green >> 1) << 5));
c=(short)((0x7c00) & (red << 10));
newPixel=(short)(a + b + c);
this.buffer=new byte[2];
ConversionUtil.shortToBytes(newPixel,this.buffer,0);
this.index=1;
return 0xff & this.buffer[0];
default :
}
}
return this.in.read();
}
