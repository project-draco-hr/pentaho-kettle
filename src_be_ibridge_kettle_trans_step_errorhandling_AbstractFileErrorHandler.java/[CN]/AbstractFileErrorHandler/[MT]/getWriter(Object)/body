{
  Writer outputStreamWriter=(Writer)writers.get(source);
  if (outputStreamWriter != null)   return outputStreamWriter;
  File file=getReplayFilename(destinationDirectory,processingFilename,dateString,fileExtension,source);
  baseStep.addInterestingFile(file);
  try {
    if (encoding == null)     outputStreamWriter=new OutputStreamWriter(new FileOutputStream(file));
 else     outputStreamWriter=new OutputStreamWriter(new FileOutputStream(file),encoding);
  }
 catch (  Exception e) {
    throw new KettleException("Could not create FileErrorHandler for file:" + file.getPath(),e);
  }
  writers.put(source,outputStreamWriter);
  return outputStreamWriter;
}
