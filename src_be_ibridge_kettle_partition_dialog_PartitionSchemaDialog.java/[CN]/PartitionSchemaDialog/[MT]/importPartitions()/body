{
  ArrayList partitionedDatabaseNames=new ArrayList();
  for (int i=0; i < databases.size(); i++) {
    DatabaseMeta databaseMeta=(DatabaseMeta)databases.get(i);
    if (databaseMeta.isPartitioned()) {
      partitionedDatabaseNames.add(databaseMeta.getName());
    }
  }
  String dbNames[]=(String[])partitionedDatabaseNames.toArray(new String[partitionedDatabaseNames.size()]);
  if (dbNames.length > 0) {
    EnterSelectionDialog dialog=new EnterSelectionDialog(shell,dbNames,Messages.getString("PartitionSchema.SelectDatabase"),Messages.getString("PartitionSchema.SelectPartitionnedDatabase"));
    String dbName=dialog.open();
    if (dbName != null) {
      DatabaseMeta databaseMeta=DatabaseMeta.findDatabase(databases,dbName);
      PartitionDatabaseMeta[] partitioningInformation=databaseMeta.getPartitioningInformation();
      if (partitioningInformation != null) {
        wPartitions.clearAll(false);
        for (int i=0; i < partitioningInformation.length; i++) {
          PartitionDatabaseMeta meta=partitioningInformation[i];
          wPartitions.add(new String[]{meta.getPartitionId()});
        }
        wPartitions.removeEmptyRows();
        wPartitions.setRowNums();
        wPartitions.optWidth(true);
      }
    }
  }
}
