{
  String serverIp="serverIp";
  int serverPort=1;
  String userName="userName";
  Session session=mock(Session.class);
  InetAddress server=mock(InetAddress.class);
  final JSch jSch=mock(JSch.class);
  when(server.getHostAddress()).thenReturn(serverIp);
  when(jSch.getSession(userName,serverIp,serverPort)).thenReturn(session);
  new SFTPClient(server,serverPort,userName){
    @Override JSch createJSch(){
      return jSch;
    }
  }
;
  verify(session).setConfig("PreferredAuthentications","publickey,keyboard-interactive,password,gssapi-with-mic");
}
