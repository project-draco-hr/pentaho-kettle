{
  String placeHolder=inPattern ? ESCAPED_NANOSECOND_PLACEHOLDER : NANOSECOND_PLACEHOLDER;
  int placeholderPosition=dateBuffer.indexOf(placeHolder);
  if (placeholderPosition == -1) {
    return 0;
  }
  dateBuffer.delete(placeholderPosition,placeholderPosition + placeHolder.length());
  return placeholderPosition;
}
