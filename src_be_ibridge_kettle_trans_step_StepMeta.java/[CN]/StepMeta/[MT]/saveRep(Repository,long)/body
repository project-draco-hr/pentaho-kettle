{
  LogWriter log=LogWriter.getInstance();
  try {
    log.logDebug(toString(),Messages.getString("StepMeta.Log.SaveNewStep"));
    setID(rep.insertStep(id_transformation,getName(),getDescription(),getStepID(),distributes,copies,getLocation() == null ? -1 : getLocation().x,getLocation() == null ? -1 : getLocation().y,isDrawn()));
    stepPartitioningMeta.saveRep(rep,id_transformation,getID());
    log.logDebug(toString(),Messages.getString("StepMeta.Log.SaveStepDetails"));
    stepMetaInterface.saveRep(rep,id_transformation,getID());
    rep.saveStepAttribute(id_transformation,getID(),"cluster_schema",clusterSchema == null ? "" : clusterSchema.getName());
  }
 catch (  KettleException e) {
    throw new KettleException(Messages.getString("StepMeta.Exception.UnableToSaveStepInfo",String.valueOf(id_transformation)),e);
  }
}
