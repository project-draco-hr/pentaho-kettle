{
  if (outputStreamWriter != null)   return outputStreamWriter;
  File file=getReplayFilename(destinationDirectory,processingFilename,dateString,fileExtension);
  try {
    if (encoding == null)     outputStreamWriter=new OutputStreamWriter(new FileOutputStream(file));
 else     outputStreamWriter=new OutputStreamWriter(new FileOutputStream(file),encoding);
  }
 catch (  Exception e) {
    throw new KettleException("Could not create TextFileLineErrorHandler for file:" + file.getPath(),e);
  }
  return outputStreamWriter;
}
