{
  this.trans=trans;
  steps=trans.getSteps();
  for (  StepMetaDataCombi combi : steps) {
    combi.step.setUsingThreadPriorityManagment(false);
  }
  Collections.sort(steps,new Comparator<StepMetaDataCombi>(){
    public int compare(    StepMetaDataCombi c1,    StepMetaDataCombi c2){
      boolean c1BeforeC2=trans.getTransMeta().findPrevious(c2.stepMeta,c1.stepMeta);
      if (c1BeforeC2) {
        return -1;
      }
 else {
        return 1;
      }
    }
  }
);
  done=new boolean[steps.size()];
  nrDone=0;
  stepInfoStreams=new ArrayList<List<StreamInterface>>();
  stepInfoRowSets=new ArrayList<List<RowSet>>();
  for (  StepMetaDataCombi combi : steps) {
    List<StreamInterface> infoStreams=combi.stepMeta.getStepMetaInterface().getStepIOMeta().getInfoStreams();
    stepInfoStreams.add(infoStreams);
    List<RowSet> infoRowSets=new ArrayList<RowSet>();
    for (    StreamInterface infoStream : infoStreams) {
      RowSet infoRowSet=trans.findRowSet(infoStream.getStepname(),0,combi.stepname,0);
      if (infoRowSet != null) {
        infoRowSets.add(infoRowSet);
      }
    }
    stepInfoRowSets.add(infoRowSets);
  }
}
