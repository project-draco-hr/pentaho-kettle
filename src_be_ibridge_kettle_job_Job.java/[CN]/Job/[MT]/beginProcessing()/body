{
  currentDate=new Date();
  logDate=new Date();
  startDate=Const.MIN_DATE;
  endDate=currentDate;
  DatabaseMeta logcon=jobinfo.getLogConnection();
  if (logcon != null) {
    Database ldb=new Database(logcon);
    try {
      ldb.connect();
      Row lastr=ldb.getLastLogDate(jobinfo.logTable,jobinfo.getName(),true,"end");
      if (lastr != null && lastr.size() > 0) {
        Value last=lastr.getValue(0);
        if (last != null && !last.isNull()) {
          startDate=last.getDate();
        }
      }
      depDate=currentDate;
      ldb.writeLogRecord(jobinfo.logTable,false,0,true,jobinfo.getName(),"start",0L,0L,0L,0L,0L,0L,startDate,endDate,logDate,depDate,currentDate,log.getString());
      ldb.disconnect();
    }
 catch (    KettleDatabaseException dbe) {
      throw new KettleJobException("Unable to begin processing by logging start in logtable " + jobinfo.logTable,dbe);
    }
 finally {
      ldb.disconnect();
    }
  }
  return true;
}
