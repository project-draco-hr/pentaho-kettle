{
  Hashtable<String,String> cat=new Hashtable<String,String>();
  for (int i=0; i < nrStepsWithType(type); i++) {
    StepPlugin sp=getStepWithType(type,i);
    if (sp != null) {
      cat.put(sp.getCategory(locale),sp.getCategory(locale));
    }
  }
  Enumeration<String> keys=cat.keys();
  String retval[]=new String[cat.size()];
  int i=0;
  while (keys.hasMoreElements()) {
    retval[i]=keys.nextElement();
    i++;
  }
  for (int a=0; a < retval.length; a++) {
    for (int b=0; b < retval.length - 1; b++) {
      int idx1=-1;
      for (int x=0; x < StepCategory.STANDARD_CATEGORIES.length; x++) {
        StepCategory category=StepCategory.STANDARD_CATEGORIES[x];
        if (category.getName().equalsIgnoreCase(retval[b])) {
          idx1=x;
          break;
        }
      }
      int idx2=-1;
      for (int x=0; x < StepCategory.STANDARD_CATEGORIES.length; x++) {
        StepCategory category=StepCategory.STANDARD_CATEGORIES[x];
        if (category.getName().equalsIgnoreCase(retval[b + 1])) {
          idx2=x;
          break;
        }
      }
      if (idx1 > idx2) {
        String dummy=retval[b];
        retval[b]=retval[b + 1];
        retval[b + 1]=dummy;
      }
    }
  }
  return retval;
}
