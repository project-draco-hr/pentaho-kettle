{
  try {
    tempVal=new String(ch,start,length);
    if (tempVal.equals("01-2040-0021-92602-00-000000")) {
      System.out.println("tempVal=" + tempVal);
    }
    if (this.fieldToFill >= 0) {
      Value v=row.getValue(fieldToFill);
      if (tempVal != "") {
        v.setValue(tempVal);
      }
 else {
        v.setNull();
      }
      XMLInputSaxField xmlInputField=(XMLInputSaxField)fields.get(fieldToFill);
switch (xmlInputField.getTrimType()) {
case XMLInputSaxField.TYPE_TRIM_LEFT:
        v.ltrim();
      break;
case XMLInputSaxField.TYPE_TRIM_RIGHT:
    v.rtrim();
  break;
case XMLInputSaxField.TYPE_TRIM_BOTH:
v.trim();
break;
default :
break;
}
switch (xmlInputField.getType()) {
case Value.VALUE_TYPE_STRING:
break;
case Value.VALUE_TYPE_NUMBER:
if (xmlInputField.getFormat() != null && xmlInputField.getFormat().length() > 0) {
if (xmlInputField.getDecimalSymbol() != null && xmlInputField.getDecimalSymbol().length() > 0) {
if (xmlInputField.getGroupSymbol() != null && xmlInputField.getGroupSymbol().length() > 0) {
if (xmlInputField.getCurrencySymbol() != null && xmlInputField.getCurrencySymbol().length() > 0) {
v.str2num(xmlInputField.getFormat(),xmlInputField.getGroupSymbol(),xmlInputField.getGroupSymbol(),xmlInputField.getCurrencySymbol());
}
 else {
v.str2num(xmlInputField.getFormat(),xmlInputField.getGroupSymbol(),xmlInputField.getGroupSymbol());
}
}
 else {
v.str2num(xmlInputField.getFormat(),xmlInputField.getGroupSymbol());
}
}
 else {
v.str2num(xmlInputField.getFormat());
}
}
 else {
v.str2num();
}
v.setLength(xmlInputField.getLength(),xmlInputField.getPrecision());
break;
case Value.VALUE_TYPE_INTEGER:
v.setValue(v.getInteger());
v.setLength(xmlInputField.getLength(),xmlInputField.getPrecision());
break;
case Value.VALUE_TYPE_BIGNUMBER:
v.setValue(v.getBigNumber());
v.setLength(xmlInputField.getLength(),xmlInputField.getPrecision());
break;
case Value.VALUE_TYPE_DATE:
if (xmlInputField.getFormat() != null && xmlInputField.getFormat().length() > 0) {
v.str2dat(xmlInputField.getFormat());
}
 else {
v.setValue(v.getDate());
}
break;
case Value.VALUE_TYPE_BOOLEAN:
v.setValue(v.getBoolean());
break;
default :
break;
}
if (xmlInputField.isRepeated()) {
if (v.isNull() && data.previousRow != null) {
Value previous=data.previousRow.getValue(fieldToFill);
v.setValue(previous);
}
}
}
fieldToFill=-1;
}
 catch (KettleValueException e) {
e.printStackTrace();
}
}
