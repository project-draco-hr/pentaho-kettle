{
  MockPlugin mockPlugin=new MockPlugin(dummyMonitor,new String[]{KettleExtensionPoint.StepAfterInitialize.id},KettleExtensionPoint.StepAfterInitialize.name());
  PluginRegistry.getInstance().registerPlugin(ExtensionPointPluginType.class,mockPlugin);
  executeSampleTransformation();
  Assert.assertTrue(dummyMonitor.wasTriggered);
  Assert.assertTrue(dummyMonitor.eventObject != null && dummyMonitor.eventObject instanceof StepInitThread);
  if (((StepInitThread)dummyMonitor.eventObject).getCombi() != null) {
    String thisStepName=((StepInitThread)dummyMonitor.eventObject).getCombi().stepname;
    boolean containsStep=false;
    for (    String stepName : stepNames) {
      containsStep|=thisStepName.contains(stepName);
    }
    Assert.assertTrue(containsStep);
  }
  dummyMonitor.reset();
  PluginRegistry.getInstance().removePlugin(ExtensionPointPluginType.class,mockPlugin);
}
