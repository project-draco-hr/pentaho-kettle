{
  RepositoryDirectory repdir=null;
  int level=Const.getTreeLevel(ti);
  String path[]=Const.getTreeStrings(ti);
  if (level > 2) {
    int cat=getItemCategory(ti);
switch (cat) {
case ITEM_CATEGORY_JOB:
case ITEM_CATEGORY_TRANSFORMATION:
{
        String realpath[]=new String[level - 2];
        for (int i=0; i < realpath.length; i++)         realpath[i]=path[i + 2];
        repdir=rep.getDirectoryTree().findDirectory(realpath);
      }
    break;
case ITEM_CATEGORY_JOB_DIRECTORY:
case ITEM_CATEGORY_TRANSFORMATION_DIRECTORY:
{
    String realpath[]=new String[level - 1];
    for (int i=0; i < realpath.length; i++)     realpath[i]=path[i + 2];
    repdir=rep.getDirectoryTree().findDirectory(realpath);
  }
break;
default :
break;
}
}
return repdir;
}
