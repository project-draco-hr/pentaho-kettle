{
  if (!Const.isEmpty(filename)) {
    TransMeta transMeta=getTransMeta(null);
    String newFilename=namingInterface.nameResource(transMeta.getName(),filename,"xml");
    transMeta.setFilename(newFilename);
    filename=newFilename;
    String xml=transMeta.getXML();
    definitions.put(newFilename,new ResourceDefinition(newFilename,xml));
    return newFilename;
  }
 else {
    return null;
  }
}
