{
  String password=control.getText();
  java.util.List<String> list=new ArrayList<String>();
  StringUtil.getUsedVariables(password,list,true);
  if (list.size() != 1) {
    control.setEchoChar('*');
  }
 else {
    String variableName=null;
    if ((password.startsWith(StringUtil.UNIX_OPEN) && password.endsWith(StringUtil.UNIX_CLOSE))) {
      variableName=password.substring(StringUtil.UNIX_OPEN.length(),password.length() - StringUtil.UNIX_CLOSE.length());
    }
    if ((password.startsWith(StringUtil.WINDOWS_OPEN) && password.endsWith(StringUtil.WINDOWS_CLOSE))) {
      variableName=password.substring(StringUtil.WINDOWS_OPEN.length(),password.length() - StringUtil.WINDOWS_CLOSE.length());
    }
    if (variableName != null) {
      control.setEchoChar('\0');
    }
 else {
      control.setEchoChar('*');
    }
  }
  control.setToolTipText("Password");
}
