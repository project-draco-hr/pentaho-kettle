{
  normalizeUserInfo(userInfo);
  if (!validateUserInfo(userInfo)) {
    throw new KettleException("Empty name is not allowed");
  }
  if (userInfo.getObjectId() != null) {
    throw new IllegalArgumentException("Use updateUser() for updating");
  }
  String userLogin=userInfo.getLogin();
  ObjectId exactMatch=userDelegate.getUserID(userLogin);
  if (exactMatch != null) {
    throw new KettleException("Cannot create a user with name [" + userLogin + "] because another one already exists: ["+ userLogin+ "]. Please try different name.");
  }
  userDelegate.saveUserInfo(userInfo);
}
