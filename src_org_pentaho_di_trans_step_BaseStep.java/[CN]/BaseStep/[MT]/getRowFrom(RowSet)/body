{
  Object[] rowData=rowSet.getRow();
  while (!rowSet.isDone() && rowData == null && !stopped.get()) {
    rowData=rowSet.getRow();
  }
  if (stopped.get()) {
    if (log.isDebug())     logDebug(Messages.getString("BaseStep.Log.StopLookingForMoreRows"));
    stopAll();
    return null;
  }
  if (rowData == null && rowSet.isDone()) {
    rowData=rowSet.getRow();
    if (rowData == null) {
      inputRowSets.remove(rowSet);
      return null;
    }
  }
  try {
    logBasic("Read row: " + rowSet.getRowMeta().getString(rowData));
  }
 catch (  KettleValueException e) {
    e.printStackTrace();
  }
  linesRead++;
  for (int i=0; i < rowListeners.size(); i++) {
    RowListener rowListener=(RowListener)rowListeners.get(i);
    rowListener.rowReadEvent(rowSet.getRowMeta(),rowData);
  }
  return rowData;
}
