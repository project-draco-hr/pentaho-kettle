{
  TreeItem ti[]=wTree.getSelection();
  if (ti.length == 1) {
    TreeItem treeItem=ti[0];
    String[] path=ConstUI.getTreeStrings(treeItem);
    if (path.length <= 1) {
      return;
    }
    String name=path[1];
    if (path[0].equals(transParentItem.getText())) {
      SlaveServerTransStatus transStatus=slaveServerStatus.findTransStatus(name);
      if (transStatus != null) {
        if (transStatus.isRunning()) {
          try {
            WebResult webResult=slaveServer.stopTransformation(name);
            if (!webResult.getResult().equalsIgnoreCase(WebResult.STRING_OK)) {
              EnterTextDialog dialog=new EnterTextDialog(shell,BaseMessages.getString(PKG,"SpoonSlave.ErrorStoppingTrans.Title"),BaseMessages.getString(PKG,"SpoonSlave.ErrorStoppingTrans.Message"),webResult.getMessage());
              dialog.setReadOnly();
              dialog.open();
            }
          }
 catch (          Exception e) {
            new ErrorDialog(shell,BaseMessages.getString(PKG,"SpoonSlave.ErrorStoppingTrans.Title"),BaseMessages.getString(PKG,"SpoonSlave.ErrorStoppingTrans.Message"),e);
          }
        }
      }
    }
    if (path[0].equals(jobParentItem.getText())) {
      SlaveServerJobStatus jobStatus=slaveServerStatus.findJobStatus(name);
      if (jobStatus != null) {
        if (jobStatus.isRunning()) {
          try {
            WebResult webResult=slaveServer.stopJob(name);
            if (!webResult.getResult().equalsIgnoreCase(WebResult.STRING_OK)) {
              EnterTextDialog dialog=new EnterTextDialog(shell,BaseMessages.getString(PKG,"SpoonSlave.ErrorStoppingJob.Title"),BaseMessages.getString(PKG,"SpoonSlave.ErrorStoppingJob.Message"),webResult.getMessage());
              dialog.setReadOnly();
              dialog.open();
            }
          }
 catch (          Exception e) {
            new ErrorDialog(shell,BaseMessages.getString(PKG,"SpoonSlave.ErrorStoppingJob.Title"),BaseMessages.getString(PKG,"SpoonSlave.ErrorStoppingJob.Message"),e);
          }
        }
      }
    }
  }
}
