{
  this();
  try {
    if (rep != null) {
      RepositoryDirectoryInterface repdir=rep.findDirectory(dirname);
      if (repdir != null) {
        this.transMeta=rep.loadTransformation(name,repdir,null,false,null);
      }
 else {
        throw new KettleException(BaseMessages.getString(PKG,"Trans.Exception.UnableToLoadTransformation",name,dirname));
      }
    }
 else {
      transMeta=new TransMeta(filename,false);
    }
    this.log=LogChannel.GENERAL;
    transMeta.initializeVariablesFrom(parent);
    initializeVariablesFrom(parent);
    this.copyParametersFrom(parent);
    this.activateParameters();
    this.setDefaultLogCommitSize();
    transactionId=calculateTransactionId();
    threadName=transactionId;
  }
 catch (  KettleException e) {
    throw new KettleException(BaseMessages.getString(PKG,"Trans.Exception.UnableToOpenTransformation",name),e);
  }
}
