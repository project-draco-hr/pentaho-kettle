{
  when(dbMeta.getURL("partId")).thenReturn("jdbc:foo://server:111");
  when(dbMeta.getUsername()).thenReturn("suzy");
  when(dbMeta.getPassword()).thenReturn("password");
  ConnectionPoolUtil.configureDataSource(dataSource,dbMeta,"partId",INITIAL_SIZE,MAX_SIZE);
  verify(dataSource).setDriverClassName("org.pentaho.di.core.database.ConnectionPoolUtilTest");
  verify(dataSource).setDriverClassLoader(any(ClassLoader.class));
  verify(dataSource).setUrl("jdbc:foo://server:111");
  verify(dataSource).addConnectionProperty("user","suzy");
  verify(dataSource).addConnectionProperty("password","password");
  verify(dataSource).setInitialSize(INITIAL_SIZE);
  verify(dataSource).setMaxActive(MAX_SIZE);
}
