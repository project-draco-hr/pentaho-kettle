{
  if (!Const.isEmpty(wTablename.getText())) {
    DatabaseMeta databaseMeta=jobMeta.findDatabase(wConnection.getText());
    if (databaseMeta != null) {
      Database database=new Database(databaseMeta);
      try {
        database.connect();
        String schemaTable=databaseMeta.getQuotedSchemaTableCombination(wSchemaname.getText(),wTablename.getText());
        Row row=database.getTableFields(schemaTable);
        String available[]=row.getFieldNames();
        String source[]=wListColumn.getText().split(",");
        for (int i=0; i < source.length; i++)         source[i]=Const.trim(source[i]);
        int idxSource[]=Const.indexsOfStrings(source,available);
        EnterSelectionDialog dialog=new EnterSelectionDialog(shell,available,Messages.getString("JobMysqlBulkFile.SelectColumns.Title"),Messages.getString("JobMysqlBulkFile.SelectColumns.Message"));
        dialog.setMulti(true);
        dialog.setSelectedNrs(idxSource);
        if (dialog.open() != null) {
          String columns="";
          int idx[]=dialog.getSelectionIndeces();
          for (int i=0; i < idx.length; i++) {
            if (i > 0)             columns+=", ";
            columns+=available[idx[i]];
          }
          wListColumn.setText(columns);
        }
      }
 catch (      KettleDatabaseException e) {
        new ErrorDialog(shell,Messages.getString("System.Dialog.Error.Title"),Messages.getString("JobMysqlBulkFile.ConnectionError2.DialogMessage"),e);
      }
 finally {
        database.disconnect();
      }
    }
  }
}
