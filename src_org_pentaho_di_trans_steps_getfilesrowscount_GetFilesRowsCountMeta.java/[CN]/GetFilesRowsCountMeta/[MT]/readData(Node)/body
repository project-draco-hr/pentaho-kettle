{
  try {
    includeFilesCount="Y".equalsIgnoreCase(XMLHandler.getTagValue(stepnode,"files_count"));
    filesCountFieldName=XMLHandler.getTagValue(stepnode,"files_count_fieldname");
    rowsCountFieldName=XMLHandler.getTagValue(stepnode,"rows_count_fieldname");
    RowSeparator_format=XMLHandler.getTagValue(stepnode,"rowseparator_format");
    RowSeparator=XMLHandler.getTagValue(stepnode,"row_separator");
    String addresult=XMLHandler.getTagValue(stepnode,"isaddresult");
    if (Const.isEmpty(addresult))     isaddresult=true;
 else     isaddresult="Y".equalsIgnoreCase(addresult);
    filefield="Y".equalsIgnoreCase(XMLHandler.getTagValue(stepnode,"filefield"));
    outputFilenameField=XMLHandler.getTagValue(stepnode,"filename_Field");
    Node filenode=XMLHandler.getSubNode(stepnode,"file");
    int nrFiles=XMLHandler.countNodes(filenode,"name");
    allocate(nrFiles);
    for (int i=0; i < nrFiles; i++) {
      Node filenamenode=XMLHandler.getSubNodeByNr(filenode,"name",i);
      Node filemasknode=XMLHandler.getSubNodeByNr(filenode,"filemask",i);
      fileName[i]=XMLHandler.getNodeValue(filenamenode);
      fileMask[i]=XMLHandler.getNodeValue(filemasknode);
    }
  }
 catch (  Exception e) {
    throw new KettleXMLException("Unable to load step info from XML",e);
  }
}
