{
  Database db=null;
  JobEntryLogTable jobEntryLogTable=jobMeta.getJobEntryLogTable();
  try {
    db=new Database(this,jobEntryLogTable.getDatabaseMeta());
    db.shareVariablesWith(this);
    db.connect();
    db.setCommit(logCommitSize);
    for (    JobEntryCopy copy : jobMeta.getJobCopies()) {
      db.writeLogRecord(jobEntryLogTable,LogStatus.START,copy,this);
    }
    db.cleanupLogRecords(jobEntryLogTable);
  }
 catch (  Exception e) {
    throw new KettleException(BaseMessages.getString(PKG,"Job.Exception.UnableToJobEntryInformationToLogTable"),e);
  }
 finally {
    if (!db.isAutoCommit()) {
      db.commitLog(true,jobEntryLogTable);
    }
    db.disconnect();
  }
}
