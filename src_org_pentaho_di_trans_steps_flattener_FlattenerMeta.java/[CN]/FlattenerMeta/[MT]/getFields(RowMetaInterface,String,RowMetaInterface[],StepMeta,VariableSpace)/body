{
  if (fieldName != null && fieldName.length() > 0) {
    int idx=row.indexOfValue(fieldName);
    if (idx < 0) {
      throw new KettleStepException(Messages.getString("FlattenerMeta.Exception.UnableToLocateFieldInInputFields",fieldName));
    }
    ValueMetaInterface v=row.getValueMeta(idx);
    row.removeValueMeta(idx);
    for (int i=0; i < targetField.length; i++) {
      ValueMetaInterface value=(ValueMetaInterface)v.clone();
      value.setName(targetField[i]);
      value.setOrigin(name);
      row.addValueMeta(value);
    }
  }
 else {
    throw new KettleStepException(Messages.getString("FlattenerMeta.Exception.FlattenFieldRequired"));
  }
}
