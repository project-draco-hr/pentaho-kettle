{
  Class system=System.class;
  if (env == null) {
    Map returnMap=null;
    try {
      Method method=system.getMethod("getenv",(Class[])null);
      returnMap=(Map)method.invoke(system,(Object[])null);
    }
 catch (    Exception ex) {
      returnMap=null;
    }
    env=new Properties();
    if (returnMap != null) {
      ArrayList list=new ArrayList(returnMap.keySet());
      for (int i=0; i < list.size(); i++) {
        String var=(String)list.get(i);
        String val=(String)returnMap.get(var);
        env.setProperty(var,val);
      }
    }
  }
  return env;
}
