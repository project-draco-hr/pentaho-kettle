{
  StringBuffer retval=new StringBuffer();
  retval.append("  <" + XML_TAG + ">"+ Const.CR);
  retval.append("    " + XMLHandler.addTagValue("name",getName()));
  retval.append("    " + XMLHandler.addTagValue("server",getHostname()));
  retval.append("    " + XMLHandler.addTagValue("type",getDatabaseTypeDesc()));
  retval.append("    " + XMLHandler.addTagValue("access",getAccessTypeDesc()));
  retval.append("    " + XMLHandler.addTagValue("database",getDatabaseName()));
  retval.append("    " + XMLHandler.addTagValue("port",getDatabasePortNumberString()));
  retval.append("    " + XMLHandler.addTagValue("username",getUsername()));
  String encrPassword="";
  List varList=new ArrayList();
  StringUtil.getUsedVariables(getPassword(),varList,true);
  if (varList.size() == 0) {
    encrPassword=PASSWORD_ENCRYPTED_PREFIX + Encr.encryptPassword(getPassword());
  }
 else {
    encrPassword=getPassword();
  }
  retval.append("    " + XMLHandler.addTagValue("password",encrPassword));
  retval.append("    " + XMLHandler.addTagValue("servername",getServername()));
  retval.append("    " + XMLHandler.addTagValue("data_tablespace",getDataTablespace()));
  retval.append("    " + XMLHandler.addTagValue("index_tablespace",getIndexTablespace()));
  retval.append("    <attributes>" + Const.CR);
  List list=new ArrayList(getAttributes().keySet());
  Collections.sort(list);
  for (Iterator iter=list.iterator(); iter.hasNext(); ) {
    String code=(String)iter.next();
    String attribute=(String)getAttributes().getProperty(code);
    if (!Const.isEmpty(attribute)) {
      retval.append("      <attribute>" + XMLHandler.addTagValue("code",code,false) + XMLHandler.addTagValue("attribute",attribute,false)+ "</attribute>"+ Const.CR);
    }
  }
  retval.append("    </attributes>" + Const.CR);
  retval.append("  </" + XML_TAG + ">"+ Const.CR);
  return retval.toString();
}
