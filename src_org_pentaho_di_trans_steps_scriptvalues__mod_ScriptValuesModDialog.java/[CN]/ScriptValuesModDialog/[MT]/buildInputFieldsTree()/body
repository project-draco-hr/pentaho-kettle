{
  try {
    RowMetaInterface r=transMeta.getPrevStepFields(stepname);
    if (r != null) {
      TreeItem item=new TreeItem(wTree,SWT.NULL);
      item.setText("Input Fields");
      String strItemToAdd="";
      for (int i=0; i < r.size(); i++) {
        ValueMetaInterface v=r.getValueMeta(i);
switch (v.getType()) {
case ValueMetaInterface.TYPE_STRING:
          strItemToAdd=v.getName() + ".getString()";
        break;
case ValueMetaInterface.TYPE_NUMBER:
      strItemToAdd=v.getName() + ".getNumber()";
    break;
case ValueMetaInterface.TYPE_INTEGER:
  strItemToAdd=v.getName() + ".getInteger()";
break;
case ValueMetaInterface.TYPE_DATE:
strItemToAdd=v.getName() + ".getDate()";
break;
case ValueMetaInterface.TYPE_BOOLEAN:
strItemToAdd=v.getName() + ".getBoolean()";
break;
case ValueMetaInterface.TYPE_BIGNUMBER:
strItemToAdd=v.getName() + ".getBigNumber()";
break;
case ValueMetaInterface.TYPE_BINARY:
strItemToAdd=v.getName() + ".getBytes()";
break;
case ValueMetaInterface.TYPE_SERIALIZABLE:
strItemToAdd=v.getName() + ".getSerializable()";
break;
default :
strItemToAdd=v.getName();
break;
}
TreeItem itemInputFields=new TreeItem(item,SWT.NULL);
itemInputFields.setText(strItemToAdd);
itemInputFields.setData(strItemToAdd);
}
}
}
 catch (KettleException ke) {
new ErrorDialog(shell,Messages.getString("ScriptValuesDialogMod.FailedToGetFields.DialogTitle"),Messages.getString("ScriptValuesDialogMod.FailedToGetFields.DialogMessage"),ke);
}
}
