{
  if (wFileRadio.getSelection() && !Const.isEmpty(wFilename.getText())) {
    loadFileTrans(wFilename.getText());
  }
 else {
    if (wRepRadio.getSelection() && repository != null && !Const.isEmpty(wTransName.getText()) && !Const.isEmpty(wTransDir.getText())) {
      RepositoryDirectory repdir=repository.getDirectoryTree().findDirectory(wTransDir.getText());
      if (repdir == null) {
        throw new KettleException(Messages.getString("MappingDialog.Exception.UnableToFindRepositoryDirectory)"));
      }
      loadRepositoryTrans(wTransName.getText(),repdir);
    }
 else {
      throw new KettleException(Messages.getString("MappingDialog.Exception.NoValidMappingDetailsFound"));
    }
  }
}
