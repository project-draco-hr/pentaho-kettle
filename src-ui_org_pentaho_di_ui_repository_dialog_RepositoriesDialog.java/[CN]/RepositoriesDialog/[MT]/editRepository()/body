{
  try {
    int index=wRepository.getSelectionIndex();
    if (index >= 0) {
      String name=wRepository.getItem(index);
      RepositoryMeta ri=input.searchRepository(name);
      if (ri != null) {
        RepositoryPluginMeta pluginMeta=RepositoryLoader.getInstance().findPluginMeta(ri.getId());
        if (pluginMeta == null) {
          throw new KettleException("Unable to find repository plugin for id [" + ri.getId() + "]");
        }
        RepositoryDialogInterface dd=getRepositoryDialog(pluginMeta,ri,input);
        if (dd.open() != null) {
          fillRepositories();
          int idx=input.indexOfRepository(ri);
          wRepository.select(idx);
        }
      }
    }
  }
 catch (  Exception e) {
    new ErrorDialog(shell,"Error","Error editing repository",e);
  }
}
