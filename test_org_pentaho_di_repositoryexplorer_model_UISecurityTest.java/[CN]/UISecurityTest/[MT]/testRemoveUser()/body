{
  try {
    UIRepositoryUser userToAdd=new UIRepositoryUser(new UserInfo());
    userToAdd.setName("newuser");
    userToAdd.setPassword("newpassword");
    userToAdd.setDescription("new description");
    Set<RoleInfo> rolesToAssign=new HashSet<RoleInfo>();
    rolesToAssign.add(ctoRole);
    rolesToAssign.add(isRole);
    rolesToAssign.add(adminRole);
    rolesToAssign.add(authenticatedRole);
    userToAdd.setRoles(rolesToAssign);
    security.addUser(userToAdd);
    UIRepositoryUser selectedUser=security.getSelectedUser();
    int removeUserIndex=security.getSelectedUserIndex();
    security.removeUser("newuser");
    assertEquals(security.getSelectedUserIndex(),removeUserIndex - 1);
    assertEquals(security.getUserList().size(),4);
  }
 catch (  Exception e) {
    Assert.fail();
  }
}
