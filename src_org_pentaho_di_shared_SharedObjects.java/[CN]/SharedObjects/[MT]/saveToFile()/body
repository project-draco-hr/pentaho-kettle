{
  OutputStream outputStream=KettleVFS.getOutputStream(filename,false);
  PrintStream out=new PrintStream(outputStream);
  out.print(XMLHandler.getXMLHeader(Const.XML_ENCODING));
  out.println("<" + XML_TAG + ">");
  Collection<SharedObjectInterface> collection=objectsMap.values();
  for (  SharedObjectInterface sharedObject : collection) {
    out.println(sharedObject.getXML());
  }
  out.println("</" + XML_TAG + ">");
  out.flush();
  out.close();
  outputStream.close();
}
