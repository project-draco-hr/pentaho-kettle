{
  int i;
  Row add;
  if (first) {
    first=false;
    data.argnrs=new int[meta.getArgument().length];
    for (i=0; i < meta.getArgument().length; i++) {
      if (!meta.getArgumentDirection()[i].equalsIgnoreCase("OUT")) {
        data.argnrs[i]=row.searchValueIndex(meta.getArgument()[i]);
        if (data.argnrs[i] < 0) {
          logError("Error finding field: " + meta.getArgument()[i] + "]");
          throw new KettleStepException("Couldn't find field '" + meta.getArgument()[i] + "' in row!");
        }
      }
 else {
        data.argnrs[i]=-1;
      }
    }
    data.db.setProcLookup(meta.getProcedure(),meta.getArgument(),meta.getArgumentDirection(),meta.getArgumentType(),meta.getResultName(),meta.getResultType());
  }
  data.db.setProcValues(row,data.argnrs,meta.getArgumentDirection(),meta.getResultName() != null);
  add=data.db.callProcedure(meta.getArgument(),meta.getArgumentDirection(),meta.getArgumentType(),meta.getResultName(),meta.getResultType());
  for (i=0; i < add.size(); i++) {
    row.addValue(add.getValue(i));
  }
}
