{
  TreeListener treeListener=new TreeListener(){
    public void treeExpanded(    TreeEvent e){
      TreeItem treeItem=(TreeItem)e.item;
      String[] path=Const.getTreeStrings(treeItem);
      TreeMemory treeMemory=TreeMemory.getInstance();
      treeMemory.storeExpanded(tree,path,true);
      System.out.println("Expanded item: " + Const.getTreePath(treeItem,0));
    }
    public void treeCollapsed(    TreeEvent e){
      TreeItem treeItem=(TreeItem)e.item;
      String[] path=Const.getTreeStrings(treeItem);
      TreeMemory treeMemory=TreeMemory.getInstance();
      treeMemory.storeExpanded(tree,path,false);
      System.out.println("Collapsed item: " + Const.getTreePath(treeItem,0));
    }
  }
;
  tree.addTreeListener(treeListener);
  return treeListener;
}
