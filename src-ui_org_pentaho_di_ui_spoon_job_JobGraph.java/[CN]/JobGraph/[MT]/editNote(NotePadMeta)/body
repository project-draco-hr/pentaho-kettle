{
  NotePadMeta before=(NotePadMeta)ni.clone();
  String title=Messages.getString("JobGraph.Dialog.EditNote.Title");
  String message=Messages.getString("JobGraph.Dialog.EditNote.Message");
  EnterTextDialog dd=new EnterTextDialog(shell,title,message,ni.getNote());
  String n=dd.open();
  if (n != null) {
    spoon.addUndoChange(jobMeta,new NotePadMeta[]{before},new NotePadMeta[]{ni},new int[]{jobMeta.indexOfNote(ni)});
    ni.setChanged();
    ni.setNote(n);
    ni.width=ConstUI.NOTE_MIN_SIZE;
    ni.height=ConstUI.NOTE_MIN_SIZE;
    spoon.refreshGraph();
  }
}
