{
  if (running && job != null && job.isInitialized() && job.isFinished()) {
    job=null;
    running=false;
    for (    RefreshListener listener : refreshListeners)     listener.refreshNeeded();
    log.logMinimal(Spoon.APP_NAME,BaseMessages.getString(PKG,"JobLog.Log.JobHasEnded"));
  }
  setControlStates();
}
