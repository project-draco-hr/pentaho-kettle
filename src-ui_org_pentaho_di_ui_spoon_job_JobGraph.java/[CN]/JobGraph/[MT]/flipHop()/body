{
  selrect=null;
  JobEntryCopy dummy=currentHop.getFromEntry();
  currentHop.setFromEntry(currentHop.getToEntry());
  currentHop.setToEntry(dummy);
  if (jobMeta.hasLoop(currentHop.getFromEntry())) {
    spoon.refreshGraph();
    MessageBox mb=new MessageBox(shell,SWT.YES | SWT.ICON_WARNING);
    mb.setMessage(BaseMessages.getString(PKG,"JobGraph.Dialog.HopFlipCausesLoop.Message"));
    mb.setText(BaseMessages.getString(PKG,"JobGraph.Dialog.HopFlipCausesLoop.Title"));
    mb.open();
    dummy=currentHop.getFromEntry();
    currentHop.setFromEntry(currentHop.getToEntry());
    currentHop.setToEntry(dummy);
    spoon.refreshGraph();
  }
 else {
    currentHop.setChanged();
    spoon.refreshGraph();
    spoon.refreshTree();
    spoon.setShellText();
  }
}
