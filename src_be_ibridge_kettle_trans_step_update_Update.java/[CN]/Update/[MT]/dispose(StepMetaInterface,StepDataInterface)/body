{
  meta=(UpdateMeta)smi;
  data=(UpdateData)sdi;
  try {
    if (!data.dbupd.isAutoCommit()) {
      if (getErrors() == 0) {
        data.dbupd.commit();
      }
 else {
        data.dbupd.rollback();
      }
    }
    data.dbupd.closeUpdate();
  }
 catch (  KettleDatabaseException e) {
    log.logError(toString(),Messages.getString("Update.Log.UnableToCommitUpdateConnection") + data.dbupd + "] :"+ e.toString());
    setErrors(1);
  }
  data.dblup.disconnect();
  data.dbupd.disconnect();
  super.dispose(smi,sdi);
}
