{
  meta=(XBaseInputMeta)smi;
  data=(XBaseInputData)sdi;
  debug="Get row from DBF file";
  Row row=data.xbi.getRow(data.fields);
  if (row == null) {
    debug="No more rows.";
    if (data.xbi.hasError()) {
      logError(Messages.getString("XBaseInput.Log.Error.UnexpectedErrorCanNotContinue"));
      setErrors(1);
      stopAll();
    }
    setOutputDone();
    return false;
  }
  linesInput++;
  debug="Do we need to add a rownr?";
  if (meta.isRowNrAdded() && meta.getRowNrField() != null && meta.getRowNrField().length() > 0) {
    Value rownr=new Value(meta.getRowNrField(),Value.VALUE_TYPE_INTEGER);
    rownr.setLength(9,0);
    rownr.setValue(linesInput);
    row.addValue(rownr);
  }
  debug="Send the row to the next step.";
  putRow(row);
  if ((linesInput > 0) && (linesInput % Const.ROWS_UPDATE) == 0)   logBasic(Messages.getString("XBaseInput.Log.LineNr") + linesInput);
  debug="End of readRowOfData.";
  return true;
}
