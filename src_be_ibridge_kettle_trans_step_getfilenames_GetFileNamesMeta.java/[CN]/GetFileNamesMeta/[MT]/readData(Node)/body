{
  try {
    Node filternode=XMLHandler.getSubNode(stepnode,"filter");
    Node filterfiletypenode=XMLHandler.getSubNode(filternode,"filterfiletype");
    filterfiletype=XMLHandler.getNodeValue(filterfiletypenode);
    Node filenode=XMLHandler.getSubNode(stepnode,"file");
    int nrfiles=XMLHandler.countNodes(filenode,"name");
    allocate(nrfiles);
    for (int i=0; i < nrfiles; i++) {
      Node filenamenode=XMLHandler.getSubNodeByNr(filenode,"name",i);
      Node filemasknode=XMLHandler.getSubNodeByNr(filenode,"filemask",i);
      Node fileRequirednode=XMLHandler.getSubNodeByNr(filenode,"file_required",i);
      fileName[i]=XMLHandler.getNodeValue(filenamenode);
      fileMask[i]=XMLHandler.getNodeValue(filemasknode);
      fileRequired[i]=XMLHandler.getNodeValue(fileRequirednode);
    }
  }
 catch (  Exception e) {
    throw new KettleXMLException("Unable to load step info from XML",e);
  }
}
