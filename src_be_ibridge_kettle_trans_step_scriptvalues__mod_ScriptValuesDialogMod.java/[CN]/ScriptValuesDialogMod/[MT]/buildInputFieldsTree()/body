{
  try {
    Row r=transMeta.getPrevStepFields(stepname);
    if (r != null) {
      TreeItem item=new TreeItem(wTree,SWT.NULL);
      item.setText("Input Fields");
      String strItemToAdd="";
      for (int i=0; i < r.size(); i++) {
        Value v=r.getValue(i);
switch (v.getType()) {
case Value.VALUE_TYPE_STRING:
          strItemToAdd=v.getName() + ".getString()";
        break;
case Value.VALUE_TYPE_NUMBER:
      strItemToAdd=v.getName() + ".getNumber()";
    break;
case Value.VALUE_TYPE_INTEGER:
  strItemToAdd=v.getName() + ".getInteger()";
break;
case Value.VALUE_TYPE_DATE:
strItemToAdd=v.getName() + ".getDate()";
break;
case Value.VALUE_TYPE_BOOLEAN:
strItemToAdd=v.getName() + ".getBool()";
break;
default :
strItemToAdd=v.getName();
break;
}
TreeItem itemInputFields=new TreeItem(item,SWT.NULL);
itemInputFields.setText(strItemToAdd);
itemInputFields.setData(strItemToAdd);
}
}
}
 catch (KettleException ke) {
new ErrorDialog(shell,Messages.getString("ScriptValuesDialogMod.FailedToGetFields.DialogTitle"),Messages.getString("ScriptValuesDialogMod.FailedToGetFields.DialogMessage"),ke);
}
}
