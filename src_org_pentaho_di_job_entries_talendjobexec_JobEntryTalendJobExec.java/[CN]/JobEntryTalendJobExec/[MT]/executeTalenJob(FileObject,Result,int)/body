{
  URL[] jarFiles=null;
  try {
    jarFiles=prepareJarFiles(file);
    KettleURLClassLoader classLoader=new KettleURLClassLoader(jarFiles,getClass().getClassLoader());
    Class<?> clazz=classLoader.loadClass(environmentSubstitute(getClassName()));
    Object jobObject=clazz.newInstance();
    Method runJob=clazz.getMethod("runJobInTOS",String[].class);
    int returnCode=(Integer)runJob.invoke(jobObject,(Object)new String[]{});
    result.setExitStatus(returnCode);
    result.setResult(true);
    result.setNrErrors(0);
  }
 catch (  Exception e) {
    throw new KettleException(BaseMessages.getString(PKG,"JobEntryTalendJobExec.ERROR_0006_ExceptionExecutingTalenJob"),e);
  }
 finally {
    cleanupJarFiles(jarFiles);
  }
  return result;
}
