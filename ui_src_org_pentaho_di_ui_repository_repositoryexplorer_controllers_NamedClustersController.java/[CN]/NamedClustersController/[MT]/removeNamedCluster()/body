{
  try {
    Collection<UINamedCluster> namedClusters=namedClustersTable.getSelectedItems();
    if (namedClusters != null && !namedClusters.isEmpty()) {
      for (      Object obj : namedClusters) {
        if (obj != null && obj instanceof UINamedCluster) {
          UINamedCluster uiNamedCluster=(UINamedCluster)obj;
          NamedCluster namedCluster=uiNamedCluster.getNamedCluster();
          if (NamedClusterManager.getInstance().read(namedCluster.getName(),repository.getMetaStore()) == null) {
            MessageBox mb=new MessageBox(shell,SWT.ICON_ERROR | SWT.OK);
            mb.setMessage(BaseMessages.getString(PKG,"RepositoryExplorerDialog.NamedCluster.Delete.DoesNotExists.Message",namedCluster.getName()));
            mb.setText(BaseMessages.getString(PKG,"RepositoryExplorerDialog.NamedCluster.Delete.DoesNotExists.Title"));
            mb.open();
          }
 else {
            NamedClusterManager.getInstance().delete(namedCluster.getName(),repository.getMetaStore());
          }
        }
      }
    }
 else {
      MessageBox mb=new MessageBox(shell,SWT.ICON_ERROR | SWT.OK);
      mb.setMessage(BaseMessages.getString(PKG,"RepositoryExplorerDialog.NamedCluster.Delete.NoItemSelected.Message"));
      mb.setText(BaseMessages.getString(PKG,"RepositoryExplorerDialog.NamedCluster.Delete.NoItemSelected.Title"));
      mb.open();
    }
  }
 catch (  Exception e) {
    if (mainController == null || !mainController.handleLostRepository(e)) {
      new ErrorDialog(shell,BaseMessages.getString(PKG,"RepositoryExplorerDialog.NamedCluster.Delete.UnexpectedError.Title"),BaseMessages.getString(PKG,"RepositoryExplorerDialog.NamedCluster.Delete.UnexpectedError.Message"),e);
    }
  }
 finally {
    refreshNamedClustersList();
  }
}
