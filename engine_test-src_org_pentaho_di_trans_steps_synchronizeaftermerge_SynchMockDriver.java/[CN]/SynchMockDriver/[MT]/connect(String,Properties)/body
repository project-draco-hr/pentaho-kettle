{
  Connection conn=super.connect(url,info);
  Mockito.doThrow(new SQLException("Wrong rollback")).when(conn).rollback(Matchers.isNull(Savepoint.class));
  PreparedStatement prepStatement=mock(PreparedStatement.class);
  when(conn.prepareStatement(anyString())).thenReturn(prepStatement);
  ResultSet rs=mock(ResultSet.class);
  when(prepStatement.executeQuery()).thenReturn(rs);
  ResultSetMetaData rsmd=mock(ResultSetMetaData.class);
  when(rs.getMetaData()).thenReturn(rsmd);
  DatabaseMetaData md=mock(DatabaseMetaData.class);
  when(conn.getMetaData()).thenReturn(md);
  when(md.supportsTransactions()).thenReturn(true);
  return conn;
}
