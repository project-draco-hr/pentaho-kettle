{
  TransMeta preview=new TransMeta();
  for (int i=0; i < spoon.transMeta.nrSteps(); i++) {
    StepMeta stepMeta=spoon.transMeta.getStep(i);
    if (stepMeta.isSelected()) {
      preview.addStep(stepMeta);
    }
  }
  for (int i=0; i < spoon.transMeta.nrTransHops(); i++) {
    TransHopMeta hi=spoon.transMeta.getTransHop(i);
    if (hi.isEnabled()) {
      StepMeta fr=hi.getFromStep();
      StepMeta to=hi.getToStep();
      if (fr.isSelected() && to.isSelected()) {
        preview.addTransHop(hi);
      }
    }
  }
}
