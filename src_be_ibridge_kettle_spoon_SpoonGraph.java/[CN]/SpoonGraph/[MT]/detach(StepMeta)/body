{
  TransHopMeta hfrom=spoon.getTransMeta().findTransHopTo(stepMeta);
  TransHopMeta hto=spoon.getTransMeta().findTransHopFrom(stepMeta);
  if (hfrom != null && hto != null) {
    if (spoon.getTransMeta().findTransHop(hfrom.getFromStep(),hto.getToStep()) == null) {
      TransHopMeta hnew=new TransHopMeta(hfrom.getFromStep(),hto.getToStep());
      spoon.getTransMeta().addTransHop(hnew);
      spoon.addUndoNew(new TransHopMeta[]{hnew},new int[]{spoon.getTransMeta().indexOfTransHop(hnew)});
      spoon.refreshTree();
    }
  }
  if (hfrom != null) {
    int fromidx=spoon.getTransMeta().indexOfTransHop(hfrom);
    if (fromidx >= 0) {
      spoon.getTransMeta().removeTransHop(fromidx);
      spoon.refreshTree();
    }
  }
  if (hto != null) {
    int toidx=spoon.getTransMeta().indexOfTransHop(hto);
    if (toidx >= 0) {
      spoon.getTransMeta().removeTransHop(toidx);
      spoon.refreshTree();
    }
  }
  spoon.refreshTree();
  redraw();
}
