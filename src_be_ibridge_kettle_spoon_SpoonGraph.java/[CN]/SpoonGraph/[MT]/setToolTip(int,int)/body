{
  String newTip=null;
  final StepMeta stepMeta=spoon.getTransMeta().getStep(x,y,iconsize);
  if (stepMeta != null) {
    if (stepMeta.getDescription() != null) {
      String desc=stepMeta.getDescription();
      int le=desc.length() >= 200 ? 200 : desc.length();
      newTip=desc.substring(0,le);
    }
 else {
      newTip=stepMeta.getName();
    }
  }
 else {
    final TransHopMeta hi=findHop(x,y);
    if (hi != null) {
      newTip=hi.toString();
    }
 else {
      newTip=null;
    }
  }
  if (newTip == null || !newTip.equalsIgnoreCase(getToolTipText())) {
    setToolTipText(newTip);
  }
}
