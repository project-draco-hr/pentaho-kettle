{
  int nrsels=spoon.transMeta.nrSelectedSteps();
  if (nrsels == 0) {
    spoon.delStep(stMeta.getName());
  }
 else {
    if (stMeta == null || !stMeta.isSelected())     nrsels++;
    MessageBox mb=new MessageBox(shell,SWT.YES | SWT.NO | SWT.ICON_WARNING);
    mb.setText("WARNING!");
    String message="Do you want to delete the " + nrsels + " following steps?"+ Const.CR;
    for (int i=spoon.transMeta.nrSteps() - 1; i >= 0; i--) {
      StepMeta stepMeta=spoon.transMeta.getStep(i);
      if (stepMeta.isSelected() || (stMeta != null && stMeta.equals(stepMeta))) {
        message+="  --> " + stepMeta.getName() + Const.CR;
      }
    }
    mb.setMessage(message);
    int result=mb.open();
    if (result == SWT.YES) {
      for (int i=spoon.transMeta.nrSteps() - 1; i >= 0; i--) {
        StepMeta stepMeta=spoon.transMeta.getStep(i);
        if (stepMeta.isSelected() || (stMeta != null && stMeta.equals(stepMeta))) {
          spoon.delStep(stepMeta.getName());
        }
      }
    }
  }
}
