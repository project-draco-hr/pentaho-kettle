{
  int nrsels=spoon.getTransMeta().nrSelectedSteps();
  if (nrsels == 0) {
    spoon.delStep(stMeta.getName());
  }
 else {
    if (stMeta == null || !stMeta.isSelected())     nrsels++;
    MessageBox mb=new MessageBox(shell,SWT.YES | SWT.NO | SWT.ICON_WARNING);
    mb.setText(Messages.getString("SpoonGraph.Dialog.Title.Warning.DeleteSteps"));
    String message=Messages.getString("SpoonGraph.Dialog.Message.Warning.DeleteSteps") + nrsels + Messages.getString("SpoonGraph.Dialog.Message.Warning.DeleteSteps2")+ Const.CR;
    for (int i=spoon.getTransMeta().nrSteps() - 1; i >= 0; i--) {
      StepMeta stepMeta=spoon.getTransMeta().getStep(i);
      if (stepMeta.isSelected() || (stMeta != null && stMeta.equals(stepMeta))) {
        message+="  --> " + stepMeta.getName() + Const.CR;
      }
    }
    mb.setMessage(message);
    int result=mb.open();
    if (result == SWT.YES) {
      for (int i=spoon.getTransMeta().nrSteps() - 1; i >= 0; i--) {
        StepMeta stepMeta=spoon.getTransMeta().getStep(i);
        if (stepMeta.isSelected() || (stMeta != null && stMeta.equals(stepMeta))) {
          spoon.delStep(stepMeta.getName());
        }
      }
    }
  }
}
