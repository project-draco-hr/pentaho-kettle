{
  NotePadMeta before=(NotePadMeta)ni.clone();
  String title=Messages.getString("SpoonGraph.Dialog.EditNote.Title");
  String message=Messages.getString("SpoonGraph.Dialog.EditNote.Message");
  EnterTextDialog dd=new EnterTextDialog(shell,title,message,ni.getNote());
  String n=dd.open();
  if (n != null) {
    ni.setChanged();
    ni.setNote(n);
    ni.width=Const.NOTE_MIN_SIZE;
    ni.height=Const.NOTE_MIN_SIZE;
    NotePadMeta after=(NotePadMeta)ni.clone();
    spoon.addUndoChange(new NotePadMeta[]{before},new NotePadMeta[]{after},new int[]{spoon.getTransMeta().indexOfNote(ni)});
    spoon.refreshGraph();
  }
}
