{
  try {
    this.databaseMeta=rep.loadDatabaseMetaFromStepAttribute(idStep,"connection",databases);
    this.cube=rep.getStepAttributeString(idStep,"cube");
    this.measureType=rep.getStepAttributeString(idStep,"measuretype");
    this.clearCube=rep.getStepAttributeBoolean(idStep,"clearcube");
    int nrFields=rep.countNrStepAttributes(idStep,"dimensionname");
    for (int i=0; i < nrFields; i++) {
      String dimensionName=rep.getStepAttributeString(idStep,i,"dimensionname");
      String fieldName=rep.getStepAttributeString(idStep,i,"fieldname");
      String fieldType=rep.getStepAttributeString(idStep,i,"fieldtype");
      this.fields.add(new DimensionField(dimensionName,fieldName,fieldType));
    }
    String measureName=rep.getStepAttributeString(idStep,"measurename");
    String measureFieldName=rep.getStepAttributeString(idStep,"measurefieldname");
    String measureFieldType=rep.getStepAttributeString(idStep,"measurefieldtype");
    this.measureField=new DimensionField(measureName,measureFieldName,measureFieldType);
  }
 catch (  Exception e) {
    throw new KettleException("Unexpected error reading step information from the repository",e);
  }
}
