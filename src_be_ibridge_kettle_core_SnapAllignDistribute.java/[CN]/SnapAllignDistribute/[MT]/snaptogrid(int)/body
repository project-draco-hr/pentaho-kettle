{
  if (elements.size() == 0)   return;
  GUIPositionInterface elemArray[]=new GUIPositionInterface[elements.size()];
  Point before[]=new Point[elements.size()];
  Point after[]=new Point[elements.size()];
  for (int i=0; i < elements.size(); i++) {
    GUIPositionInterface positionInterface=(GUIPositionInterface)elements.get(i);
    elemArray[i]=positionInterface;
    Point p=positionInterface.getLocation();
    before[i]=new Point(p.x,p.y);
    int dx=p.x % size;
    int dy=p.y % size;
    if (dx > size / 2)     p.x+=size - dx;
 else     p.x-=dx;
    if (dy > size / 2)     p.y+=size - dy;
 else     p.y-=dy;
    after[i]=new Point(p.x,p.y);
  }
  if (addUndoPositionInterface != null)   addUndoPositionInterface.addUndoPosition(elemArray,indices,before,after);
  redrawable.redraw();
}
