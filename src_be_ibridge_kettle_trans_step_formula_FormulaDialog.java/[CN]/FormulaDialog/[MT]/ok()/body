{
  stepname=wStepname.getText();
  currentMeta.allocate(wFields.nrNonEmpty());
  for (int i=0; i < wFields.nrNonEmpty(); i++) {
    TableItem item=wFields.getNonEmpty(i);
    String fieldName=item.getText(1);
    String formula=item.getText(2);
    int valueType=Value.getType(item.getText(3));
    int valueLength=Const.toInt(item.getText(4),-1);
    int valuePrecision=Const.toInt(item.getText(5),-1);
    boolean removed=Messages.getString("System.Combo.Yes").equalsIgnoreCase(item.getText(6));
    currentMeta.getFormula()[i]=new FormulaMetaFunction(fieldName,formula,valueType,valueLength,valuePrecision,removed);
  }
  if (!originalMeta.equals(currentMeta)) {
    currentMeta.setChanged();
    changed=currentMeta.hasChanged();
  }
  dispose();
}
