{
  int hash=entry.hashCode();
  hash^=(hash >>> 20) ^ (hash >>> 12);
  hash=hash ^ (hash >>> 7) ^ (hash >>> 4);
  int i=hash & (table.length - 1);
  for (Entry e=table[i]; e != null; e=e.next) {
    E k;
    if (e.hash == hash && entry.equals(k=e.entry)) {
      E old=k;
      e.entry=entry;
      return old;
    }
  }
  table[i]=new Entry(hash,entry,table[i]);
  resize();
  return null;
}
