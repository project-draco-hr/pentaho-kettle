{
  for (int i=0; i < fieldname.length; i++) {
    if (!Const.isEmpty(fieldname[i])) {
      ValueMetaInterface v;
      if (replace[i]) {
        v=row.searchValueMeta(fieldname[i]);
        if (v == null) {
          if (Const.isEmpty(rename[i])) {
            throw new KettleStepException(BaseMessages.getString(PKG,"ScriptValuesMetaMod.Exception.FieldToReplaceNotFound",fieldname[i]));
          }
 else {
            v=row.searchValueMeta(rename[i]);
            if (v == null) {
              throw new KettleStepException(BaseMessages.getString(PKG,"ScriptValuesMetaMod.Exception.FieldToReplaceNotFound",rename[i]));
            }
          }
        }
        v.setType(type[i]);
      }
 else {
        if (rename[i] != null && rename[i].length() != 0) {
          v=new ValueMeta(rename[i],type[i]);
        }
 else {
          v=new ValueMeta(this.fieldname[i],type[i]);
        }
      }
      v.setLength(length[i]);
      v.setPrecision(precision[i]);
      v.setOrigin(originStepname);
      if (!replace[i]) {
        row.addValueMeta(v);
      }
    }
  }
}
