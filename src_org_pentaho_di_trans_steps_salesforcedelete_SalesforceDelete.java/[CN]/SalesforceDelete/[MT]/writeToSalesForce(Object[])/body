{
  try {
    if (log.isDetailed())     logDetailed("Called writeToSalesForce with " + data.iBufferPos + " out of "+ meta.getBatchSizeInt());
    if (data.iBufferPos < meta.getBatchSizeInt()) {
      data.deleteId[data.iBufferPos]=getInputRowMeta().getString(rowData,data.indexOfKeyField);
      data.outputBuffer[data.iBufferPos]=rowData;
      data.iBufferPos++;
    }
    if (data.iBufferPos >= meta.getBatchSizeInt()) {
      if (log.isDetailed())       logDetailed("Calling flush buffer from writeToSalesForce");
      flushBuffers();
    }
  }
 catch (  Exception e) {
    throw new KettleException("\nFailed in writeToSalesForce: " + e.getMessage());
  }
}
