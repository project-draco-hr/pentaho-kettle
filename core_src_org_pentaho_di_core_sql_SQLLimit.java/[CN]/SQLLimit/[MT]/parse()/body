{
  if (Const.isEmpty(limitClause)) {
    return;
  }
  limitClause=limitClause.replaceAll("\\s+"," ");
  if (limitClause.contains(",")) {
    String[] limitSplit=limitClause.split(",");
    if (limitSplit.length == 2) {
      offset=Integer.valueOf(limitSplit[0].trim());
      limit=Integer.valueOf(limitSplit[1].trim());
    }
    return;
  }
  if (limitClause.toUpperCase().contains("OFFSET")) {
    String[] limitSplit=limitClause.split(" ");
    if (limitSplit.length == 3) {
      offset=Integer.valueOf(limitSplit[2].trim());
      limit=Integer.valueOf(limitSplit[0].trim());
    }
    return;
  }
  try {
    limit=Integer.valueOf(limitClause.trim());
    offset=0;
  }
 catch (  NumberFormatException nfe) {
    throw new KettleSQLException("Invalid limit parameter in : " + limitClause);
  }
}
