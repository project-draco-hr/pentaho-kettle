{
  MockPlugin mockPlugin=new MockPlugin(dummyMonitor,new String[]{KettleExtensionPoint.JobAfterJobEntryExecution.id},KettleExtensionPoint.JobAfterJobEntryExecution.name());
  PluginRegistry.getInstance().registerPlugin(ExtensionPointPluginType.class,mockPlugin);
  executeSampleJob();
  Assert.assertTrue(dummyMonitor.wasTriggered);
  Assert.assertTrue(dummyMonitor.eventObject != null && dummyMonitor.eventObject instanceof JobExecutionExtension);
  JobExecutionExtension jobEvent=(JobExecutionExtension)dummyMonitor.eventObject;
  Assert.assertTrue(jobEvent.job != null && jobEvent.job.getJobMeta() != null);
  Assert.assertTrue(SAMPLE_JOB_NAME.equals(jobEvent.job.getJobMeta().getName()));
  Assert.assertTrue(SAMPLE_JOB.equals(jobEvent.job.getJobMeta().getFilename()));
  dummyMonitor.reset();
  PluginRegistry.getInstance().removePlugin(ExtensionPointPluginType.class,mockPlugin);
}
