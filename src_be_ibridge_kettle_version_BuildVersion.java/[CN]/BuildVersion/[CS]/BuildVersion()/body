{
  String filename=BUILD_VERSION_FILE;
  StringBuffer buffer=new StringBuffer(30);
  try {
    InputStream inputStream=getClass().getResourceAsStream("/" + filename);
    if (inputStream == null) {
      System.out.println("Stream not found for filename [/" + filename + "], looking for it on the normal filesystem...");
      inputStream=new FileInputStream(filename);
    }
    int c=inputStream.read();
    while (c != 0 && c != '\n' && c != '\r') {
      if (c != ' ' && c != '\t')       buffer.append((char)c);
      c=inputStream.read();
    }
    String parts[]=buffer.toString().split(SEPARATOR);
    if (parts.length != 2) {
      throw new RuntimeException("Could not find 2 parts in versioning line : [" + buffer + "]");
    }
    revision=Integer.parseInt(parts[0]);
    SimpleDateFormat format=new SimpleDateFormat(BUILD_DATE_FORMAT);
    buildDate=format.parse(parts[1]);
  }
 catch (  Exception e) {
    System.out.println("Unable to load revision number from file : [" + filename + "] : "+ e.toString());
    System.out.println(Const.getStackTracker(e));
    revision=1;
    buildDate=new Date();
  }
}
