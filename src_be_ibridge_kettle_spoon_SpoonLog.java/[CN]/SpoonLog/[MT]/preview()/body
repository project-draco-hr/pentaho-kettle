{
  if (!running) {
    try {
      log.logDetailed(toString(),Messages.getString("SpoonLog.Log.DoPreview"));
      PreviewSelectDialog psd=new PreviewSelectDialog(shell,SWT.NONE,log,spoon.props,spoon.getTransMeta());
      psd.open();
      if (psd.previewSteps != null) {
        String[] args=null;
        Row arguments=getArguments(spoon.getTransMeta());
        if (arguments != null) {
          args=convertArguments(arguments);
        }
        getVariables(spoon.getTransMeta());
        spoon.tabfolder.setSelection(1);
        trans=new Trans(log,spoon.getTransMeta(),psd.previewSteps,psd.previewSizes);
        trans.execute(args);
        preview=true;
        readLog();
        running=!running;
        wStart.setText(STOP_TEXT);
      }
    }
 catch (    Exception e) {
      new ErrorDialog(shell,spoon.props,Messages.getString("SpoonLog.Dialog.UnexpectedErrorDuringPreview.Title"),Messages.getString("SpoonLog.Dialog.UnexpectedErrorDuringPreview.Message"),e);
    }
  }
 else {
    MessageBox m=new MessageBox(shell,SWT.OK | SWT.ICON_WARNING);
    m.setText(Messages.getString("SpoonLog.Dialog.DoNoPreviewWhileRunning.Title"));
    m.setMessage(Messages.getString("SpoonLog.Dialog.DoNoPreviewWhileRunning.Message"));
    m.open();
  }
}
