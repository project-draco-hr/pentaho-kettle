{
  ClassLoader cl=Thread.currentThread().getContextClassLoader();
  URL res=cl.getResource(location);
  if (res != null) {
    try {
      java.io.InputStream s=res.openStream();
      if (s != null) {
        return new Image(display,s);
      }
    }
 catch (    IOException e) {
    }
  }
  try {
    FileObject imageFileObject=KettleVFS.getInstance().getFileSystemManager().resolveFile(base,location);
    return new Image(display,KettleVFS.getInputStream(imageFileObject));
  }
 catch (  FileSystemException e) {
    throw new RuntimeException("Unable to load image with name [" + location + "]",e);
  }
}
