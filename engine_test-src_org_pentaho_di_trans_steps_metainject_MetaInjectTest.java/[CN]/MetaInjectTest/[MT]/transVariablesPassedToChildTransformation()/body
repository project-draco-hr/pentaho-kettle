{
  doReturn(new String[]{TEST_VARIABLE}).when(metaInject).listVariables();
  doReturn(TEST_VALUE).when(metaInject).getVariable(TEST_VARIABLE);
  TransMeta internalTransMeta=new TransMeta();
  doReturn(internalTransMeta).when(metaInject).loadTransformationMeta();
  metaInject.init(meta,data);
  assertEquals(TEST_VALUE,internalTransMeta.getVariable(TEST_VARIABLE));
}
