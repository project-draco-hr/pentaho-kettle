{
  try {
    String script=wScript.getText();
    script+=Const.CR;
    Row r=transMeta.getPrevStepFields(stepname);
    if (r != null) {
      for (int i=0; i < r.size(); i++) {
        Value v=r.getValue(i);
switch (v.getType()) {
case Value.VALUE_TYPE_STRING:
          script+=v.getName() + ".getString()";
        break;
case Value.VALUE_TYPE_NUMBER:
      script+=v.getName() + ".getNumber()";
    break;
case Value.VALUE_TYPE_INTEGER:
  script+=v.getName() + ".getInteger()";
break;
case Value.VALUE_TYPE_DATE:
script+=v.getName() + ".getDate()";
break;
case Value.VALUE_TYPE_BOOLEAN:
script+=v.getName() + ".getBoolean";
break;
default :
script+=v.getName();
break;
}
script+=";" + Const.CR;
}
wScript.setText(script);
}
}
 catch (KettleException ke) {
new ErrorDialog(shell,Messages.getString("ScriptValuesDialog.FailedToGetFields.DialogTitle"),Messages.getString("ScriptValuesDialog.FailedToGetFields.DialogMessage"),ke);
}
}
