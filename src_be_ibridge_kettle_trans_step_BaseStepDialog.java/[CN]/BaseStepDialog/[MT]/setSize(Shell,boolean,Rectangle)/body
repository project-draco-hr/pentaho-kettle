{
  sh.setMaximized(max);
  if (r != null && r.x >= 0 && r.y >= 0 && r.width >= 0 && r.height >= 0) {
    if (r.x > 0 && r.y > 0)     sh.setSize(r.width,r.height);
    if (r.width > 0 && r.height > 0)     sh.setLocation(r.x,r.y);
  }
 else {
    sh.pack();
  }
}
