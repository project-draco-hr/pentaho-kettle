{
  int length=data.endBuffer - data.startBuffer;
  if (newLineFound) {
    length-=newLines;
    if (length <= 0)     length=0;
    if (endOfBuffer)     data.startBuffer++;
  }
  if (enclosureFound) {
    if (length > 1) {
      length-=data.delimiter.length;
    }
    data.startBuffer=data.startBuffer + data.enclosure.length;
    length-=data.enclosure.length;
    while ((data.byteBuffer[data.startBuffer + length] == 32) || (data.byteBuffer[data.startBuffer + length] == data.delimiter[0])) {
      length-=1;
    }
    length-=data.enclosure.length - 1;
  }
  if (newLines <= 0 && data.delimiter.length > 1) {
    length-=data.delimiter.length - 1;
  }
  if (length <= 0)   length=0;
  return length;
}
