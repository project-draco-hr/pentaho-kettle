{
  TransMeta newTransMeta=new TransMeta();
  TransDialog transDialog=new TransDialog(shell,SWT.NONE,newTransMeta,rep);
  if (transDialog.open() != null) {
    Spoon spoon=Spoon.getInstance();
    spoon.addTransGraph(newTransMeta);
    if (spoon.saveFile()) {
      wFilename.setText(Const.NVL(newTransMeta.getFilename(),""));
      if (rep != null) {
        wTransname.setText(Const.NVL(newTransMeta.getName(),""));
        wDirectory.setText(newTransMeta.getRepositoryDirectory().getPath());
      }
    }
  }
}
