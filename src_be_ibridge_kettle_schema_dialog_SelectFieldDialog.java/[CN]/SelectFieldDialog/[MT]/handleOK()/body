{
  retval=true;
  String str[]=wList.getItems();
  String con[]=wCondition.getItems();
  fields=new TableField[str.length];
  conditions=new WhereCondition[con.length];
  for (int i=0; i < str.length; i++) {
    int idx=str[i].indexOf(" . ");
    if (idx >= 0) {
      String tablename=str[i].substring(0,idx);
      String fieldname=str[i].substring(idx + 3);
      TableMeta tab=schema.findTable(tablename);
      if (tab != null) {
        fields[i]=tab.findField(fieldname);
      }
    }
  }
  for (int i=0; i < con.length; i++) {
    int idx=con[i].indexOf(" . ");
    if (idx >= 0) {
      String tablename=con[i].substring(0,idx);
      String condiname=con[i].substring(idx + 3);
      TableMeta tab=schema.findTable(tablename);
      if (tab != null) {
        conditions[i]=tab.findCondition(condiname);
      }
    }
  }
  schema.setCubeFile(wCube.getText());
  dispose();
}
