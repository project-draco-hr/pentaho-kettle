{
  LogWriter log=LogWriter.getInstance();
  log4j.info("Started HTTP job to " + url);
  Result result=new Result(nr);
  result.setResult(false);
  log.logDetailed(toString(),"Start of FTP job entry");
  URL server=null;
  try {
    FileOutputStream output=new FileOutputStream(new File(targetFilename));
    server=new URL(url);
    BufferedReader input=new BufferedReader(new InputStreamReader(server.openStream()));
    String line;
    while ((line=input.readLine()) != null) {
      output.write((line + Const.CR).getBytes());
    }
    input.close();
    output.close();
  }
 catch (  MalformedURLException e) {
    result.setNrErrors(1);
    e.printStackTrace();
    log.logError(toString(),"The specified URL is not valid [" + url + "] : "+ e.getMessage());
  }
catch (  IOException e) {
    result.setNrErrors(1);
    e.printStackTrace();
    log.logError(toString(),"I was unable to save the HTTP result to file because of a I/O error: " + e.getMessage());
  }
catch (  Exception e) {
    result.setNrErrors(1);
    e.printStackTrace();
    log.logError(toString(),"Error getting file from HTTP : " + e.getMessage());
  }
  return result;
}
