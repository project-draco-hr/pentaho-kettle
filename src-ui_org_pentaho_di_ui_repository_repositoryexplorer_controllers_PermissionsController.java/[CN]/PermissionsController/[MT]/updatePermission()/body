{
  UIRepositoryObjectAcl acl=(UIRepositoryObjectAcl)userRoleList.getSelectedItem();
  if (acl != null) {
    EnumSet<ObjectPermission> permissions=acl.getPermissionSet();
    if (permissions == null) {
      permissions=EnumSet.noneOf(ObjectPermission.class);
    }
    if (areAllPermissionBoxChecked()) {
      permissions.add(ObjectPermission.ALL);
    }
 else {
      permissions.remove(ObjectPermission.ALL);
    }
    if (!areAllPermissionBoxChecked()) {
      if (deleteCheckbox.isChecked()) {
        permissions.add(ObjectPermission.DELETE);
      }
 else {
        permissions.remove(ObjectPermission.DELETE);
      }
      if (readCheckbox.isChecked()) {
        permissions.add(ObjectPermission.READ);
      }
 else {
        permissions.remove(ObjectPermission.READ);
      }
      if (createCheckbox.isChecked()) {
        permissions.add(ObjectPermission.WRITE);
      }
 else {
        permissions.remove(ObjectPermission.WRITE);
      }
      if (updateCheckbox.isChecked()) {
        permissions.add(ObjectPermission.EXECUTE);
      }
 else {
        permissions.remove(ObjectPermission.EXECUTE);
      }
      if (modifyCheckbox.isChecked()) {
        permissions.add(ObjectPermission.WRITE_ACL);
      }
 else {
        permissions.remove(ObjectPermission.WRITE_ACL);
      }
    }
    acl.setPermissionSet(permissions);
    viewAclsModel.updateAcl(acl);
  }
}
