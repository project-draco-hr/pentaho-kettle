{
  if (aclModel.getSelectedAcls().isModelDirty()) {
    XulConfirmBox confirmBox=null;
    try {
      confirmBox=(XulConfirmBox)document.createElement("confirmbox");
    }
 catch (    XulException e) {
      e.printStackTrace();
    }
    confirmBox.setTitle("Context Change Warning");
    confirmBox.setMessage("You are about to change the context. All changes will be lost. Do you want to continue?");
    confirmBox.setAcceptLabel("Yes");
    confirmBox.setCancelLabel("No");
    confirmBox.addDialogCallback(new XulDialogCallback(){
      public void onClose(      XulComponent sender,      Status returnCode,      Object retVal){
        if (returnCode == Status.ACCEPT) {
          returnType=TYPE.OK;
          aclModel.getSelectedAcls().clear();
          aclModel.getSelectedAcls().setModelDirty(false);
        }
 else {
          returnType=TYPE.CANCEL;
        }
      }
      public void onError(      XulComponent sender,      Throwable t){
        returnType=TYPE.NO_OP;
      }
    }
);
    confirmBox.open();
  }
 else {
    returnType=TYPE.NO_OP;
  }
  return returnType;
}
