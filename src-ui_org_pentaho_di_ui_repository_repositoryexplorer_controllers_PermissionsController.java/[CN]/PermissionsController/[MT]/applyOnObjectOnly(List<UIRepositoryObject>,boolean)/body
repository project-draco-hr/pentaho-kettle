{
  String recipients=findRecipientsWithEmptyPermissions();
  if (recipients != null && recipients.length() > 0) {
    closeApplyAclConfirmationDialog();
    messageBox.setTitle(messages.getString("Dialog.Error"));
    messageBox.setAcceptLabel(messages.getString("Dialog.Ok"));
    messageBox.setMessage(BaseMessages.getString(RepositoryExplorer.class,"PermissionsController.NullRecipients",recipients));
    messageBox.open();
  }
 else {
    try {
      if (roList.get(0) instanceof UIRepositoryDirectory) {
        UIRepositoryDirectory rd=(UIRepositoryDirectory)roList.get(0);
        rd.setAcls(viewAclsModel);
      }
 else {
        UIRepositoryContent rc=(UIRepositoryContent)roList.get(0);
        rc.setAcls(viewAclsModel);
      }
      if (hideDialog) {
        applyAclConfirmationDialog.hide();
      }
      viewAclsModel.setModelDirty(false);
      messageBox.setTitle(messages.getString("Dialog.Success"));
      messageBox.setAcceptLabel(messages.getString("Dialog.Ok"));
      messageBox.setMessage(messages.getString("PermissionsController.PermissionAppliedSuccessfully"));
      messageBox.open();
    }
 catch (    AccessDeniedException ade) {
      if (hideDialog) {
        applyAclConfirmationDialog.hide();
      }
      messageBox.setTitle(messages.getString("Dialog.Error"));
      messageBox.setAcceptLabel(messages.getString("Dialog.Ok"));
      messageBox.setMessage(messages.getString(ade.getLocalizedMessage()));
      messageBox.open();
    }
  }
}
