{
  if (cookedTransformClass == null && cookErrors.size() == 0) {
    cookClasses();
    if (cookErrors.size() > 0) {
      throw new KettleStepException("Error initializing UserDefinedJavaClass to get fields: ",cookErrors.get(0));
    }
  }
  try {
    Method getFieldsMethod=cookedTransformClass.getMethod("getFields",RowMetaInterface.class,String.class,RowMetaInterface[].class,StepMeta.class,VariableSpace.class,List.class);
    if (getFieldsMethod != null) {
      getFieldsMethod.invoke(null,row,originStepname,info,nextStep,space,fields);
    }
 else {
      super.getFields(row,originStepname,info,nextStep,space);
    }
  }
 catch (  Exception e) {
    throw new KettleStepException("Error executing UserDefinedJavaClass.getFields(): ",e);
  }
}
