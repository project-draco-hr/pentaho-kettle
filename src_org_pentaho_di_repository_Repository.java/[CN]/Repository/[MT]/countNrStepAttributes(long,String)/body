{
  if (stepAttributesBuffer != null) {
    int nr=searchNrStepAttributes(id_step,code);
    return nr;
  }
 else {
    String sql="SELECT COUNT(*) FROM R_STEP_ATTRIBUTE WHERE ID_STEP = ? AND CODE = ?";
    RowMetaAndData table=new RowMetaAndData();
    table.addValue(new ValueMeta("ID_STEP",ValueMetaInterface.TYPE_INTEGER),new Long(id_step));
    table.addValue(new ValueMeta("CODE",ValueMetaInterface.TYPE_STRING),code);
    RowMetaAndData r=database.getOneRow(sql,table.getRowMeta(),table.getData());
    if (r == null)     return 0;
    return (int)r.getInteger(0,0L);
  }
}
