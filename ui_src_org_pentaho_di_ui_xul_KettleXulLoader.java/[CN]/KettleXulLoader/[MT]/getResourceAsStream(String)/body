{
  int height=iconHeight;
  int width=iconWidth;
  if (resource.contains(":")) {
    width=Integer.parseInt(resource.substring(resource.indexOf(":") + 1,resource.indexOf("#")));
    height=Integer.parseInt(resource.substring(resource.indexOf("#") + 1,resource.indexOf(".")));
    resource=resource.substring(0,resource.indexOf(":")) + resource.substring(resource.indexOf("."));
  }
  if (SvgSupport.isSvgName(resource) || SvgSupport.isPngName(resource)) {
    try {
      Display d=Display.getCurrent() != null ? Display.getCurrent() : Display.getDefault();
      Image result=SwtSvgImageUtil.getImage(d,getClass().getClassLoader(),resource,width,height);
      ImageLoader loader=new ImageLoader();
      loader.data=new ImageData[]{result.getImageData()};
      ByteArrayOutputStream out=new ByteArrayOutputStream();
      loader.save(out,SWT.IMAGE_PNG);
      result.dispose();
      return new ByteArrayInputStream(out.toByteArray());
    }
 catch (    Throwable ignored) {
    }
    resource=SvgSupport.toPngName(resource);
  }
  return super.getResourceAsStream(resource);
}
