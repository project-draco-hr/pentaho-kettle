{
  int a=val & mask;
  while (mask % 2 == 0) {
    a=a >> 1;
    mask=mask >> 1;
  }
  return a;
}
