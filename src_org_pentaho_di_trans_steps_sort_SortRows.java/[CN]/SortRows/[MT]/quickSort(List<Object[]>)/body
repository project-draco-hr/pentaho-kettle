{
  if (log.isDetailed())   logDetailed("Starting quickSort algorithm...");
  if (elements.size() > 0) {
    Collections.sort(elements,new Comparator<Object[]>(){
      public int compare(      Object[] o1,      Object[] o2){
        Object[] r1=(Object[])o1;
        Object[] r2=(Object[])o2;
        try {
          return data.outputRowMeta.compare(r1,r2,data.fieldnrs);
        }
 catch (        KettleValueException e) {
          logError("Error comparing rows: " + e.toString());
          return 0;
        }
      }
    }
);
    long nrConversions=0L;
    for (    ValueMetaInterface valueMeta : data.outputRowMeta.getValueMetaList()) {
      nrConversions+=valueMeta.getNumberOfBinaryStringConversions();
      valueMeta.setNumberOfBinaryStringConversions(0L);
    }
    logDetailed("The number of binary string to data type conversions done in this sort block is " + nrConversions);
  }
  if (log.isDetailed())   logDetailed("QuickSort algorithm has finished.");
}
