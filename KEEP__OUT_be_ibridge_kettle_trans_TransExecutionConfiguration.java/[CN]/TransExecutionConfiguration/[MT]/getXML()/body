{
  StringBuffer xml=new StringBuffer(160);
  xml.append("  <" + XML_TAG + ">").append(Const.CR);
  xml.append("    ").append(XMLHandler.addTagValue("exec_local",executingLocally));
  xml.append("    ").append(XMLHandler.addTagValue("local_preview",localPreviewing));
  xml.append("    ").append(XMLHandler.addTagValue("exec_remote",executingRemotely));
  if (remoteServer != null) {
    xml.append("    ").append(remoteServer.getXML()).append(Const.CR);
  }
  xml.append("    ").append(XMLHandler.addTagValue("exec_cluster",executingClustered));
  xml.append("    ").append(XMLHandler.addTagValue("cluster_post",clusterPosting));
  xml.append("    ").append(XMLHandler.addTagValue("cluster_prepare",clusterPreparing));
  xml.append("    ").append(XMLHandler.addTagValue("cluster_start",clusterStarting));
  xml.append("    ").append(XMLHandler.addTagValue("cluster_show_trans",clusterShowingTransformation));
  xml.append("    <arguments>").append(arguments.getXML()).append("</arguments>").append(Const.CR);
  xml.append("    <variables>").append(variables.getXML()).append("</variables>").append(Const.CR);
  xml.append("    <preview>").append(Const.CR);
  if (previewSteps != null && previewSizes != null) {
    for (int i=0; i < previewSteps.length; i++) {
      xml.append("      <step> ");
      xml.append(XMLHandler.addTagValue("name",previewSteps[i],false));
      xml.append(XMLHandler.addTagValue("size",previewSizes[i],false));
      xml.append(" </step>").append(Const.CR);
    }
  }
  xml.append("    </preview>").append(Const.CR);
  xml.append("    ").append(XMLHandler.addTagValue("replay_date",replayDate));
  xml.append("    ").append(XMLHandler.addTagValue("safe_mode",safeModeEnabled));
  xml.append("    ").append(XMLHandler.addTagValue("log_level",LogWriter.getLogLevelDesc(logLevel)));
  xml.append("</" + XML_TAG + ">").append(Const.CR);
  return xml.toString();
}
