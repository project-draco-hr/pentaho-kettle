{
  StringBuffer rowAttributes=new StringBuffer();
  for (int i=0; i < meta.getOutputFields().length; i++) {
    XMLField xmlField=meta.getOutputFields()[i];
    if (xmlField.getContentType() == ContentType.Attribute) {
      ValueMetaInterface valueMeta=data.formatRowMeta.getValueMeta(data.fieldnrs[i]);
      Object valueData=r[data.fieldnrs[i]];
      String elementName=xmlField.getElementName();
      if (Const.isEmpty(elementName)) {
        elementName=xmlField.getFieldName();
      }
      rowAttributes.append(' ').append(elementName).append("=\"");
      XMLHandler.appendReplacedChars(rowAttributes,valueMeta.getString(valueData));
      rowAttributes.append("\"");
    }
  }
  return rowAttributes.toString();
}
