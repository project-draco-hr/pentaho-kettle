{
  if (wFileRadio.getSelection() && !Const.isEmpty(wFilename.getText())) {
    loadFileTrans(wFilename.getText());
  }
 else {
    if (wRepRadio.getSelection() && repository != null && !Const.isEmpty(wTransName.getText()) && !Const.isEmpty(wTransDir.getText())) {
      RepositoryDirectoryInterface repdir=repository.loadRepositoryDirectoryTree().findDirectory(transMeta.environmentSubstitute(wTransDir.getText()));
      if (repdir == null) {
        throw new KettleException(BaseMessages.getString(PKG,"MappingDialog.Exception.UnableToFindRepositoryDirectory)"));
      }
      loadRepositoryTrans(wTransName.getText(),repdir);
    }
 else {
      throw new KettleException(BaseMessages.getString(PKG,"MappingDialog.Exception.NoValidMappingDetailsFound"));
    }
  }
}
