{
  if (rep != null) {
    RepositoryExplorerCallback cb=new RepositoryExplorerCallback(){
      public boolean open(      RepositoryElementLocationInterface element,      String revision){
        String objname=element.getName();
        if (objname != null) {
          RepositoryObjectType objectType=element.getRepositoryElementType();
          RepositoryDirectory repdir=element.getRepositoryDirectory();
          loadObjectFromRepository(objname,objectType,repdir,revision);
        }
        return false;
      }
    }
;
    try {
      Directory root=rep.loadRepositoryDirectoryTree();
      if (getRegistery().getRegisteredSecurityProvider() != null) {
        setSecurityProvider(getRegistery().createSecurityProvider(rep,rep.getRepositoryMeta(),rep.getUserInfo()));
      }
      RepositoryExplorer explorer=new RepositoryExplorer(root,rep,cb,Variables.getADefaultVariableSpace());
      explorer.show();
    }
 catch (    KettleSecurityException e) {
      e.printStackTrace();
    }
catch (    KettleException e) {
      e.printStackTrace();
    }
  }
}
