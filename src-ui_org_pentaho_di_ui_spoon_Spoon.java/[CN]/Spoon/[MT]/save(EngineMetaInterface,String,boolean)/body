{
  boolean saved=false;
  Pattern pattern=Pattern.compile("\\p{ASCII}+");
  Matcher matcher=pattern.matcher(fname);
  if (matcher.matches()) {
    FileListener listener=null;
    int idx=fname.lastIndexOf('.');
    if (idx != -1) {
      String extension=fname.substring(idx + 1);
      listener=fileExtensionMap.get(extension);
    }
    if (listener == null) {
      String xt=meta.getDefaultExtension();
      listener=fileExtensionMap.get(xt);
    }
    if (listener != null) {
      String sync=BasePropertyHandler.getProperty(SYNC_TRANS);
      if (Boolean.parseBoolean(sync)) {
        listener.syncMetaName(meta,Const.createName(fname));
        delegates.tabs.renameTabs();
      }
      saved=listener.save(meta,fname,export);
    }
  }
 else {
    MessageBox box=new MessageBox(staticSpoon.shell,SWT.ICON_ERROR | SWT.OK);
    box.setMessage("Special characters are not allowed in the filename. Please use ASCII characters only");
    box.setText(BaseMessages.getString(PKG,"Spoon.Dialog.ErrorSavingConnection.Title"));
    box.open();
  }
  return saved;
}
