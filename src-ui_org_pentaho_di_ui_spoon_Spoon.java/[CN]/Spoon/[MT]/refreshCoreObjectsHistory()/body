{
  if (!historySelected)   return;
  boolean showTrans=getActiveTransformation() != null;
  if (!showTrans) {
    if (scrolledHistoryComposite != null && !scrolledHistoryComposite.isDisposed()) {
      scrolledHistoryComposite.dispose();
    }
    return;
  }
  if (stepHistoryChanged) {
    if (scrolledHistoryComposite != null && !scrolledHistoryComposite.isDisposed()) {
      scrolledHistoryComposite.dispose();
    }
    scrolledHistoryComposite=new ScrolledComposite(variableComposite,SWT.V_SCROLL | SWT.H_SCROLL | SWT.BORDER);
    scrolledHistoryComposite.setLayout(new FillLayout());
    Composite historyComposite=new Composite(scrolledHistoryComposite,SWT.NONE);
    props.setLook(historyComposite);
    historyComposite.setLayout(new FormLayout());
    List<ObjectUsageCount> pluginHistory=props.getPluginHistory();
    String locale=LanguageChoice.getInstance().getDefaultLocale().toString().toLowerCase();
    Control lastControl=null;
    for (int i=0; i < pluginHistory.size() && i < 10; i++) {
      ObjectUsageCount usage=(ObjectUsageCount)pluginHistory.get(i);
      StepPlugin stepPlugin=StepLoader.getInstance().findStepPluginWithID(usage.getObjectName());
      if (stepPlugin != null) {
        final Image stepimg=(Image)GUIResource.getInstance().getImagesSteps().get(stepPlugin.getID()[0]);
        String pluginName=stepPlugin.getDescription(locale) + " (" + usage.getNrUses()+ ")";
        String pluginDescription=stepPlugin.getTooltip(locale);
        boolean isPlugin=stepPlugin.isPlugin();
        Composite composite=new Composite(historyComposite,SWT.NONE);
        props.setLook(composite);
        composite.setLayout(new FormLayout());
        addExpandBarItemLine(composite,stepimg,pluginName,pluginDescription,isPlugin,stepPlugin);
        FormData fdComposite=new FormData();
        fdComposite.left=new FormAttachment(0,0);
        fdComposite.right=new FormAttachment(100,0);
        if (lastControl == null)         fdComposite.top=new FormAttachment(0,0);
 else         fdComposite.top=new FormAttachment(lastControl,1);
        composite.setLayoutData(fdComposite);
        lastControl=composite;
      }
    }
    historyComposite.layout(true,true);
    org.eclipse.swt.graphics.Rectangle bounds=historyComposite.getBounds();
    scrolledHistoryComposite.setMinSize(bounds.width,bounds.height);
    scrolledHistoryComposite.setContent(historyComposite);
    scrolledHistoryComposite.setExpandHorizontal(true);
    scrolledHistoryComposite.setExpandVertical(true);
  }
  stepHistoryChanged=false;
  variableComposite.layout(true,true);
}
