{
  if (rep != null) {
    UserInfo userinfo=rep.getUserInfo();
    UserDialog ud=new UserDialog(shell,SWT.NONE,rep.getSecurityProvider(),userinfo);
    UserInfo ui=ud.open();
    if (rep.getSecurityProvider().isReadOnly()) {
      if (ui != null) {
        try {
          rep.getSecurityProvider().saveUserInfo(ui);
        }
 catch (        KettleException e) {
          MessageBox mb=new MessageBox(shell,SWT.ICON_WARNING | SWT.OK);
          mb.setMessage(BaseMessages.getString(PKG,"Spoon.Dialog.UnableChangeUser.Message") + Const.CR + e.getMessage());
          mb.setText(BaseMessages.getString(PKG,"Spoon.Dialog.UnableChangeUser.Title"));
          mb.open();
        }
      }
    }
 else {
      MessageBox mb=new MessageBox(shell,SWT.ICON_WARNING | SWT.OK);
      mb.setMessage(BaseMessages.getString(PKG,"Spoon.Dialog.NotAllowedChangeUser.Message"));
      mb.setText(BaseMessages.getString(PKG,"Spoon.Dialog.NotAllowedChangeUser.Title"));
      mb.open();
    }
  }
}
