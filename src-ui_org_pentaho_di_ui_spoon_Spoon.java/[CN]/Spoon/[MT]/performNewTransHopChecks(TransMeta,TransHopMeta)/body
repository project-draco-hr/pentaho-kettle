{
  boolean ok=true;
  if (transMeta.hasLoop(newHop.getFromStep()) || transMeta.hasLoop(newHop.getToStep())) {
    MessageBox mb=new MessageBox(shell,SWT.YES | SWT.ICON_WARNING);
    mb.setMessage(Messages.getString("TransGraph.Dialog.HopCausesLoop.Message"));
    mb.setText(Messages.getString("TransGraph.Dialog.HopCausesLoop.Title"));
    mb.open();
    ok=false;
  }
  try {
    if (!newHop.getToStep().getStepMetaInterface().excludeFromRowLayoutVerification()) {
      transMeta.checkRowMixingStatically(newHop.getToStep(),null);
    }
  }
 catch (  KettleRowException re) {
    new ErrorDialog(shell,Messages.getString("TransGraph.Dialog.HopCausesRowMixing.Title"),Messages.getString("TransGraph.Dialog.HopCausesRowMixing.Message"),re);
  }
  verifyCopyDistribute(transMeta,newHop.getFromStep());
  return ok;
}
