{
  this.rep=rep;
  try {
    if (rep != null) {
      this.capabilities=rep.getRepositoryMeta().getRepositoryCapabilities();
      if (SecurityManagerRegistery.getInstance().getRegisteredSecurityManager() != null) {
        securityManager=SecurityManagerRegistery.getInstance().createSecurityManager(rep,rep.getRepositoryMeta(),rep.getUserInfo());
      }
    }
  }
 catch (  Exception e) {
    getLog().logDebug(e.getMessage());
  }
  SpoonPluginManager.getInstance().notifyLifecycleListeners(SpoonLifeCycleEvent.REPOSITORY_CHANGED);
}
