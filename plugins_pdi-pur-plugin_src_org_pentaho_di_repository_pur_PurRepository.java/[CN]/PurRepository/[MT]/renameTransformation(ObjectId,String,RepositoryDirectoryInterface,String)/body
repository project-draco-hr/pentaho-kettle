{
  if (newName != null) {
    RepositoryFile file=pur.getFileById(idTransformation.getId());
    file=new RepositoryFile.Builder(file).title(RepositoryFile.DEFAULT_LOCALE,newName).build();
    NodeRepositoryFileData data=pur.getDataAtVersionForRead(file.getId(),null,NodeRepositoryFileData.class);
    file=pur.updateFile(file,data,versionComment);
  }
  pur.moveFile(idTransformation.getId(),calcDestAbsPath(idTransformation,newDirectory,newName,RepositoryObjectType.TRANSFORMATION),null);
  rootRef.clearRef();
  return idTransformation;
}
