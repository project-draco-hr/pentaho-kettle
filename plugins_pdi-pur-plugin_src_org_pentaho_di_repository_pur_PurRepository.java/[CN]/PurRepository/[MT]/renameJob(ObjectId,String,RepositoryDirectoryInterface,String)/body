{
  if (newName != null) {
    RepositoryFile file=pur.getFileById(idJob.getId());
    file=new RepositoryFile.Builder(file).title(RepositoryFile.DEFAULT_LOCALE,newName).build();
    NodeRepositoryFileData data=pur.getDataAtVersionForRead(file.getId(),null,NodeRepositoryFileData.class);
    file=pur.updateFile(file,data,versionComment);
  }
  pur.moveFile(idJob.getId(),calcDestAbsPath(idJob,newDirectory,newName,RepositoryObjectType.JOB),null);
  rootRef.clearRef();
  return idJob;
}
