{
  ObjectNode jo=data.mapper.createObjectNode();
  for (int i=0; i < data.nrFields; i++) {
    JsonOutputField outputField=meta.getOutputFields()[i];
    ValueMetaInterface v=data.inputRowMeta.getValueMeta(data.fieldIndexes[i]);
    addJsonField(jo,outputField,v,row,i);
  }
  data.jsonArray.add(jo);
  data.nrRow++;
  if (data.nrRowsInBloc > 0) {
    if (data.nrRow % data.nrRowsInBloc == 0) {
      outPutRow(row);
    }
  }
}
