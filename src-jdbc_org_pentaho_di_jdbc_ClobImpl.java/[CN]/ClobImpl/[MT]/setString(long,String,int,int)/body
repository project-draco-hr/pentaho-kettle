{
  if (offset < 0 || offset > str.length()) {
    throw new SQLException(Messages.get("error.blobclob.badoffset"),"HY090");
  }
  if (len < 0 || offset + len > str.length()) {
    throw new SQLException(Messages.get("error.blobclob.badlen"),"HY090");
  }
  try {
    byte[] data=str.substring(offset,offset + len).getBytes("UTF-16LE");
    return blobBuffer.setBytes((pos - 1) * 2 + 1,data,0,data.length,false);
  }
 catch (  UnsupportedEncodingException e) {
    throw new IllegalStateException("UTF-16LE encoding is not supported.");
  }
}
