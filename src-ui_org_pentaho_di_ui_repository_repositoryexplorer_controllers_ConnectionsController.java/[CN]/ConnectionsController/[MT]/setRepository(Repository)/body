{
  if (this.repository == null || !this.repository.equals(repository)) {
    this.repository=repository;
    setRepReadOnly(this.repository.getRepositoryMeta().getRepositoryCapabilities().isReadOnly());
    setRevSupported(this.repository.getRepositoryMeta().getRepositoryCapabilities().supportsRevisions());
  }
}
