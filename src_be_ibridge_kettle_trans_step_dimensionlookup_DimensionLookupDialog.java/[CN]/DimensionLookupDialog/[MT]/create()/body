{
  try {
    DimensionLookupMeta info=new DimensionLookupMeta();
    getInfo(info);
    String name=stepname;
    StepMeta stepinfo=new StepMeta(log,Messages.getString("DimensionLookupDialog.Stepinfo.Title"),name,info);
    Row prev=transMeta.getPrevStepFields(stepname);
    SQLStatement sql=info.getSQLStatements(transMeta,stepinfo,prev);
    if (!sql.hasError()) {
      if (sql.hasSQL()) {
        SQLEditor sqledit=new SQLEditor(shell,SWT.NONE,info.getDatabaseMeta(),transMeta.getDbCache(),sql.getSQL());
        sqledit.open();
      }
 else {
        MessageBox mb=new MessageBox(shell,SWT.OK | SWT.ICON_INFORMATION);
        mb.setMessage(Messages.getString("DimensionLookupDialog.NoSQLNeeds.DialogMessage"));
        mb.setText(Messages.getString("DimensionLookupDialog.NoSQLNeeds.DialogTitle"));
        mb.open();
      }
    }
 else {
      MessageBox mb=new MessageBox(shell,SWT.OK | SWT.ICON_ERROR);
      mb.setMessage(sql.getError());
      mb.setText(Messages.getString("DimensionLookupDialog.SQLError.DialogTitle"));
      mb.open();
    }
  }
 catch (  KettleException ke) {
    new ErrorDialog(shell,Messages.getString("DimensionLookupDialog.UnableToBuildSQLError.DialogMessage"),Messages.getString("DimensionLookupDialog.UnableToBuildSQLError.DialogTitle"),ke);
  }
}
