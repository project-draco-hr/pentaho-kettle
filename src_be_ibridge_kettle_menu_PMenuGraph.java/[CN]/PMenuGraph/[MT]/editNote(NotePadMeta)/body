{
  NotePadMeta before=(NotePadMeta)ni.clone();
  String title="Notes";
  String message="Note text:";
  EnterTextDialog dd=new EnterTextDialog(shell,title,message,ni.getNote());
  String n=dd.open();
  if (n != null) {
    ni.setChanged();
    ni.setNote(n);
    ni.width=Const.NOTE_MIN_SIZE;
    ni.height=Const.NOTE_MIN_SIZE;
    NotePadMeta after=(NotePadMeta)ni.clone();
    spoon.addUndoChange(new NotePadMeta[]{before},new NotePadMeta[]{after},new int[]{schema.indexOfNote(ni)});
    spoon.refreshGraph();
  }
}
