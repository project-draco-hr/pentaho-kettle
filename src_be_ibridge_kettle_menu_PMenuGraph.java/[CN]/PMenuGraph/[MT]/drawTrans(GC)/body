{
  int i, j, h;
  gc.setFont(GUIResource.getInstance().getFontGraph());
  gc.setBackground(GUIResource.getInstance().getColorBackground());
  h=schema.nrRelationships();
  Point area=getArea();
  Point max=schema.getMaximum();
  Point thumb=getThumb(area,max);
  offset=getOffset(thumb,area);
  hori.setThumb(thumb.x);
  vert.setThumb(thumb.y);
  for (i=0; i < schema.nrNotes(); i++) {
    NotePadMeta ni=schema.getNote(i);
    drawNote(gc,ni);
  }
  for (j=0; j < h; j++) {
    RelationshipMeta hi=schema.getRelationship(j);
    drawRelationship(gc,hi);
  }
  if (candidate != null) {
    drawRelationship(gc,candidate,true);
  }
  ArrayList st=schema.getRelationshipTables();
  for (j=0; j < st.size(); j++) {
    TableMeta si=(TableMeta)st.get(j);
    drawTable(gc,si);
  }
  if (drop_candidate != null) {
    gc.setLineStyle(SWT.LINE_SOLID);
    gc.setForeground(GUIResource.getInstance().getColorBlack());
    Point screen=real2screen(drop_candidate.x,drop_candidate.y);
    gc.drawRectangle(screen.x,screen.y,iconsize,iconsize);
  }
  drawRect(gc,selrect);
}
