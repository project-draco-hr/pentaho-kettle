{
  Map<String,BufferedImage> map=new HashMap<String,BufferedImage>();
  for (  PluginInterface plugin : PluginRegistry.getInstance().getPlugins(StepPluginType.class)) {
    try {
      BufferedImage image=getImageIcon(plugin);
      for (      String id : plugin.getIds()) {
        map.put(id,image);
      }
    }
 catch (    Exception e) {
      log.logError("Unable to load step icon image for plugin: " + plugin.getName() + " (id="+ plugin.getIds()[0],e);
      try {
        getImageIcon(plugin);
      }
 catch (      Exception ex) {
      }
    }
  }
  return map;
}
