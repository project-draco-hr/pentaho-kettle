{
  String jarfiles[]=sp.getJarfiles();
  List<URL> classpath=new ArrayList<URL>();
  ResourcePatternResolver resolver=new PathMatchingResourcePatternResolver(new FileSystemResourceLoader());
  for (int i=0; i < jarfiles.length; i++) {
    try {
      Resource[] paths=resolver.getResources(jarfiles[i]);
      for (      Resource path : paths) {
        classpath.add(path.getURL());
      }
    }
 catch (    IOException e) {
      e.printStackTrace();
      continue;
    }
  }
  URL urls[]=classpath.toArray(new URL[]{});
  ClassLoader classLoader=getClass().getClassLoader();
  URLClassLoader ucl=(URLClassLoader)classLoaders.get(sp.getID());
  if (ucl == null) {
synchronized (classLoaders) {
      ucl=new PDIClassLoader(urls,classLoader);
      classLoaders.put(sp.getID(),ucl);
    }
  }
  return ucl;
}
