{
  final String in=substituteRecordTerminator(terminator);
  final StringBuilder out=new StringBuilder();
  byte[] bytes=null;
  try {
    if (Const.isEmpty(encoding)) {
      bytes=in.toString().getBytes();
    }
 else {
      bytes=in.toString().getBytes(encoding);
    }
    for (int i=0; i < bytes.length; i++) {
      final String hex=Integer.toHexString(bytes[i]);
      if (hex.length() == 1) {
        out.append('0');
      }
      out.append(hex);
    }
  }
 catch (  UnsupportedEncodingException e) {
    throw new KettleException("Unsupported character encoding: " + encoding,e);
  }
  return out.toString();
}
