{
  try {
    data.outputStream.close();
    if (!stopped) {
      logBasic("Reading finished message from server.");
      String response=data.inputStream.readUTF();
      if (!response.equals(SocketReader.STRING_FINISHED)) {
        throw new IOException("Response [" + response + "] from client was not expected!");
      }
      logBasic("Finished message was read from server.");
    }
  }
 catch (  IOException e) {
    logError("Unable to close streams : " + e.toString());
    logError(Const.getStackTracker(e));
  }
 finally {
    logBasic("Closing input stream.");
    try {
      data.inputStream.close();
    }
 catch (    IOException e) {
    }
    logBasic("Closing client socket.");
    try {
      data.clientSocket.close();
    }
 catch (    IOException e) {
    }
    logBasic("Closing server socket.");
    try {
      data.serverSocket.close();
    }
 catch (    IOException e) {
    }
  }
}
