{
  try {
    RowMetaInterface rowMetaInterface=transMeta.getPrevStepFields(stepname);
    if (rowMetaInterface != null) {
      ArrayList<FieldToColumn> fieldToColumnList=new ArrayList<FieldToColumn>();
      FieldToColumn fieldToColumn=null;
      String[] fieldNames=rowMetaInterface.getFieldNames();
      for (      String fieldName : fieldNames) {
        fieldToColumn=new FieldToColumn(fieldName);
        fieldToColumnList.add(fieldToColumn);
      }
      model.setFieldsToColumns(fieldToColumnList);
    }
  }
 catch (  KettleException ke) {
    new ErrorDialog(dialogShell,BaseMessages.getString(CLZ,"System.Dialog.GetFieldsFailed.Title"),BaseMessages.getString(CLZ,"System.Dialog.GetFieldsFailed.Message"),ke);
  }
}
