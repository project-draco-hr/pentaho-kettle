{
  meta=(SalesforceUpsertMeta)smi;
  data=(SalesforceUpsertData)sdi;
  if (super.init(smi,sdi)) {
    try {
      data.realModule=environmentSubstitute(meta.getModule());
      if (Const.isEmpty(data.realModule)) {
        log.logError(BaseMessages.getString(PKG,"SalesforceUpsertDialog.ModuleMissing.DialogMessage"));
        return false;
      }
      String realUser=environmentSubstitute(meta.getUserName());
      if (Const.isEmpty(realUser)) {
        log.logError(BaseMessages.getString(PKG,"SalesforceUpsertDialog.UsernameMissing.DialogMessage"));
        return false;
      }
      String salesfoceIdFieldname=environmentSubstitute(meta.getSalesforceIDFieldName());
      if (!Const.isEmpty(salesfoceIdFieldname)) {
        data.realSalesforceFieldName=salesfoceIdFieldname;
      }
      data.realURL=environmentSubstitute(meta.getTargetURL());
      data.connection=new SalesforceConnection(log,data.realURL,realUser,environmentSubstitute(meta.getPassword()));
      data.connection.setTimeOut(Const.toInt(environmentSubstitute(meta.getTimeOut()),0));
      data.connection.setUsingCompression(meta.isUsingCompression());
      data.connection.rollbackAllChangesOnError(meta.isRollbackAllChangesOnError());
      data.connection.connect();
      return true;
    }
 catch (    KettleException ke) {
      logError(BaseMessages.getString(PKG,"SalesforceUpsert.Log.ErrorOccurredDuringStepInitialize") + ke.getMessage());
    }
    return true;
  }
  return false;
}
