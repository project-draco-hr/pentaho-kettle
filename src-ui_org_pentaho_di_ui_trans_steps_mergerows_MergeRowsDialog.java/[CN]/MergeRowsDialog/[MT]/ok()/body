{
  if (Const.isEmpty(wStepname.getText()))   return;
  input.setReferenceStepMeta(transMeta.findStep(wReference.getText()));
  input.setCompareStepMeta(transMeta.findStep(wCompare.getText()));
  input.setFlagField(wFlagfield.getText());
  int nrKeys=wKeys.nrNonEmpty();
  int nrValues=wValues.nrNonEmpty();
  input.allocate(nrKeys,nrValues);
  for (int i=0; i < nrKeys; i++) {
    TableItem item=wKeys.getNonEmpty(i);
    input.getKeyFields()[i]=item.getText(1);
  }
  for (int i=0; i < nrValues; i++) {
    TableItem item=wValues.getNonEmpty(i);
    input.getValueFields()[i]=item.getText(1);
  }
  stepname=wStepname.getText();
  dispose();
}
