{
  try {
    GetXMLDataMeta meta=new GetXMLDataMeta();
    getInfo(meta);
    FileInputList fileinputList=meta.getFiles(transMeta);
    if (fileinputList.nrOfFiles() > 0) {
      if (fileinputList.getFile(0).exists()) {
        LoopNodesImportProgressDialog pd=new LoopNodesImportProgressDialog(shell,meta,KettleVFS.getFilename(fileinputList.getFile(0)),meta.getEncoding() == null ? "UTF-8" : meta.getEncoding());
        String[] list_xpath=pd.open();
        if (list_xpath != null) {
          EnterSelectionDialog dialog=new EnterSelectionDialog(shell,list_xpath,BaseMessages.getString(PKG,"GetXMLDataDialog.Dialog.SelectALoopPath.Title"),BaseMessages.getString(PKG,"GetXMLDataDialog.Dialog.SelectALoopPath.Message"));
          String listxpaths=dialog.open();
          if (listxpaths != null)           wLoopXPath.setText(listxpaths);
        }
      }
 else {
        throw new KettleException(BaseMessages.getString(PKG,"GetXMLDataDialog.Exception.FileDoesNotExist",KettleVFS.getFilename(fileinputList.getFile(0))));
      }
    }
 else {
      MessageBox mb=new MessageBox(shell,SWT.OK | SWT.ICON_ERROR);
      mb.setMessage(BaseMessages.getString(PKG,"GetXMLDataDialog.FilesMissing.DialogMessage"));
      mb.setText(BaseMessages.getString(PKG,"System.Dialog.Error.Title"));
      mb.open();
    }
  }
 catch (  Exception e) {
    new ErrorDialog(shell,BaseMessages.getString(PKG,"GetXMLDataDialog.UnableToGetListOfPaths.Title"),BaseMessages.getString(PKG,"GetXMLDataDialog.UnableToGetListOfPaths.Message"),e);
  }
}
