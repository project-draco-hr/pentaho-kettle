{
  TreeItem ti=(TreeItem)e.item;
  log.logDebug(toString(),Messages.getString("Chef.Log.ClickedOn") + ti.getText());
  Menu mCSH=new Menu(shell,SWT.POP_UP);
  TreeItem parent=ti.getParentItem();
  if (parent == null) {
    MenuItem miNew=new MenuItem(mCSH,SWT.PUSH);
    miNew.setText(Messages.getString("Chef.TreeMenu.New"));
    miNew.addListener(SWT.Selection,lsNew);
  }
 else {
    String section=parent.getText();
    if (section.equalsIgnoreCase(STRING_CONNECTIONS)) {
      MenuItem miNew=new MenuItem(mCSH,SWT.PUSH);
      miNew.setText(Messages.getString("Chef.TreeMenu.Connection.New"));
      MenuItem miEdit=new MenuItem(mCSH,SWT.PUSH);
      miEdit.setText(Messages.getString("Chef.TreeMenu.Connection.Edit"));
      MenuItem miDupe=new MenuItem(mCSH,SWT.PUSH);
      miDupe.setText(Messages.getString("Chef.TreeMenu.Connection.Duplicate"));
      MenuItem miDel=new MenuItem(mCSH,SWT.PUSH);
      miDel.setText(Messages.getString("Chef.TreeMenu.Connection.Delete"));
      new MenuItem(mCSH,SWT.SEPARATOR);
      MenuItem miSQL=new MenuItem(mCSH,SWT.PUSH);
      miSQL.setText(Messages.getString("Chef.TreeMenu.Connection.SQLEditor"));
      MenuItem miCache=new MenuItem(mCSH,SWT.PUSH);
      miCache.setText(Messages.getString("Chef.TreeMenu.Connection.ClearDBCache") + ti.getText());
      new MenuItem(mCSH,SWT.SEPARATOR);
      MenuItem miExpl=new MenuItem(mCSH,SWT.PUSH);
      miExpl.setText(Messages.getString("Chef.TreeMenu.Connection.Explore"));
      miNew.addListener(SWT.Selection,lsNew);
      miEdit.addListener(SWT.Selection,lsEdit);
      miDupe.addListener(SWT.Selection,lsDupe);
      miDel.addListener(SWT.Selection,lsDel);
      miSQL.addListener(SWT.Selection,lsSQL);
      miCache.addListener(SWT.Selection,lsCache);
      miExpl.addListener(SWT.Selection,lsExpl);
    }
 else     if (!ti.getText().equalsIgnoreCase(STRING_SPECIAL) && !section.equalsIgnoreCase(STRING_SPECIAL)) {
      MenuItem miNew=new MenuItem(mCSH,SWT.PUSH);
      miNew.setText(Messages.getString("Chef.TreeMenu.JobEntry.New"));
      MenuItem miEdit=new MenuItem(mCSH,SWT.PUSH);
      miEdit.setText(Messages.getString("Chef.TreeMenu.JobEntry.Edit"));
      MenuItem miDupe=new MenuItem(mCSH,SWT.PUSH);
      miDupe.setText(Messages.getString("Chef.TreeMenu.JobEntry.Duplicate"));
      MenuItem miDel=new MenuItem(mCSH,SWT.PUSH);
      miDel.setText(Messages.getString("Chef.TreeMenu.JobEntry.Delete"));
      miNew.addListener(SWT.Selection,lsNew);
      miEdit.addListener(SWT.Selection,lsEdit);
      miDupe.addListener(SWT.Selection,lsDupe);
      miDel.addListener(SWT.Selection,lsDel);
    }
  }
  tMain.setMenu(mCSH);
}
