{
  String xml=XMLHandler.getXMLHeader() + jobMeta.getXML();
  try {
    FileWriter fw=new FileWriter(fname);
    fw.write(xml);
    fw.close();
    props.addLastFile(Props.TYPE_PROPERTIES_CHEF,fname,Const.FILE_SEPARATOR,false,"");
    saveSettings();
    addMenuLast();
    log.logDebug(toString(),"File written to [" + fname + "]");
    jobMeta.setFilename(fname);
    jobMeta.clearChanged();
    setShellText();
  }
 catch (  Exception e) {
    log.logDebug(toString(),"Error opening file for writing! --> " + e.toString());
    MessageBox mb=new MessageBox(shell,SWT.OK | SWT.ICON_ERROR);
    mb.setMessage("Error saving file:" + Const.CR + e.toString());
    mb.setText("ERROR");
    mb.open();
  }
}
