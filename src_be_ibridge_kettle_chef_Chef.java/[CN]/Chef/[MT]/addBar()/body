{
  tBar=new ToolBar(shell,SWT.HORIZONTAL | SWT.FLAT);
  final ToolItem tiFileNew=new ToolItem(tBar,SWT.PUSH);
  final Image imFileNew=new Image(disp,getClass().getResourceAsStream(Const.IMAGE_DIRECTORY + "new.png"));
  tiFileNew.setImage(imFileNew);
  tiFileNew.addSelectionListener(new SelectionAdapter(){
    public void widgetSelected(    SelectionEvent e){
      newFile();
    }
  }
);
  tiFileNew.setToolTipText("New file, clear all settings");
  final ToolItem tiFileOpen=new ToolItem(tBar,SWT.PUSH);
  final Image imFileOpen=new Image(disp,getClass().getResourceAsStream(Const.IMAGE_DIRECTORY + "open.png"));
  tiFileOpen.setImage(imFileOpen);
  tiFileOpen.addSelectionListener(new SelectionAdapter(){
    public void widgetSelected(    SelectionEvent e){
      openFile(false);
    }
  }
);
  tiFileOpen.setToolTipText("Open file");
  final ToolItem tiFileSave=new ToolItem(tBar,SWT.PUSH);
  final Image imFileSave=new Image(disp,getClass().getResourceAsStream(Const.IMAGE_DIRECTORY + "save.png"));
  tiFileSave.setImage(imFileSave);
  tiFileSave.addSelectionListener(new SelectionAdapter(){
    public void widgetSelected(    SelectionEvent e){
      saveFile();
    }
  }
);
  tiFileSave.setToolTipText("Save current file");
  final ToolItem tiFileSaveAs=new ToolItem(tBar,SWT.PUSH);
  final Image imFileSaveAs=new Image(disp,getClass().getResourceAsStream(Const.IMAGE_DIRECTORY + "saveas.png"));
  tiFileSaveAs.setImage(imFileSaveAs);
  tiFileSaveAs.addSelectionListener(new SelectionAdapter(){
    public void widgetSelected(    SelectionEvent e){
      saveFileAs();
    }
  }
);
  tiFileSaveAs.setToolTipText("Save file with different name");
  new ToolItem(tBar,SWT.SEPARATOR);
  final ToolItem tiFilePrint=new ToolItem(tBar,SWT.PUSH);
  final Image imFilePrint=new Image(disp,getClass().getResourceAsStream(Const.IMAGE_DIRECTORY + "print.png"));
  tiFilePrint.setImage(imFilePrint);
  tiFilePrint.addSelectionListener(new SelectionAdapter(){
    public void widgetSelected(    SelectionEvent e){
      printFile();
    }
  }
);
  tiFilePrint.setToolTipText("Print");
  new ToolItem(tBar,SWT.SEPARATOR);
  final ToolItem tiFileRun=new ToolItem(tBar,SWT.PUSH);
  final Image imFileRun=new Image(disp,getClass().getResourceAsStream(Const.IMAGE_DIRECTORY + "run.png"));
  tiFileRun.setImage(imFileRun);
  tiFileRun.addSelectionListener(new SelectionAdapter(){
    public void widgetSelected(    SelectionEvent e){
      tabfolder.setSelection(1);
      cheflog.startstop();
    }
  }
);
  tiFileRun.setToolTipText("Run this job");
  tBar.addDisposeListener(new DisposeListener(){
    public void widgetDisposed(    DisposeEvent e){
      imFileNew.dispose();
      imFileOpen.dispose();
      imFileSave.dispose();
      imFileSaveAs.dispose();
    }
  }
);
  tBar.addKeyListener(defKeys);
  tBar.pack();
}
