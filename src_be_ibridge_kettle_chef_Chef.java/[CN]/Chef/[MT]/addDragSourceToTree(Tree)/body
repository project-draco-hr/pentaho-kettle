{
  final Tree fTree=tree;
  Transfer[] ttypes=new Transfer[]{XMLTransfer.getInstance()};
  DragSource ddSource=new DragSource(fTree,DND.DROP_MOVE);
  ddSource.setTransfer(ttypes);
  ddSource.addDragListener(new DragSourceListener(){
    public void dragStart(    DragSourceEvent event){
    }
    public void dragSetData(    DragSourceEvent event){
      TreeItem ti[]=fTree.getSelection();
      if (ti.length > 0) {
        String data=null;
        int type=0;
        String ts[]=Const.getTreeStrings(ti[0]);
        if (ts != null && ts.length > 0) {
          if (ts[0].equalsIgnoreCase(STRING_JOBENTRIES)) {
            type=DragAndDropContainer.TYPE_JOB_ENTRY;
            data=ti[0].getText();
          }
 else           if (ts[0].equalsIgnoreCase(STRING_BASE_JOBENTRIES) || ts[0].equalsIgnoreCase(STRING_PLUGIN_JOBENTRIES)) {
            type=DragAndDropContainer.TYPE_BASE_JOB_ENTRY;
            data=ti[0].getText();
          }
 else           if (ts[0].equalsIgnoreCase(STRING_CONNECTIONS)) {
            type=DragAndDropContainer.TYPE_DATABASE_CONNECTION;
            data=ti[0].getText();
          }
 else {
            event.doit=false;
            return;
          }
          event.data=new DragAndDropContainer(type,data);
          System.out.println("data = " + event.data.getClass());
        }
      }
 else {
        event.doit=false;
        System.out.println("NOTHING DRAGGED! WTF!");
      }
    }
    public void dragFinished(    DragSourceEvent event){
    }
  }
);
}
