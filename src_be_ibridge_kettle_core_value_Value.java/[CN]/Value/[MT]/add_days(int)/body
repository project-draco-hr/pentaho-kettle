{
  if (getType() == VALUE_TYPE_DATE) {
    if (!isNull() && getDate() != null) {
      Calendar cal=Calendar.getInstance();
      cal.setTimeInMillis(getDate().getTime() + ((long)days * 3600L * 24L* 1000L));
      setValue(cal.getTime());
    }
  }
 else {
    throw new KettleValueException("Function add_days only works on a date!");
  }
  return this;
}
