{
  Shell parent=getParent();
  shell=new Shell(parent,SWT.DIALOG_TRIM | SWT.RESIZE | SWT.MAX| SWT.MIN);
  props.setLook(shell);
  int middle=props.getMiddlePct();
  int margin=Const.MARGIN;
  FormLayout formLayout=new FormLayout();
  formLayout.marginWidth=Const.FORM_MARGIN;
  formLayout.marginHeight=Const.FORM_MARGIN;
  shell.setText("Profile information");
  shell.setLayout(formLayout);
  wlName=new Label(shell,SWT.RIGHT);
  props.setLook(wlName);
  wlName.setText("Name: ");
  wName=new Text(shell,SWT.SINGLE | SWT.LEFT | SWT.BORDER);
  props.setLook(wName);
  wlDesc=new Label(shell,SWT.RIGHT);
  props.setLook(wlDesc);
  wlDesc.setText("Description: ");
  wDesc=new Text(shell,SWT.SINGLE | SWT.LEFT | SWT.BORDER);
  props.setLook(wDesc);
  wlPermission=new Label(shell,SWT.RIGHT);
  wlPermission.setText("Permissions: ");
  props.setLook(wlPermission);
  wPermission=new List(shell,SWT.BORDER | SWT.READ_ONLY | SWT.MULTI);
  props.setLook(wPermission);
  wOK=new Button(shell,SWT.PUSH);
  wOK.setText(" &OK ");
  wCancel=new Button(shell,SWT.PUSH);
  wCancel.setText(" &Cancel ");
  FormData fdlName=new FormData();
  FormData fdName=new FormData();
  FormData fdlDesc=new FormData();
  FormData fdDesc=new FormData();
  FormData fdlPermission=new FormData();
  FormData fdPermission=new FormData();
  FormData fdOK=new FormData();
  FormData fdCancel=new FormData();
  fdlName.left=new FormAttachment(0,0);
  fdlName.right=new FormAttachment(middle,-margin);
  fdlName.top=new FormAttachment(0,0);
  wlName.setLayoutData(fdlName);
  fdName.left=new FormAttachment(middle,0);
  fdName.right=new FormAttachment(100,0);
  fdName.top=new FormAttachment(0,0);
  wName.setLayoutData(fdName);
  fdlDesc.left=new FormAttachment(0,0);
  fdlDesc.right=new FormAttachment(middle,-margin);
  fdlDesc.top=new FormAttachment(wName,0);
  wlDesc.setLayoutData(fdlDesc);
  fdDesc.left=new FormAttachment(middle,0);
  fdDesc.right=new FormAttachment(100,0);
  fdDesc.top=new FormAttachment(wName,0);
  wDesc.setLayoutData(fdDesc);
  fdlPermission.left=new FormAttachment(0,0);
  fdlPermission.right=new FormAttachment(middle,-margin);
  fdlPermission.top=new FormAttachment(wDesc,margin);
  wlPermission.setLayoutData(fdlPermission);
  fdPermission.left=new FormAttachment(middle,0);
  fdPermission.right=new FormAttachment(100,0);
  fdPermission.top=new FormAttachment(wDesc,margin);
  wPermission.setLayoutData(fdPermission);
  fdOK.left=new FormAttachment(45,0);
  fdOK.top=new FormAttachment(wPermission,margin * 3);
  wOK.setLayoutData(fdOK);
  fdCancel.left=new FormAttachment(wOK,margin);
  fdCancel.top=new FormAttachment(wPermission,margin * 3);
  wCancel.setLayoutData(fdCancel);
  wCancel.addListener(SWT.Selection,new Listener(){
    public void handleEvent(    Event e){
      cancel();
    }
  }
);
  wOK.addListener(SWT.Selection,new Listener(){
    public void handleEvent(    Event e){
      handleOK();
    }
  }
);
  SelectionAdapter selAdapter=new SelectionAdapter(){
    public void widgetDefaultSelected(    SelectionEvent e){
      handleOK();
    }
  }
;
  wName.addSelectionListener(selAdapter);
  ;
  wDesc.addSelectionListener(selAdapter);
  ;
  shell.addShellListener(new ShellAdapter(){
    public void shellClosed(    ShellEvent e){
      cancel();
    }
  }
);
  getData();
  WindowProperty winprop=props.getScreen(shell.getText());
  if (winprop != null)   winprop.setShell(shell);
 else   shell.pack();
  shell.open();
  Display display=parent.getDisplay();
  while (!shell.isDisposed()) {
    if (!display.readAndDispatch())     display.sleep();
  }
  return profileName;
}
