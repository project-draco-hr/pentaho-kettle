{
  Set<String> existedStepNames=convertToUpperCaseSet(data.transMeta.getStepNames());
  Set<String> usedStepNames=getUsedStepsForReferencendTransformation();
  Map<TargetStepAttribute,SourceStepField> targetMap=meta.getTargetSourceMapping();
  Set<String> alreadyMarked=new HashSet<String>();
  for (  TargetStepAttribute currentTarget : targetMap.keySet()) {
    if (!usedStepNames.contains(currentTarget.getStepname().toUpperCase()) && !alreadyMarked.contains(currentTarget.getStepname())) {
      alreadyMarked.add(currentTarget.getStepname());
      if (existedStepNames.contains(currentTarget.getStepname().toUpperCase())) {
        logError(BaseMessages.getString(PKG,"MetaInject.TargetStepIsNotUsed.Message",currentTarget.getStepname(),data.transMeta.getName()));
      }
 else {
        logError(BaseMessages.getString(PKG,"MetaInject.TargetStepIsNotDefined.Message",currentTarget.getStepname(),data.transMeta.getName()));
      }
    }
  }
  return alreadyMarked.isEmpty();
}
