{
  try {
    if (getDatabaseMetaData().supportsTransactions()) {
      if (connection != null)       connection.rollback();
    }
 else {
      log.logDetailed(toString(),"No rollback possible on database connection [" + toString() + "]");
    }
  }
 catch (  SQLException e) {
    throw new KettleDatabaseException("Error performing rollback on connection",e);
  }
}
