{
  try {
    log.logDebug(toString(),"Checking if table [" + tablename + "] exists!");
    if (getDatabaseMetaData() != null) {
      ResultSet alltables=getDatabaseMetaData().getTables(null,null,"%",new String[]{"TABLE","VIEW","SYNONYM"});
      boolean found=false;
      if (alltables != null) {
        while (alltables.next() && !found) {
          String name=alltables.getString("TABLE_NAME");
          if (tablename.equalsIgnoreCase(name)) {
            log.logDebug(toString(),"table [" + tablename + "] was found!");
            found=true;
          }
        }
        alltables.close();
        return found;
      }
 else {
        throw new KettleDatabaseException("Unable to read table-names from the database meta-data.");
      }
    }
 else {
      throw new KettleDatabaseException("Unable to get database meta-data from the database.");
    }
  }
 catch (  Exception e) {
    throw new KettleDatabaseException("Unable to check if table [" + tablename + "] exists on connection ["+ databaseMeta.getName()+ "]",e);
  }
}
