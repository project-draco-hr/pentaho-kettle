{
  try {
    tempVal=new String(ch,start,length);
    if (tempVal.equals("1")) {
      System.out.println("tempVal=" + tempVal);
    }
    if (this.fieldToFill >= 0) {
      if (tempVal == null) {
        tempVal="";
      }
      XMLInputSaxField xmlInputField=(XMLInputSaxField)fields.get(fieldToFill);
switch (xmlInputField.getTrimType()) {
case XMLInputSaxField.TYPE_TRIM_LEFT:
        tempVal=Const.ltrim(tempVal);
      break;
case XMLInputSaxField.TYPE_TRIM_RIGHT:
    tempVal=Const.rtrim(tempVal);
  break;
case XMLInputSaxField.TYPE_TRIM_BOTH:
tempVal=Const.trim(tempVal);
break;
default :
break;
}
ValueMetaInterface targetValueMeta=data.outputRowMeta.getValueMeta(fieldToFill);
ValueMetaInterface sourceValueMeta=data.convertRowMeta.getValueMeta(fieldToFill);
row[fieldToFill]=targetValueMeta.convertData(sourceValueMeta,tempVal);
if (xmlInputField.isRepeated()) {
if (row[fieldToFill] == null && data.previousRow != null) {
Object previous=data.previousRow[fieldToFill];
row[fieldToFill]=previous;
}
}
}
fieldToFill=-1;
}
 catch (KettleValueException e) {
LogWriter.getInstance().logError(toString(),Const.getStackTracker(e));
}
}
