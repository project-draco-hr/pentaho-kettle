{
  TransMeta transMeta=new TransMeta();
  transMeta.setName("row generatortest");
  transMeta.addDatabase(new DatabaseMeta(GREENPLUM_DATABASE_CONNECTION));
  PluginRegistry registry=PluginRegistry.getInstance();
  if (registry == null) {
    throw new Exception("Plugin registry is null.  Make sure that the Kettle environment was initialized.");
  }
  String rowGeneratorStepname="row generator step";
  RowGeneratorMeta rowGeneratorMeta=new RowGeneratorMeta();
  String rowGeneratorPid=registry.getPluginId(StepPluginType.class,rowGeneratorMeta);
  StepMeta rowGeneratorStep=new StepMeta(rowGeneratorPid,rowGeneratorStepname,(StepMetaInterface)rowGeneratorMeta);
  transMeta.addStep(rowGeneratorStep);
  String fieldName[]={"string","boolean","integer"};
  String type[]={"String","Boolean","Integer"};
  String value[]={"string_value","true","20"};
  String fieldFormat[]={"","",""};
  String group[]={"","",""};
  String decimal[]={"","",""};
  int intDummies[]={-1,-1,-1};
  rowGeneratorMeta.setDefault();
  rowGeneratorMeta.setFieldName(fieldName);
  rowGeneratorMeta.setFieldType(type);
  rowGeneratorMeta.setValue(value);
  rowGeneratorMeta.setFieldLength(intDummies);
  rowGeneratorMeta.setFieldPrecision(intDummies);
  rowGeneratorMeta.setRowLimit("3");
  rowGeneratorMeta.setFieldFormat(fieldFormat);
  rowGeneratorMeta.setGroup(group);
  rowGeneratorMeta.setDecimal(decimal);
  GPLoadMeta gpLoadMeta=new GPLoadMeta();
  String dummyPid=registry.getPluginId(StepPluginType.class,gpLoadMeta);
  StepMeta gpLoadStepMeta=new StepMeta(dummyPid,gpLoadStepname,(StepMetaInterface)gpLoadMeta);
  transMeta.addStep(gpLoadStepMeta);
  TransHopMeta rowGeneratorGPLoadHop=new TransHopMeta(rowGeneratorStep,gpLoadStepMeta);
  transMeta.addTransHop(rowGeneratorGPLoadHop);
  return transMeta;
}
