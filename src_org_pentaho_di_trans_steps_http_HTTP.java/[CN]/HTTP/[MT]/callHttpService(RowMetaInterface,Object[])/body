{
  String url=determineUrl(rowMeta,rowData);
  try {
    if (log.isDetailed())     logDetailed(Messages.getString("HTTP.Log.Connecting",url));
    HttpClient httpclient=new HttpClient();
    HttpMethod method=new GetMethod(environmentSubstitute(url));
    try {
      int result=httpclient.executeMethod(method);
      if (log.isDebug())       log.logDebug(toString(),Messages.getString("HTTP.Log.ResponseStatusCode","" + result));
      InputStream inputStream=method.getResponseBodyAsStream();
      StringBuffer bodyBuffer=new StringBuffer();
      int c;
      while ((c=inputStream.read()) != -1)       bodyBuffer.append((char)c);
      inputStream.close();
      String body=bodyBuffer.toString();
      if (log.isDebug())       log.logDebug(toString(),"Response body: " + body);
      return RowDataUtil.addValueData(rowData,rowMeta.size(),body);
    }
  finally {
      method.releaseConnection();
    }
  }
 catch (  Exception e) {
    throw new KettleException(Messages.getString("HTTP.Log.UnableGetResult",url),e);
  }
}
