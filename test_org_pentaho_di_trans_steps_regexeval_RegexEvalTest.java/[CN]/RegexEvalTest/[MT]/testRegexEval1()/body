{
  TransMeta transMeta=new TransMeta();
  transMeta.setName("regexeval1");
  RegexEvalMeta regexEvalMeta=new RegexEvalMeta();
  regexEvalMeta.setScript("[abc]*");
  regexEvalMeta.setMatcher("field1");
  regexEvalMeta.setResultFieldName("res");
  StepMeta injectorStep=createInjectorStepForTrans("injector step",transMeta);
  StepMeta dummyStep=createConnectedDummyStepForTrans("dummy step",transMeta,injectorStep);
  StepMeta regexEvalStep=createConnectedStepForTrans("regexeval step",regexEvalMeta,transMeta,dummyStep);
  Trans trans=new Trans(transMeta);
  trans.prepareExecution(null);
  RowProducer rp=trans.addRowProducer(injectorStep.getName(),0);
  RowStepCollector rc=new RowStepCollector();
  trans.getStepInterface(regexEvalStep.getName(),0).addRowListener(rc);
  trans.startThreads();
  feedSourceRows(rp,createSourceData());
  trans.waitUntilFinished();
  checkRows(createResultData1(),rc.getRowsWritten());
}
