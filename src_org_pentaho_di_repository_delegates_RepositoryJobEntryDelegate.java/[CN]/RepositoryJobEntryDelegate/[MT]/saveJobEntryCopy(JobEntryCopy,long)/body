{
  try {
    JobEntryInterface entry=copy.getEntry();
    long id_jobentry=getJobEntryID(copy.getName(),id_job);
    if (id_jobentry <= 0) {
      entry.saveRep(repository,id_job);
      id_jobentry=entry.getID();
    }
    long id_jobentry_type=getJobEntryTypeID(entry.getTypeId());
    if (id_jobentry_type < 0) {
      repository.updateJobEntryTypes();
      id_jobentry_type=getJobEntryTypeID(entry.getTypeId());
    }
    copy.setID(insertJobEntryCopy(id_job,id_jobentry,id_jobentry_type,copy.getNr(),copy.getLocation().x,copy.getLocation().y,copy.isDrawn(),copy.isLaunchingInParallel()));
  }
 catch (  KettleDatabaseException dbe) {
    throw new KettleException("Unable to save job entry copy to the repository, id_job=" + id_job,dbe);
  }
}
