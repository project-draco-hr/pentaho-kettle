{
  meta=(RegexEvalMeta)smi;
  data=(RegexEvalData)sdi;
  if (super.init(smi,sdi)) {
    StringBuilder options=new StringBuilder();
    if (meta.isCaseInsensitiveFlagSet()) {
      options.append("(?i)");
    }
    if (meta.isCommentFlagSet()) {
      options.append("(?x)");
    }
    if (meta.isDotAllFlagSet()) {
      options.append("(?s)");
    }
    if (meta.isMultilineFlagSet()) {
      options.append("(?m)");
    }
    if (meta.isUnicodeFlagSet()) {
      options.append("(?u)");
    }
    if (meta.isUnixLineEndingsFlagSet()) {
      options.append("(?d)");
    }
    String regularexpression=meta.getScript();
    if (meta.isUseVariableInterpolationFlagSet()) {
      regularexpression=environmentSubstitute(meta.getScript());
    }
    if (log.isDetailed())     logDetailed(Messages.getString("RegexEval.Log.Regexp") + " " + options+ regularexpression);
    if (meta.isCanonicalEqualityFlagSet()) {
      data.pattern=Pattern.compile(options + regularexpression,Pattern.CANON_EQ);
    }
 else {
      data.pattern=Pattern.compile(options + regularexpression);
    }
    return true;
  }
  return false;
}
