{
  try {
    String sql="SELECT * FROM " + quoteTable(KettleDatabaseRepository.TABLE_R_TRANS_LOCK) + " WHERE "+ quote(KettleDatabaseRepository.FIELD_TRANS_LOCK_ID_TRANSFORMATION)+ " = "+ id_transformation;
    RowMetaAndData row=repository.connectionDelegate.getOneRow(sql);
    if (row == null || row.getData() == null || row.getRowMeta() == null) {
      return null;
    }
    return getRepositoryLock(row.getRowMeta(),row.getData());
  }
 catch (  Exception e) {
    throw new KettleDatabaseException("Unable to get lock state from transformation with id=" + id_transformation,e);
  }
}
