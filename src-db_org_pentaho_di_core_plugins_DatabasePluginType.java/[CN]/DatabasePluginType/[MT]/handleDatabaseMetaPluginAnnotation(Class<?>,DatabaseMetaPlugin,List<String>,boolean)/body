{
  String[] ids=new String[]{databaseMetaPlugin.type()};
  if (ids.length == 1 && Const.isEmpty(ids[0])) {
    throw new KettlePluginException("No ID specified for plugin with class: " + clazz.getName());
  }
  String name=databaseMetaPlugin.typeDescription();
  String description=null;
  String category=null;
  Map<Class<?>,String> classMap=new HashMap<Class<?>,String>();
  classMap.put(clazz.getClass(),clazz.getName());
  PluginInterface plugin=new Plugin(ids,this.getClass(),clazz.getClass(),category,name,description,null,false,nativeStep,classMap,libraries,null);
  registry.registerPlugin(this.getClass(),plugin);
}
