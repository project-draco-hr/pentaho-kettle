{
  super(composite,SWT.NONE);
  this.toolTipText=toolTipText;
  props.setLook(this);
  FormLayout formLayout=new FormLayout();
  formLayout.marginWidth=0;
  formLayout.marginHeight=0;
  formLayout.marginTop=0;
  formLayout.marginBottom=0;
  this.setLayout(formLayout);
  decoratedField=new DecoratedField(this,flags,new TextControlCreator());
  Text wText=(Text)decoratedField.getControl();
  props.setLook(wText);
  wText.addModifyListener(getModifyListenerTooltipText(wText));
  SelectionAdapter lsVar=VariableButtonListenerFactory.getSelectionAdapter(this,wText);
  wText.addKeyListener(getControlSpaceKeyListener(wText,lsVar));
  FieldDecorationRegistry registry=FieldDecorationRegistry.getDefault();
  registry.registerFieldDecoration("variable.field","Enter CTRL-SPACE to insert a variable from a selection",GUIResource.getInstance().getImageVariable());
  decoratedField.addFieldDecoration(registry.getFieldDecoration("variable.field"),SWT.TOP | SWT.RIGHT,false);
  FormData fdText=new FormData();
  fdText.top=new FormAttachment(0,0);
  fdText.left=new FormAttachment(0,0);
  fdText.right=new FormAttachment(100,0);
  decoratedField.getLayoutControl().setLayoutData(fdText);
}
