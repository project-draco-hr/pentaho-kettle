{
  String filename=resourceNamingInterface.nameResource(getName(),getDirectory().getPath(),"ktr");
  ResourceDefinition definition=definitions.get(filename);
  if (definition == null) {
    TransMeta transMeta=(TransMeta)this.clone();
    for (    StepMeta stepMeta : transMeta.getSteps()) {
      stepMeta.exportResources(space,definitions,resourceNamingInterface);
    }
    transMeta.setFilename(filename);
    String transMetaContent=transMeta.getXML();
    definition=new ResourceDefinition(filename,transMetaContent);
    definitions.put(filename,definition);
  }
  return filename;
}
