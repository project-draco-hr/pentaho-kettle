{
  Rectangle bounds=canvas.getBounds();
  if (bounds.width <= 0 || bounds.height <= 0)   return;
  if (transGraph.trans == null)   return;
  List<MetricsDuration> durations=MetricsUtil.getAllDurations(transGraph.trans.getLogChannelId());
  Collections.sort(durations,new Comparator<MetricsDuration>(){
    @Override public int compare(    MetricsDuration o1,    MetricsDuration o2){
      return o1.getDate().compareTo(o2.getDate());
    }
  }
);
  SWTGC gc=new SWTGC(Display.getCurrent(),new Point(bounds.width,bounds.height),PropsUI.getInstance().getIconSize());
  MetricsPainter painter=new MetricsPainter(gc);
  drawAreas=painter.paint(durations);
  image=(Image)gc.getImage();
  canvas.redraw();
}
