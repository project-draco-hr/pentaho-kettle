{
  try {
    URL xulFile=getAndValidate(menuFile);
    Document doc=XMLHandler.loadXMLFile(xulFile);
    MenuBar menuBar=MenuHelper.createMenuBarFromXul(doc,shell,xulMessages);
    shell.setMenuBar((org.eclipse.swt.widgets.Menu)menuBar.getNativeObject());
    return menuBar;
  }
 catch (  IOException e) {
    throw new KettleException(org.pentaho.di.ui.spoon.Messages.getString("Spoon.Exception.XULFileNotFound.Message",menuFile));
  }
}
