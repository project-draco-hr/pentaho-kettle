{
  try {
    if (rep != null) {
      RepositoryDirectory repdir=rep.getDirectoryTree().findDirectory(dirname);
      if (repdir != null) {
        transMeta=new TransMeta(rep,name,repdir);
      }
 else {
        throw new KettleException(Messages.getString("Trans.Exception.UnableToLoadTransformation",name,dirname));
      }
    }
 else {
      transMeta=new TransMeta(filename);
    }
  }
 catch (  KettleException e) {
    throw new KettleException(Messages.getString("Trans.Exception.UnableToOpenTransformation",name),e);
  }
}
