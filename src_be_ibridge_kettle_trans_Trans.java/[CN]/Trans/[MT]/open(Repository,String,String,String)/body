{
  try {
    if (rep != null) {
      RepositoryDirectory repdir=rep.getDirectoryTree().findDirectory(dirname);
      if (repdir != null) {
        transMeta=new TransMeta(rep,name,repdir);
      }
 else {
        throw new KettleException("Unable to load transformation [" + name + "] because directory could not be found: ["+ dirname+ "]");
      }
    }
 else {
      transMeta=new TransMeta(filename);
    }
  }
 catch (  KettleException e) {
    throw new KettleException("Transformation was unable to open [" + name + "]",e);
  }
}
