{
  TransDelegate transDelegate=new TransDelegate(repository,repo);
  JobDelegate jobDelegate=new JobDelegate(repository,repo);
  FieldUtils.writeField(repository,"transDelegate",transDelegate,true);
  FieldUtils.writeField(repository,"jobDelegate",jobDelegate,true);
  RepositoryElementInterface element=elementProvider.call();
  RepositoryDirectoryInterface directory=repository.findDirectory(element.getRepositoryDirectory().getPath());
  element.setRepositoryDirectory(directory);
  repository.save(element,null,null);
  assertNotNull("Element was saved",element.getObjectId());
  RepositoryObject information;
  information=repository.getObjectInformation(element.getObjectId(),element.getRepositoryElementType());
  assertNotNull(information);
  assertFalse(information.isDeleted());
  repository.deleteTransformation(element.getObjectId());
  assertNotNull("Element was moved to Trash",repo.getFileById(element.getObjectId().getId()));
  information=repository.getObjectInformation(element.getObjectId(),element.getRepositoryElementType());
  assertNotNull(information);
  assertTrue(information.isDeleted());
}
