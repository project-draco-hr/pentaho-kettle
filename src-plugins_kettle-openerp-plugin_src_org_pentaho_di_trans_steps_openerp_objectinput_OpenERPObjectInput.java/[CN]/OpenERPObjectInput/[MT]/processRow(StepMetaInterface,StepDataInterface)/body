{
  this.logBasic("Getting Field Row Meta.");
  this.logBasic("Getting Rows.");
  if (first == true) {
    first=false;
    try {
      final RowMetaInterface rowMeta=data.helper.getFieldRowMeta(meta.getMappings());
      ArrayList<FieldMapping> allFields=data.helper.getDefaultFieldMappings(meta.getModelName());
      FilterCollection filter=new FilterCollection();
      for (int i=0; i < meta.getFilterList().size(); i++) {
        ReadFilter filterItem=meta.getFilterList().get(i);
        if (filterItem.getOperator().equalsIgnoreCase("not"))         filter.add(FilterOperator.NOT);
 else         if (filterItem.getOperator().equalsIgnoreCase("or"))         filter.add(FilterOperator.OR);
        FieldMapping fld=null;
        for (int j=0; j < allFields.size(); j++)         if (allFields.get(j).source_field.equals(filterItem.getFieldName()) && allFields.get(j).source_index <= 0) {
          fld=allFields.get(j);
          break;
        }
        Object[] result=data.helper.formatFilterValue(filterItem.getFieldName(),filterItem.getComparator(),filterItem.getValue(),fld);
        filter.add(filterItem.getFieldName(),result[0].toString(),result[1]);
        this.logBasic("Setting filter: [" + filterItem.getFieldName() + ","+ result[0].toString()+ ","+ result[1].toString()+ "]");
      }
      data.helper.getModelData(meta.getModelName(),filter,meta.getReadBatchSize(),meta.getMappings(),new RowsReadListener(){
        @Override public void rowsRead(        RowCollection rows){
          for (          Row row : rows) {
            try {
              putRow(row,rowMeta);
            }
 catch (            KettleStepException e) {
              logError("An error occurred, processing will be stopped: " + e.getMessage());
              setErrors(1);
              stopAll();
            }
            incrementLinesInput();
          }
        }
      }
);
    }
 catch (    Exception e) {
      throw new KettleException(e.getMessage());
    }
  }
  this.logBasic("Process Ended.");
  setOutputDone();
  return false;
}
