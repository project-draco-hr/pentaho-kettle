{
  List<JobMeta> jobs=repository.loadJobs(monitor,log,files,true);
  Iterator<JobMeta> jobsMeta=jobs.iterator();
  Iterator<RepositoryFile> filesIter=files.iterator();
  while ((monitor == null || !monitor.isCanceled()) && jobsMeta.hasNext()) {
    JobMeta meta=jobsMeta.next();
    RepositoryFile file=filesIter.next();
    try {
      if (toExport(meta)) {
        writer.write(meta.getXML() + Const.CR);
      }
    }
 catch (    Exception ex) {
      String message="An error occured while saving job [" + meta.getName() + "] from ["+ file.getPath()+ "]";
      log.logError(message,ex);
    }
  }
}
