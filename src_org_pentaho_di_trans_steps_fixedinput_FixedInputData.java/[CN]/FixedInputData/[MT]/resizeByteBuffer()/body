{
  bufferSize=endBuffer - startBuffer;
  int newSize=bufferSize + preferredBufferSize;
  byte[] newByteBuffer=new byte[newSize];
  for (int i=0; i < bufferSize; i++) {
    newByteBuffer[i]=byteBuffer[i + startBuffer];
  }
  byteBuffer=newByteBuffer;
  startBuffer=0;
  endBuffer=bufferSize;
}
